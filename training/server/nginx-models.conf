server {
    listen 80;
    server_name _;

    # Serve GGUF models and manifest
    location /models/ {
        alias /var/www/mivalta-models/;
        autoindex off;

        # Large file download optimizations
        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;

        # Allow large downloads without timeout
        keepalive_timeout 300;
        send_timeout 300;

        # CORS (so the app can fetch from any origin)
        add_header Access-Control-Allow-Origin *;
        add_header Access-Control-Allow-Methods "GET, HEAD";

        # MIME type for GGUF files
        types {
            application/octet-stream gguf;
            application/json json;
        }
    }
}
