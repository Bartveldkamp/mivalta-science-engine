"""
GATC Tables â€” Auto-generated from Coach Cards

DO NOT EDIT THIS FILE DIRECTLY.
Edit the source MD cards and re-run compiler.
"""

from typing import Dict, Any, List, Optional


class Tables:
    """
    Knowledge tables for GATC engine.
    Generated from coach cards by compiler.py
    """

    def __init__(self):
        """Load all tables from compiled data."""
        self._tables = {}
        self._init_tables()

    def _init_tables(self):
        """Initialize all tables."""
        self._tables["cycling_v4__sport_characteristics"] = [{'parameter': 'sport_family', 'value': 'cycling', 'notes': 'endurance_low_impact'}, {'parameter': 'recovery_multiplier', 'value': 0.95, 'notes': 'low_eccentric_stress'}, {'parameter': 'measurement_primary', 'value': 'power', 'notes': 'watts'}, {'parameter': 'measurement_secondary', 'value': 'hr', 'notes': 'when_power_unavailable'}, {'parameter': 'indoor_ftp_adjustment', 'value': 0.92, 'notes': 'heat_boredom_factor'}]
        self._tables["cycling_v4__power_zones"] = [{'zone': 'R', 'name': 'recovery', 'ftp_pct_min': 0, 'ftp_pct_max': 45, 'duration_min': 15, 'duration_max_min': 30, 'ntiz_credit': False}, {'zone': 'Z1', 'name': 'very_light', 'ftp_pct_min': 45, 'ftp_pct_max': 55, 'duration_min': 60, 'duration_max_min': 999, 'ntiz_credit': True}, {'zone': 'Z2', 'name': 'aerobic', 'ftp_pct_min': 55, 'ftp_pct_max': 75, 'duration_min': 60, 'duration_max_min': 360, 'ntiz_credit': True}, {'zone': 'Z3', 'name': 'tempo', 'ftp_pct_min': 76, 'ftp_pct_max': 90, 'duration_min': 30, 'duration_max_min': 90, 'ntiz_credit': True}, {'zone': 'Z4', 'name': 'threshold', 'ftp_pct_min': 91, 'ftp_pct_max': 105, 'duration_min': 10, 'duration_max_min': 60, 'ntiz_credit': True}, {'zone': 'Z5', 'name': 'vo2max', 'ftp_pct_min': 106, 'ftp_pct_max': 120, 'duration_min': 3, 'duration_max_min': 8, 'ntiz_credit': True}, {'zone': 'Z6', 'name': 'anaerobic', 'ftp_pct_min': 121, 'ftp_pct_max': 150, 'duration_min': 0.5, 'duration_max_min': 2, 'ntiz_credit': True}, {'zone': 'Z7', 'name': 'max_anaerobic', 'ftp_pct_min': 150, 'ftp_pct_max': 200, 'duration_min': 0.2, 'duration_max_min': 0.5, 'ntiz_credit': True}, {'zone': 'Z8', 'name': 'sprint', 'ftp_pct_min': 200, 'ftp_pct_max': 999, 'duration_min': 0, 'duration_max_min': 0.2, 'ntiz_credit': True}]
        self._tables["cycling_v4__periodization_by_goal"] = [{'goal': 'century', 'min_mesos': 4, 'optimal_mesos': 8, 'base_mesos_min': 3, 'base_mesos_max': 5, 'build_mesos_min': 2, 'build_mesos_max': 3, 'peak_mesos': 1, 'taper_days': 14}, {'goal': 'gran_fondo', 'min_mesos': 3, 'optimal_mesos': 6, 'base_mesos_min': 2, 'base_mesos_max': 3, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 10}, {'goal': 'crit', 'min_mesos': 2, 'optimal_mesos': 4, 'base_mesos_min': 1, 'base_mesos_max': 2, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 7}, {'goal': 'road_race', 'min_mesos': 3, 'optimal_mesos': 6, 'base_mesos_min': 2, 'base_mesos_max': 3, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 10}, {'goal': 'time_trial', 'min_mesos': 2, 'optimal_mesos': 5, 'base_mesos_min': 1, 'base_mesos_max': 2, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 7}, {'goal': 'general_fitness', 'min_mesos': 2, 'optimal_mesos': 999, 'base_mesos_min': 1, 'base_mesos_max': 999, 'build_mesos_min': 1, 'build_mesos_max': 999, 'peak_mesos': 0, 'taper_days': 0}]
        self._tables["cycling_v4__meso_load_pattern"] = [{'slice': 1, 'load_pct': 90, 'purpose': 'establish_load', 'is_deload': False}, {'slice': 2, 'load_pct': 100, 'purpose': 'progressive_overload', 'is_deload': False}, {'slice': 3, 'load_pct': 110, 'purpose': 'maximum_overload', 'is_deload': False}, {'slice': 4, 'load_pct': 55, 'purpose': 'recovery_supercompensation', 'is_deload': True}]
        self._tables["cycling_v4__recovery_spacing"] = [{'from_zone': 'R', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'restoration_no_blocking'}, {'from_zone': 'Z1', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'easy_aerobic_no_blocking'}, {'from_zone': 'Z2', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'easy_aerobic_no_blocking'}, {'from_zone': 'Z3', 'to_intensity_min': 24, 'to_easy_min': 0, 'notes': 'tempo_light_stress'}, {'from_zone': 'Z4', 'to_intensity_min': 44, 'to_easy_min': 8, 'notes': 'threshold_low_eccentric'}, {'from_zone': 'Z5', 'to_intensity_min': 66, 'to_easy_min': 20, 'notes': 'vo2max_low_eccentric'}, {'from_zone': 'Z6', 'to_intensity_min': 66, 'to_easy_min': 20, 'notes': 'anaerobic_low_eccentric'}, {'from_zone': 'Z7', 'to_intensity_min': 88, 'to_easy_min': 20, 'notes': 'max_anaerobic_neuromuscular'}, {'from_zone': 'Z8', 'to_intensity_min': 20, 'to_easy_min': 8, 'notes': 'sprints_low_volume_ok'}]
        self._tables["cycling_v4__intensity_limits_meso"] = [{'level': 'beginner', 'z3_max_sessions': 0, 'z4_max_sessions': 0, 'z5_max_sessions': 0, 'z6_z7_max_sessions': 0, 'z8_max_sessions': 0, 'total_intensity_max': 0}, {'level': 'novice', 'z3_max_sessions': 4, 'z4_max_sessions': 4, 'z5_max_sessions': 2, 'z6_z7_max_sessions': 0, 'z8_max_sessions': 4, 'total_intensity_max': 10}, {'level': 'intermediate', 'z3_max_sessions': 8, 'z4_max_sessions': 8, 'z5_max_sessions': 4, 'z6_z7_max_sessions': 2, 'z8_max_sessions': 8, 'total_intensity_max': 16}, {'level': 'advanced', 'z3_max_sessions': 12, 'z4_max_sessions': 10, 'z5_max_sessions': 6, 'z6_z7_max_sessions': 4, 'z8_max_sessions': 10, 'total_intensity_max': 20}, {'level': 'elite', 'z3_max_sessions': 16, 'z4_max_sessions': 12, 'z5_max_sessions': 8, 'z6_z7_max_sessions': 6, 'z8_max_sessions': 12, 'total_intensity_max': 24}]
        self._tables["cycling_v4__ftp_tests"] = [{'protocol': '20_minute', 'test_duration_min': 20, 'ftp_multiplier': 0.95, 'reliability': 'high', 'best_for': 'standard_outdoor_indoor'}, {'protocol': 'ramp', 'test_duration_min': 10, 'ftp_multiplier': 0.75, 'reliability': 'moderate', 'best_for': 'quick_indoor_estimate'}, {'protocol': '8_minute', 'test_duration_min': 16, 'ftp_multiplier': 0.9, 'reliability': 'moderate', 'best_for': 'alternative_when_20_too_hard'}, {'protocol': '3_minute_allout', 'test_duration_min': 3, 'ftp_multiplier': 1.0, 'reliability': 'high', 'best_for': 'cp_w_prime_testing'}]
        self._tables["cycling_v4__z4_sessions"] = [{'structure': '2x20min', 'intervals': 2, 'work_min': 20, 'rest_min': 5, 'total_z4_min': 40, 'tolerance_min': 1.2, 'best_for': 'ftp_development'}, {'structure': '3x15min', 'intervals': 3, 'work_min': 15, 'rest_min': 5, 'total_z4_min': 45, 'tolerance_min': 1.1, 'best_for': 'sustained_power'}, {'structure': '4x10min', 'intervals': 4, 'work_min': 10, 'rest_min': 4, 'total_z4_min': 40, 'tolerance_min': 1.0, 'best_for': 'standard_threshold'}, {'structure': '5x8min', 'intervals': 5, 'work_min': 8, 'rest_min': 4, 'total_z4_min': 40, 'tolerance_min': 0.9, 'best_for': 'threshold_intro'}, {'structure': 'over_unders', 'intervals': 4, 'work_min': 12, 'rest_min': 4, 'total_z4_min': 48, 'tolerance_min': 1.1, 'best_for': 'race_simulation'}]
        self._tables["cycling_v4__z5_sessions"] = [{'structure': '3x5min', 'intervals': 3, 'work_min': 5, 'rest_min': 5, 'total_z5_min': 15, 'tolerance_min': 1.2, 'best_for': 'vo2max_development'}, {'structure': '4x4min', 'intervals': 4, 'work_min': 4, 'rest_min': 4, 'total_z5_min': 16, 'tolerance_min': 1.0, 'best_for': 'classic_vo2max'}, {'structure': '5x3min', 'intervals': 5, 'work_min': 3, 'rest_min': 3, 'total_z5_min': 15, 'tolerance_min': 0.9, 'best_for': 'vo2max_intro'}, {'structure': '6x2.5min', 'intervals': 6, 'work_min': 2.5, 'rest_min': 2.5, 'total_z5_min': 15, 'tolerance_min': 0.8, 'best_for': 'high_frequency'}, {'structure': 'billats', 'intervals': 8, 'work_min': 2, 'rest_min': 2, 'total_z5_min': 16, 'tolerance_min': 1.0, 'best_for': '30_30_style'}]
        self._tables["cycling_v4__anaerobic_sessions"] = [{'zone': 'Z6', 'structure': '6x90s', 'intervals': 6, 'work_sec': 90, 'rest_min': 3, 'total_min': 9, 'tolerance_min': 1.0}, {'zone': 'Z6', 'structure': '8x60s', 'intervals': 8, 'work_sec': 60, 'rest_min': 2.5, 'total_min': 8, 'tolerance_min': 0.9}, {'zone': 'Z7', 'structure': '6x20s', 'intervals': 6, 'work_sec': 20, 'rest_min': 3, 'total_min': 2, 'tolerance_min': 1.0}, {'zone': 'Z7', 'structure': '8x15s', 'intervals': 8, 'work_sec': 15, 'rest_min': 2.5, 'total_min': 2, 'tolerance_min': 0.9}, {'zone': 'Z8', 'structure': '6x8s', 'intervals': 6, 'work_sec': 8, 'rest_min': 3, 'total_min': 0.8, 'tolerance_min': 1.0}, {'zone': 'Z8', 'structure': '10x5s', 'intervals': 10, 'work_sec': 5, 'rest_min': 2, 'total_min': 0.8, 'tolerance_min': 0.9}]
        self._tables["cycling_v4__cadence"] = [{'zone': 'R', 'cadence_min': 80, 'cadence_max': 90, 'notes': 'very_light_spinning'}, {'zone': 'Z1', 'cadence_min': 85, 'cadence_max': 95, 'notes': 'comfortable_sustainable'}, {'zone': 'Z2', 'cadence_min': 85, 'cadence_max': 95, 'notes': 'efficient_endurance'}, {'zone': 'Z3', 'cadence_min': 85, 'cadence_max': 95, 'notes': 'sustained_effort'}, {'zone': 'Z4', 'cadence_min': 90, 'cadence_max': 100, 'notes': 'efficient_threshold'}, {'zone': 'Z5', 'cadence_min': 95, 'cadence_max': 105, 'notes': 'reduces_muscular_fatigue'}, {'zone': 'Z6', 'cadence_min': 100, 'cadence_max': 110, 'notes': 'high_power_efficiency'}, {'zone': 'Z7', 'cadence_min': 105, 'cadence_max': 120, 'notes': 'max_power_cadence'}, {'zone': 'Z8', 'cadence_min': 110, 'cadence_max': 130, 'notes': 'peak_neuromuscular'}]
        self._tables["cycling_v4__indoor_adjustment"] = [{'metric': 'ftp', 'outdoor_baseline': 1.0, 'indoor_multiplier': 0.92, 'notes': 'heat_boredom_factor'}, {'metric': 'rpe', 'outdoor_baseline': 1.0, 'indoor_multiplier': 1.1, 'notes': 'feels_harder_indoors'}, {'metric': 'cooling_fans', 'outdoor_baseline': 0, 'indoor_multiplier': 2, 'notes': 'minimum_fans_required'}]
        self._tables["cycling_v4__event_zone_demands"] = [{'event': 'century', 'z1_pct': 12, 'z2_pct': 80, 'z3_pct': 3, 'z4_pct': 4, 'z5_pct': 1, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic', 'source': 'Seiler_2010'}, {'event': 'gran_fondo', 'z1_pct': 10, 'z2_pct': 75, 'z3_pct': 5, 'z4_pct': 7, 'z5_pct': 2, 'z6_pct': 1, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_threshold', 'source': 'Coggan_Allen'}, {'event': 'road_race', 'z1_pct': 8, 'z2_pct': 60, 'z3_pct': 8, 'z4_pct': 12, 'z5_pct': 8, 'z6_pct': 3, 'z7_pct': 1, 'z8_pct': 0, 'primary_system': 'mixed_surges', 'source': 'pro_consensus'}, {'event': 'crit', 'z1_pct': 5, 'z2_pct': 40, 'z3_pct': 8, 'z4_pct': 15, 'z5_pct': 18, 'z6_pct': 10, 'z7_pct': 3, 'z8_pct': 1, 'primary_system': 'anaerobic_repeated', 'source': 'Coggan_Allen'}, {'event': 'time_trial', 'z1_pct': 8, 'z2_pct': 55, 'z3_pct': 5, 'z4_pct': 25, 'z5_pct': 5, 'z6_pct': 2, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'threshold', 'source': 'Coggan_Allen'}, {'event': 'hill_climb', 'z1_pct': 8, 'z2_pct': 50, 'z3_pct': 5, 'z4_pct': 20, 'z5_pct': 12, 'z6_pct': 4, 'z7_pct': 1, 'z8_pct': 0, 'primary_system': 'threshold_vo2max', 'source': 'estimated'}, {'event': 'stage_race', 'z1_pct': 8, 'z2_pct': 65, 'z3_pct': 7, 'z4_pct': 12, 'z5_pct': 5, 'z6_pct': 2, 'z7_pct': 1, 'z8_pct': 0, 'primary_system': 'mixed_endurance', 'source': 'pro_consensus'}, {'event': 'general_fitness', 'z1_pct': 10, 'z2_pct': 75, 'z3_pct': 5, 'z4_pct': 6, 'z5_pct': 3, 'z6_pct': 1, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_base', 'source': 'consensus'}]
        self._tables["recovery_v4__readiness_thresholds"] = [{'metric': 'hrv_pct_baseline', 'green_min': -10, 'green_max': 10, 'amber_min': -20, 'amber_max': -10, 'red_threshold': -20}, {'metric': 'rhr_bpm_vs_baseline', 'green_min': -5, 'green_max': 5, 'amber_min': 5, 'amber_max': 10, 'red_threshold': 10}, {'metric': 'sleep_hours', 'green_min': 7, 'green_max': 99, 'amber_min': 5, 'amber_max': 7, 'red_threshold': 5}, {'metric': 'sleep_quality_10', 'green_min': 6, 'green_max': 10, 'amber_min': 4, 'amber_max': 6, 'red_threshold': 4}, {'metric': 'wellness_100', 'green_min': 70, 'green_max': 100, 'amber_min': 50, 'amber_max': 70, 'red_threshold': 50}, {'metric': 'soreness', 'green_min': 0, 'green_max': 1, 'amber_min': 2, 'amber_max': 3, 'red_threshold': 4}]
        self._tables["recovery_v4__hrv_baseline"] = [{'days_min': 0, 'days_max': 7, 'status': 'provisional', 'reliability': 'low'}, {'days_min': 7, 'days_max': 14, 'status': 'operational', 'reliability': 'moderate'}, {'days_min': 14, 'days_max': 28, 'status': 'reliable', 'reliability': 'good'}, {'days_min': 28, 'days_max': 90, 'status': 'stable', 'reliability': 'high'}, {'days_min': 90, 'days_max': 999, 'status': 'robust', 'reliability': 'excellent'}]
        self._tables["recovery_v4__same_zone_intensity"] = [{'zone': 'Z4', 'min_hours': 48, 'preferred_hours': 72, 'notes': 'threshold tolerates 2x/week if spaced', 'evidence_level': 'moderate'}, {'zone': 'Z5', 'min_hours': 48, 'preferred_hours': 72, 'notes': 'VO2max intervals, autonomic recovery 24-48h', 'evidence_level': 'moderate'}, {'zone': 'Z6', 'min_hours': 72, 'preferred_hours': 96, 'notes': 'high glycolytic + mechanical stress', 'evidence_level': 'moderate'}, {'zone': 'Z7', 'min_hours': 72, 'preferred_hours': 96, 'notes': 'neuromuscular fatigue up to 72h', 'evidence_level': 'strong'}, {'zone': 'Z8', 'min_hours': 24, 'preferred_hours': 48, 'notes': 'pure alactic can repeat sooner if low volume', 'evidence_level': 'limited'}]
        self._tables["recovery_v4__intensity_to_easy"] = [{'from_zone': 'Z4', 'min_hours': 0, 'preferred_hours': 12, 'notes': 'Z1 same day PM often OK', 'evidence_level': 'moderate'}, {'from_zone': 'Z5', 'min_hours': 12, 'preferred_hours': 24, 'notes': 'light Z1 next day safe, may aid recovery', 'evidence_level': 'moderate'}, {'from_zone': 'Z6', 'min_hours': 12, 'preferred_hours': 24, 'notes': 'keep truly easy, no tempo creep', 'evidence_level': 'moderate'}, {'from_zone': 'Z7', 'min_hours': 12, 'preferred_hours': 24, 'notes': 'avoid eccentric load, keep flat/easy', 'evidence_level': 'moderate'}, {'from_zone': 'Z8', 'min_hours': 12, 'preferred_hours': 24, 'notes': 'OK if soreness low, keep short', 'evidence_level': 'moderate'}]
        self._tables["recovery_v4__recovery_day_ceiling"] = [{'parameter': 'max_zone', 'value': 'Z2', 'notes': 'below LT1, conversational'}, {'parameter': 'max_rpe', 'value': 3, 'notes': '0-10 scale'}, {'parameter': 'max_duration_pct', 'value': 80, 'notes': 'of normal easy session'}]
        self._tables["recovery_v4__age_modifiers"] = [{'age_min': 0, 'age_max': 17, 'multiplier': 0.9, 'notes': 'youth recovery advantage'}, {'age_min': 18, 'age_max': 35, 'multiplier': 1.0, 'notes': 'baseline'}, {'age_min': 36, 'age_max': 45, 'multiplier': 1.15, 'notes': 'slightly extended'}, {'age_min': 46, 'age_max': 55, 'multiplier': 1.3, 'notes': 'noticeably extended'}, {'age_min': 56, 'age_max': 65, 'multiplier': 1.5, 'notes': 'significantly extended'}, {'age_min': 66, 'age_max': 99, 'multiplier': 1.75, 'notes': 'substantially extended'}]
        self._tables["recovery_v4__level_modifiers"] = [{'level': 'novice', 'multiplier': 1.25, 'notes': 'needs more recovery, lower robustness'}, {'level': 'intermediate', 'multiplier': 1.0, 'notes': 'baseline'}, {'level': 'advanced', 'multiplier': 0.9, 'notes': 'recovers faster, higher efficiency'}, {'level': 'elite', 'multiplier': 0.85, 'notes': 'optimized recovery capacity'}]
        self._tables["recovery_v4__sport_modifiers"] = [{'sport': 'cycling', 'multiplier': 0.95, 'notes': 'low eccentric cost'}, {'sport': 'xc_ski', 'multiplier': 1.0, 'notes': 'baseline'}, {'sport': 'running', 'multiplier': 1.1, 'notes': 'high eccentric cost'}, {'sport': 'team_sport', 'multiplier': 1.15, 'notes': 'accelerations, decelerations, contacts'}, {'sport': 'strength_hybrid', 'multiplier': 1.2, 'notes': 'combined mechanical stress'}]
        self._tables["recovery_v4__sleep_targets"] = [{'metric': 'duration_hours', 'minimum': 7, 'optimal': 8, 'elite': 9}, {'metric': 'latency_minutes', 'minimum': 30, 'optimal': 15, 'elite': 10}, {'metric': 'efficiency_pct', 'minimum': 80, 'optimal': 85, 'elite': 90}, {'metric': 'wake_episodes', 'minimum': 3, 'optimal': 2, 'elite': 1}, {'metric': 'consistency_minutes', 'minimum': 60, 'optimal': 30, 'elite': 15}]
        self._tables["recovery_v4__recovery_week"] = [{'zone_group': 'r_z2', 'reduction_pct_min': 20, 'reduction_pct_max': 30}, {'zone_group': 'z3_z4', 'reduction_pct_min': 40, 'reduction_pct_max': 50}, {'zone_group': 'z5_z8', 'reduction_pct_min': 50, 'reduction_pct_max': 70}]
        self._tables["recovery_v4__gating_actions"] = [{'status': 'green', 'z4_z8_multiplier': 1.0, 'total_volume_multiplier': 1.0, 'action': 'execute_as_planned'}, {'status': 'amber', 'z4_z8_multiplier': 0.8, 'total_volume_multiplier': 0.85, 'action': 'reduce_intensity_10_20pct'}, {'status': 'red', 'z4_z8_multiplier': 0.0, 'total_volume_multiplier': 0.5, 'action': 'r_z2_only_or_rest'}]
        self._tables["recovery_v4__overtraining_stages"] = [{'stage': 'functional_overreaching', 'performance_decline_pct': 0, 'hrv_suppression_pct': 5, 'hrv_duration_days': 3, 'response': 'recovery_week_reduce_10_20pct'}, {'stage': 'non_functional_overreaching', 'performance_decline_pct': 5, 'hrv_suppression_pct': 10, 'hrv_duration_days': 5, 'response': 'rest_1_2_weeks_gradual_return'}, {'stage': 'overtraining_syndrome', 'performance_decline_pct': 10, 'hrv_suppression_pct': 15, 'hrv_duration_days': 14, 'response': 'medical_evaluation_months_reduced'}]
        self._tables["recovery_v4__decay_parameters"] = [{'parameter': 'lambda', 'value': 0.024, 'time_constant_days': 42}, {'parameter': 'mu', 'value': 0.143, 'time_constant_days': 7}]
        self._tables["ntiz_dose_v4__baseline_caps_meso"] = [{'level': 'elite', 'meso_days': 28, 'r_min': 60, 'r_max': 240, 'z1_min': 600, 'z1_max': 1800, 'z2_min': 480, 'z2_max': 1400, 'z3_min': 240, 'z3_max': 360, 'z4_min': 240, 'z4_max': 360, 'z5_min': 120, 'z5_max': 180, 'z6_min': 60, 'z6_max': 100, 'z7_min': 32, 'z7_max': 48, 'z8_min': 20, 'z8_max': 32}, {'level': 'advanced', 'meso_days': 28, 'r_min': 60, 'r_max': 200, 'z1_min': 480, 'z1_max': 1500, 'z2_min': 400, 'z2_max': 1200, 'z3_min': 180, 'z3_max': 272, 'z4_min': 180, 'z4_max': 300, 'z5_min': 100, 'z5_max': 140, 'z6_min': 48, 'z6_max': 80, 'z7_min': 24, 'z7_max': 40, 'z8_min': 16, 'z8_max': 24}, {'level': 'intermediate', 'meso_days': 28, 'r_min': 60, 'r_max': 180, 'z1_min': 360, 'z1_max': 1200, 'z2_min': 320, 'z2_max': 1000, 'z3_min': 120, 'z3_max': 180, 'z4_min': 120, 'z4_max': 240, 'z5_min': 80, 'z5_max': 120, 'z6_min': 40, 'z6_max': 60, 'z7_min': 16, 'z7_max': 32, 'z8_min': 8, 'z8_max': 16}, {'level': 'novice', 'meso_days': 28, 'r_min': 60, 'r_max': 150, 'z1_min': 240, 'z1_max': 900, 'z2_min': 200, 'z2_max': 800, 'z3_min': 72, 'z3_max': 108, 'z4_min': 80, 'z4_max': 160, 'z5_min': 60, 'z5_max': 100, 'z6_min': 24, 'z6_max': 48, 'z7_min': 8, 'z7_max': 24, 'z8_min': 4, 'z8_max': 8}, {'level': 'beginner', 'meso_days': 28, 'r_min': 60, 'r_max': 120, 'z1_min': 180, 'z1_max': 600, 'z2_min': 150, 'z2_max': 500, 'z3_min': 0, 'z3_max': 24, 'z4_min': 0, 'z4_max': 20, 'z5_min': 0, 'z5_max': 0, 'z6_min': 0, 'z6_max': 0, 'z7_min': 0, 'z7_max': 0, 'z8_min': 0, 'z8_max': 0}]
        self._tables["ntiz_dose_v4__experience_multipliers"] = [{'level': 'elite', 'multiplier': 1.0, 'definition': '5+ years high-level competition'}, {'level': 'advanced', 'multiplier': 0.75, 'definition': '3-5 years competitive training'}, {'level': 'intermediate', 'multiplier': 0.5, 'definition': '18-36 months structured training'}, {'level': 'novice', 'multiplier': 0.3, 'definition': '6-18 months consistent training'}, {'level': 'beginner', 'multiplier': 0.1, 'definition': '<6 months OR returning after 6+ month break'}]
        self._tables["ntiz_dose_v4__age_multipliers"] = [{'age_min': 0, 'age_max': 17, 'r_z2_multiplier': 0.9, 'z3_z4_multiplier': 0.8, 'z5_z8_multiplier': 0.7, 'min_recovery_hours_z4_plus': 48}, {'age_min': 18, 'age_max': 25, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 1.0, 'z5_z8_multiplier': 1.0, 'min_recovery_hours_z4_plus': 48}, {'age_min': 26, 'age_max': 35, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 0.95, 'z5_z8_multiplier': 0.95, 'min_recovery_hours_z4_plus': 48}, {'age_min': 36, 'age_max': 45, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 0.9, 'z5_z8_multiplier': 0.85, 'min_recovery_hours_z4_plus': 60}, {'age_min': 46, 'age_max': 55, 'r_z2_multiplier': 0.95, 'z3_z4_multiplier': 0.85, 'z5_z8_multiplier': 0.75, 'min_recovery_hours_z4_plus': 72}, {'age_min': 56, 'age_max': 65, 'r_z2_multiplier': 0.9, 'z3_z4_multiplier': 0.8, 'z5_z8_multiplier': 0.65, 'min_recovery_hours_z4_plus': 84}, {'age_min': 66, 'age_max': 999, 'r_z2_multiplier': 0.85, 'z3_z4_multiplier': 0.7, 'z5_z8_multiplier': 0.5, 'min_recovery_hours_z4_plus': 96}]
        self._tables["ntiz_dose_v4__beginner_progression_meso"] = [{'meso_num': 1, 'r_z2_pct_min': 100, 'z3_allowed': False, 'z3_max_per_session': 0, 'z4_allowed': False, 'z4_max_per_meso': 0, 'z5_z8_allowed': False, 'rationale': 'habit_formation'}, {'meso_num': 2, 'r_z2_pct_min': 95, 'z3_allowed': True, 'z3_max_per_session': 6, 'z4_allowed': False, 'z4_max_per_meso': 0, 'z5_z8_allowed': False, 'rationale': 'introduce_tempo'}, {'meso_num': 3, 'r_z2_pct_min': 90, 'z3_allowed': True, 'z3_max_per_session': 6, 'z4_allowed': True, 'z4_max_per_meso': 20, 'z5_z8_allowed': False, 'rationale': 'introduce_threshold'}, {'meso_num': 4, 'r_z2_pct_min': 85, 'z3_allowed': True, 'z3_max_per_session': 12, 'z4_allowed': True, 'z4_max_per_meso': 36, 'z5_z8_allowed': False, 'rationale': 'graduated_intensity'}, {'meso_num': 5, 'r_z2_pct_min': 85, 'z3_allowed': True, 'z3_max_per_session': 12, 'z4_allowed': True, 'z4_max_per_meso': 36, 'z5_z8_allowed': False, 'rationale': 'continued_progression'}, {'meso_num': 6, 'r_z2_pct_min': 80, 'z3_allowed': True, 'z3_max_per_session': None, 'z4_allowed': True, 'z4_max_per_meso': None, 'z5_z8_allowed': True, 'rationale': 'graduate_to_novice'}]
        self._tables["ntiz_dose_v4__sport_modifiers"] = [{'sport_family': 'running', 'z5_unlock_meso': 4, 'z6_z8_unlock_meso': 6, 'rationale': 'high_impact_structural_risk'}, {'sport_family': 'cycling', 'z5_unlock_meso': 3, 'z6_z8_unlock_meso': 5, 'rationale': 'low_impact_faster_progression'}, {'sport_family': 'swimming', 'z5_unlock_meso': 3, 'z6_z8_unlock_meso': 5, 'rationale': 'low_impact_faster_progression'}, {'sport_family': 'rowing', 'z5_unlock_meso': 3, 'z6_z8_unlock_meso': 5, 'rationale': 'low_impact_faster_progression'}, {'sport_family': 'multi_sport', 'z5_unlock_meso': 4, 'z6_z8_unlock_meso': 6, 'rationale': 'mixed_impact_conservative'}]
        self._tables["ntiz_dose_v4__ramp_limits_meso"] = [{'zone_group': 'r', 'max_increase_pct_per_meso': 25}, {'zone_group': 'z1_z2', 'max_increase_pct_per_meso': 20}, {'zone_group': 'z3', 'max_increase_pct_per_meso': 15}, {'zone_group': 'z4', 'max_increase_pct_per_meso': 12}, {'zone_group': 'z5', 'max_increase_pct_per_meso': 10}, {'zone_group': 'z6_z8', 'max_increase_pct_per_meso': 5}]
        self._tables["ntiz_dose_v4__tolerance_rules"] = [{'tolerance_min': 1.2, 'tolerance_max': 999, 'mesos_sustained': 1, 'r_z2_adjust_pct': 5, 'z3_z4_adjust_pct': 3, 'z5_z8_adjust_pct': 2}, {'tolerance_min': 0.8, 'tolerance_max': 1.2, 'mesos_sustained': 0, 'r_z2_adjust_pct': 0, 'z3_z4_adjust_pct': 0, 'z5_z8_adjust_pct': 0}, {'tolerance_min': 0.6, 'tolerance_max': 0.8, 'mesos_sustained': 1, 'r_z2_adjust_pct': -5, 'z3_z4_adjust_pct': -5, 'z5_z8_adjust_pct': -5}, {'tolerance_min': 0, 'tolerance_max': 0.6, 'mesos_sustained': 0, 'r_z2_adjust_pct': -15, 'z3_z4_adjust_pct': -15, 'z5_z8_adjust_pct': -15}]
        self._tables["ntiz_dose_v4__readiness_gates"] = [{'state': 'green', 'hrv_deviation_min': -10, 'hrv_deviation_max': 999, 'rhr_deviation_max': 5, 'sleep_hours_min': 7, 'wellness_min': 70, 'z4_z8_multiplier': 1.0, 'beginner_action': 'proceed'}, {'state': 'amber', 'hrv_deviation_min': -20, 'hrv_deviation_max': -10, 'rhr_deviation_max': 10, 'sleep_hours_min': 5, 'wellness_min': 50, 'z4_z8_multiplier': 0.85, 'beginner_action': 'r_z2_only'}, {'state': 'red', 'hrv_deviation_min': -999, 'hrv_deviation_max': -20, 'rhr_deviation_max': 999, 'sleep_hours_min': 0, 'wellness_min': 0, 'z4_z8_multiplier': 0.4, 'beginner_action': 'mandatory_rest'}]
        self._tables["goal_specificity_v4__goal_limiter_mapping"] = [{'sport': 'running', 'goal_type': '5k', 'duration_min': 12, 'duration_max': 30, 'primary_limiters': 'vo2max,threshold', 'secondary_limiters': 'economy', 'protected_intents': 'Z5,Z4', 'prefer_intents': 'Z3,Z8', 'allowed_intents': 'Z1,Z2,Z3,Z4,Z5,Z8,R', 'deprioritized_intents': 'Z2', 'never_intents': 'Z6,Z7', 'notes': 'speed_endurance'}, {'sport': 'running', 'goal_type': '10k', 'duration_min': 30, 'duration_max': 55, 'primary_limiters': 'threshold,vo2max', 'secondary_limiters': 'aerobic_base', 'protected_intents': 'Z4,Z5', 'prefer_intents': 'Z3,Z2', 'allowed_intents': 'Z1,Z2,Z3,Z4,Z5,R', 'deprioritized_intents': 'Z8', 'never_intents': 'Z6,Z7', 'notes': 'threshold_dominant'}, {'sport': 'running', 'goal_type': 'half_marathon', 'duration_min': 55, 'duration_max': 120, 'primary_limiters': 'threshold,aerobic_base', 'secondary_limiters': 'fatigue_resistance', 'protected_intents': 'Z3,Z4', 'prefer_intents': 'Z2', 'allowed_intents': 'Z1,Z2,Z3,Z4,R', 'deprioritized_intents': 'Z5', 'never_intents': 'Z6,Z7,Z8', 'notes': 'tempo_focus'}, {'sport': 'running', 'goal_type': 'marathon', 'duration_min': 120, 'duration_max': 300, 'primary_limiters': 'aerobic_base,fatigue_resistance', 'secondary_limiters': 'threshold', 'protected_intents': 'Z2,Z3', 'prefer_intents': 'Z1,Z4', 'allowed_intents': 'Z1,Z2,Z3,Z4,R', 'deprioritized_intents': 'Z5', 'never_intents': 'Z6,Z7,Z8', 'notes': 'aerobic_priority'}, {'sport': 'running', 'goal_type': 'ultra', 'duration_min': 300, 'duration_max': 2000, 'primary_limiters': 'fatigue_resistance,aerobic_base', 'secondary_limiters': 'durability', 'protected_intents': 'Z2,R', 'prefer_intents': 'Z1,Z3', 'allowed_intents': 'Z1,Z2,Z3,R', 'deprioritized_intents': 'Z4', 'never_intents': 'Z5,Z6,Z7,Z8', 'notes': 'durability_focus'}, {'sport': 'cycling', 'goal_type': 'road_race', 'duration_min': 120, 'duration_max': 300, 'primary_limiters': 'threshold,aerobic_base', 'secondary_limiters': 'vo2max', 'protected_intents': 'Z3,Z4', 'prefer_intents': 'Z2,Z5', 'allowed_intents': 'Z1,Z2,Z3,Z4,Z5,R', 'deprioritized_intents': 'Z6', 'never_intents': 'Z7,Z8', 'notes': 'sustained_power'}, {'sport': 'cycling', 'goal_type': 'gran_fondo', 'duration_min': 180, 'duration_max': 480, 'primary_limiters': 'aerobic_base,fatigue_resistance', 'secondary_limiters': 'threshold', 'protected_intents': 'Z2,Z3', 'prefer_intents': 'Z1', 'allowed_intents': 'Z1,Z2,Z3,Z4,R', 'deprioritized_intents': 'Z5', 'never_intents': 'Z6,Z7,Z8', 'notes': 'long_endurance'}]
        self._tables["running_v4__sport_characteristics"] = [{'parameter': 'sport_family', 'value': 'running', 'notes': 'endurance_impact'}, {'parameter': 'recovery_multiplier', 'value': 1.1, 'notes': 'high_eccentric_stress'}, {'parameter': 'measurement_primary', 'value': 'pace', 'notes': 'min_per_km_or_mile'}, {'parameter': 'measurement_secondary', 'value': 'hr', 'notes': 'when_pace_unavailable'}, {'parameter': 'z8_type', 'value': 'strides', 'notes': 'neuromuscular_not_metabolic'}]
        self._tables["running_v4__periodization_by_goal"] = [{'goal': 'marathon', 'min_mesos': 5, 'optimal_mesos': 12, 'base_mesos_min': 4, 'base_mesos_max': 6, 'build_mesos_min': 3, 'build_mesos_max': 5, 'peak_mesos': 1, 'taper_days': 21}, {'goal': 'half_marathon', 'min_mesos': 3, 'optimal_mesos': 5, 'base_mesos_min': 2, 'base_mesos_max': 3, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 14}, {'goal': '10k', 'min_mesos': 2, 'optimal_mesos': 4, 'base_mesos_min': 1, 'base_mesos_max': 2, 'build_mesos_min': 1, 'build_mesos_max': 2, 'peak_mesos': 1, 'taper_days': 10}, {'goal': '5k', 'min_mesos': 2, 'optimal_mesos': 3, 'base_mesos_min': 1, 'base_mesos_max': 2, 'build_mesos_min': 1, 'build_mesos_max': 1, 'peak_mesos': 1, 'taper_days': 7}, {'goal': 'ultra_50k', 'min_mesos': 6, 'optimal_mesos': 14, 'base_mesos_min': 5, 'base_mesos_max': 8, 'build_mesos_min': 3, 'build_mesos_max': 4, 'peak_mesos': 1, 'taper_days': 21}, {'goal': 'ultra_100k', 'min_mesos': 8, 'optimal_mesos': 18, 'base_mesos_min': 6, 'base_mesos_max': 10, 'build_mesos_min': 4, 'build_mesos_max': 6, 'peak_mesos': 1, 'taper_days': 28}]
        self._tables["running_v4__meso_load_pattern"] = [{'slice': 1, 'load_pct': 90, 'purpose': 'establish_load', 'is_deload': False}, {'slice': 2, 'load_pct': 100, 'purpose': 'progressive_overload', 'is_deload': False}, {'slice': 3, 'load_pct': 108, 'purpose': 'maximum_overload', 'is_deload': False}, {'slice': 4, 'load_pct': 55, 'purpose': 'recovery_supercompensation', 'is_deload': True}]
        self._tables["running_v4__training_models"] = [{'model': 'polarized', 'z1_z2_pct': 80, 'z3_pct': 5, 'z4_z5_pct': 12, 'z6_z8_pct': 3, 'sessions_per_meso_min': 16, 'sessions_per_meso_max': 24, 'best_for': 'all_levels'}, {'model': 'hansons', 'z1_z2_pct': 70, 'z3_pct': 10, 'z4_z5_pct': 15, 'z6_z8_pct': 5, 'sessions_per_meso_min': 20, 'sessions_per_meso_max': 28, 'best_for': 'intermediate_advanced'}, {'model': 'hiit_hybrid', 'z1_z2_pct': 65, 'z3_pct': 5, 'z4_z5_pct': 25, 'z6_z8_pct': 5, 'sessions_per_meso_min': 12, 'sessions_per_meso_max': 20, 'best_for': 'time_crunched'}, {'model': 'traditional', 'z1_z2_pct': 75, 'z3_pct': 8, 'z4_z5_pct': 14, 'z6_z8_pct': 3, 'sessions_per_meso_min': 20, 'sessions_per_meso_max': 28, 'best_for': 'high_volume_tolerant'}]
        self._tables["running_v4__model_by_time"] = [{'hours_per_meso_min': 12, 'hours_per_meso_max': 16, 'primary_model': 'hiit_hybrid', 'long_run_peak_min': 120, 'alternative_model': 'polarized'}, {'hours_per_meso_min': 20, 'hours_per_meso_max': 24, 'primary_model': 'polarized', 'long_run_peak_min': 150, 'alternative_model': 'hansons'}, {'hours_per_meso_min': 28, 'hours_per_meso_max': 40, 'primary_model': 'polarized', 'long_run_peak_min': 165, 'alternative_model': 'traditional'}, {'hours_per_meso_min': 40, 'hours_per_meso_max': 999, 'primary_model': 'traditional', 'long_run_peak_min': 195, 'alternative_model': 'polarized'}]
        self._tables["running_v4__model_by_level"] = [{'level': 'beginner', 'recommended_models': 'polarized,hiit_hybrid', 'avoid_models': 'hansons,traditional', 'rationale': 'prevents_overtraining'}, {'level': 'novice', 'recommended_models': 'polarized,hiit_hybrid', 'avoid_models': 'hansons', 'rationale': 'still_building_robustness'}, {'level': 'intermediate', 'recommended_models': 'polarized,hansons,traditional', 'avoid_models': None, 'rationale': 'can_handle_various'}, {'level': 'advanced', 'recommended_models': 'traditional,hansons,polarized', 'avoid_models': None, 'rationale': 'optimizes_performance'}, {'level': 'injury_prone', 'recommended_models': 'polarized,hiit_hybrid', 'avoid_models': 'hansons', 'rationale': 'reduced_frequency'}]
        self._tables["running_v4__long_run_requirements"] = [{'goal': '5k', 'min_peak_min': 45, 'max_peak_min': 60, 'build_rate_min_per_meso': 20, 'frequency_per_meso': 4}, {'goal': '10k', 'min_peak_min': 60, 'max_peak_min': 75, 'build_rate_min_per_meso': 28, 'frequency_per_meso': 4}, {'goal': 'half_marathon', 'min_peak_min': 75, 'max_peak_min': 120, 'build_rate_min_per_meso': 48, 'frequency_per_meso': 4}, {'goal': 'marathon', 'min_peak_min': 120, 'max_peak_min': 180, 'build_rate_min_per_meso': 48, 'frequency_per_meso': 4}, {'goal': 'ultra_50k', 'min_peak_min': 150, 'max_peak_min': 240, 'build_rate_min_per_meso': 28, 'frequency_per_meso': 3}, {'goal': 'ultra_100k', 'min_peak_min': 180, 'max_peak_min': 300, 'build_rate_min_per_meso': 28, 'frequency_per_meso': 3}]
        self._tables["running_v4__taper_protocol"] = [{'goal': 'marathon', 'taper_days': 21, 'day_minus_21_pct': 70, 'day_minus_14_pct': 50, 'day_minus_7_pct': 40, 'long_run_final_min': 60}, {'goal': 'half_marathon', 'taper_days': 14, 'day_minus_21_pct': None, 'day_minus_14_pct': 65, 'day_minus_7_pct': 45, 'long_run_final_min': 45}, {'goal': '10k', 'taper_days': 10, 'day_minus_21_pct': None, 'day_minus_14_pct': 70, 'day_minus_7_pct': 50, 'long_run_final_min': 30}, {'goal': '5k', 'taper_days': 7, 'day_minus_21_pct': None, 'day_minus_14_pct': None, 'day_minus_7_pct': 60, 'long_run_final_min': 25}, {'goal': 'ultra_50k', 'taper_days': 21, 'day_minus_21_pct': 65, 'day_minus_14_pct': 45, 'day_minus_7_pct': 35, 'long_run_final_min': 90}]
        self._tables["running_v4__z4_sessions"] = [{'structure': 'tempo_continuous', 'intervals': 1, 'work_min': 20, 'rest_min': 0, 'total_z4_min': 20, 'tolerance_min': 1.0, 'best_for': 'threshold_base'}, {'structure': 'cruise_intervals', 'intervals': 3, 'work_min': 10, 'rest_min': 2, 'total_z4_min': 30, 'tolerance_min': 1.1, 'best_for': 'threshold_build'}, {'structure': 'tempo_progression', 'intervals': 1, 'work_min': 25, 'rest_min': 0, 'total_z4_min': 25, 'tolerance_min': 1.2, 'best_for': 'race_specific'}]
        self._tables["running_v4__z5_sessions"] = [{'structure': 'classic_5x1000', 'intervals': 5, 'work_min': 3.5, 'rest_min': 3, 'total_z5_min': 17, 'tolerance_min': 1.0, 'best_for': 'vo2max_base'}, {'structure': '4x1200', 'intervals': 4, 'work_min': 4.5, 'rest_min': 3.5, 'total_z5_min': 18, 'tolerance_min': 1.1, 'best_for': 'vo2max_build'}, {'structure': '3x1600', 'intervals': 3, 'work_min': 6, 'rest_min': 4, 'total_z5_min': 18, 'tolerance_min': 1.2, 'best_for': 'vo2max_peak'}, {'structure': '6x800', 'intervals': 6, 'work_min': 2.5, 'rest_min': 2.5, 'total_z5_min': 15, 'tolerance_min': 0.9, 'best_for': 'vo2max_intro'}]
        self._tables["running_v4__strides"] = [{'parameter': 'duration_sec', 'value': 15, 'notes': '20_max'}, {'parameter': 'reps_min', 'value': 4, 'notes': 'after_easy_runs'}, {'parameter': 'reps_max', 'value': 8, 'notes': 'not_metabolic_stress'}, {'parameter': 'recovery_sec', 'value': 60, 'notes': 'walk_back'}, {'parameter': 'frequency_per_meso', 'value': 8, 'notes': '2_3x_per_slice'}, {'parameter': 'when', 'value': 'after_z1_z2', 'notes': 'not_standalone'}]
        self._tables["running_v4__intensity_limits_meso"] = [{'level': 'beginner', 'z4_max_sessions': 0, 'z5_max_sessions': 0, 'z6_z7_max_sessions': 0, 'total_intensity_max': 0}, {'level': 'novice', 'z4_max_sessions': 4, 'z5_max_sessions': 2, 'z6_z7_max_sessions': 0, 'total_intensity_max': 6}, {'level': 'intermediate', 'z4_max_sessions': 6, 'z5_max_sessions': 4, 'z6_z7_max_sessions': 2, 'total_intensity_max': 10}, {'level': 'advanced', 'z4_max_sessions': 8, 'z5_max_sessions': 6, 'z6_z7_max_sessions': 4, 'total_intensity_max': 14}, {'level': 'elite', 'z4_max_sessions': 10, 'z5_max_sessions': 8, 'z6_z7_max_sessions': 6, 'total_intensity_max': 18}]
        self._tables["running_v4__recovery_spacing"] = [{'from_zone': 'R', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'restoration_no_blocking'}, {'from_zone': 'Z1', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'easy_aerobic_no_blocking'}, {'from_zone': 'Z2', 'to_intensity_min': 0, 'to_easy_min': 0, 'notes': 'easy_aerobic_no_blocking'}, {'from_zone': 'Z3', 'to_intensity_min': 24, 'to_easy_min': 0, 'notes': 'tempo_light_stress'}, {'from_zone': 'Z4', 'to_intensity_min': 48, 'to_easy_min': 12, 'notes': 'threshold_moderate_stress'}, {'from_zone': 'Z5', 'to_intensity_min': 72, 'to_easy_min': 24, 'notes': 'high_cardiovascular_stress'}, {'from_zone': 'Z6', 'to_intensity_min': 72, 'to_easy_min': 24, 'notes': 'high_neuromuscular_stress'}, {'from_zone': 'Z7', 'to_intensity_min': 96, 'to_easy_min': 24, 'notes': 'very_high_neuromuscular'}, {'from_zone': 'Z8', 'to_intensity_min': 24, 'to_easy_min': 12, 'notes': 'strides_low_volume_ok'}]
        self._tables["running_v4__event_zone_demands"] = [{'event': 'marathon', 'z1_pct': 10, 'z2_pct': 78, 'z3_pct': 2, 'z4_pct': 6, 'z5_pct': 3, 'z6_pct': 1, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic', 'source': 'Seiler_2010'}, {'event': 'half_marathon', 'z1_pct': 10, 'z2_pct': 74, 'z3_pct': 3, 'z4_pct': 8, 'z5_pct': 4, 'z6_pct': 1, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_threshold', 'source': 'Esteve_Lanao_2007'}, {'event': '10k', 'z1_pct': 8, 'z2_pct': 70, 'z3_pct': 4, 'z4_pct': 10, 'z5_pct': 6, 'z6_pct': 2, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'threshold_vo2max', 'source': 'Billat_2001'}, {'event': '5k', 'z1_pct': 8, 'z2_pct': 65, 'z3_pct': 4, 'z4_pct': 12, 'z5_pct': 8, 'z6_pct': 2, 'z7_pct': 1, 'z8_pct': 0, 'primary_system': 'vo2max', 'source': 'Midgley_2007'}, {'event': '1500m', 'z1_pct': 5, 'z2_pct': 55, 'z3_pct': 5, 'z4_pct': 14, 'z5_pct': 14, 'z6_pct': 5, 'z7_pct': 2, 'z8_pct': 0, 'primary_system': 'vo2max_anaerobic', 'source': 'Jones_Carter_2000'}, {'event': '800m', 'z1_pct': 5, 'z2_pct': 45, 'z3_pct': 5, 'z4_pct': 12, 'z5_pct': 18, 'z6_pct': 10, 'z7_pct': 4, 'z8_pct': 1, 'primary_system': 'anaerobic_vo2max', 'source': 'Gastin_2001'}, {'event': 'ultra_50k', 'z1_pct': 12, 'z2_pct': 80, 'z3_pct': 2, 'z4_pct': 4, 'z5_pct': 2, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_fat_ox', 'source': 'ultra_consensus'}, {'event': 'ultra_100k', 'z1_pct': 15, 'z2_pct': 80, 'z3_pct': 2, 'z4_pct': 2, 'z5_pct': 1, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_fat_ox', 'source': 'ultra_consensus'}, {'event': 'ultra_100mi', 'z1_pct': 15, 'z2_pct': 82, 'z3_pct': 1, 'z4_pct': 1, 'z5_pct': 1, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_fat_ox', 'source': 'ultra_consensus'}, {'event': 'general_fitness', 'z1_pct': 10, 'z2_pct': 75, 'z3_pct': 5, 'z4_pct': 6, 'z5_pct': 3, 'z6_pct': 1, 'z7_pct': 0, 'z8_pct': 0, 'primary_system': 'aerobic_base', 'source': 'consensus'}]
        self._tables["running_v4__pace_zones"] = [{'zone': 'R', 'threshold_mult_min': 1.5, 'threshold_mult_max': 2.0, 'pace_description': 'Very slow shuffle', 'typical_use': 'Active recovery'}, {'zone': 'Z1', 'threshold_mult_min': 1.25, 'threshold_mult_max': 1.4, 'pace_description': 'Easy conversational', 'typical_use': 'Base building'}, {'zone': 'Z2', 'threshold_mult_min': 1.12, 'threshold_mult_max': 1.25, 'pace_description': 'Comfortable aerobic', 'typical_use': 'Long runs, endurance'}, {'zone': 'Z3', 'threshold_mult_min': 1.05, 'threshold_mult_max': 1.12, 'pace_description': 'Tempo effort', 'typical_use': 'Tempo runs'}, {'zone': 'Z4', 'threshold_mult_min': 0.97, 'threshold_mult_max': 1.03, 'pace_description': 'Threshold pace', 'typical_use': 'Threshold intervals'}, {'zone': 'Z5', 'threshold_mult_min': 0.88, 'threshold_mult_max': 0.97, 'pace_description': 'VO2max pace', 'typical_use': 'VO2max intervals'}, {'zone': 'Z6', 'threshold_mult_min': 0.78, 'threshold_mult_max': 0.88, 'pace_description': 'Anaerobic pace', 'typical_use': 'Short hard repeats'}, {'zone': 'Z7', 'threshold_mult_min': 0.65, 'threshold_mult_max': 0.78, 'pace_description': 'Near-max speed', 'typical_use': '200-400m repeats'}, {'zone': 'Z8', 'threshold_mult_min': 0.5, 'threshold_mult_max': 0.65, 'pace_description': 'Sprint pace', 'typical_use': 'Strides, sprints'}]
        self._tables["session_dose_v4__minimum_effective_dose"] = [{'zone': 'R', 'primary_purpose': 'Active Restoration', 'med_minutes': 20, 'max_chunk_minutes': 45, 'med_reps': None, 'allocation_strategy': 'continuous', 'session_type': 'recovery'}, {'zone': 'Z1', 'primary_purpose': 'Peripheral Adaptation', 'med_minutes': 30, 'max_chunk_minutes': 90, 'med_reps': None, 'allocation_strategy': 'continuous', 'session_type': 'easy'}, {'zone': 'Z2', 'primary_purpose': 'Mitochondrial Density', 'med_minutes': 40, 'max_chunk_minutes': 120, 'med_reps': None, 'allocation_strategy': 'continuous_clean', 'session_type': 'long'}, {'zone': 'Z3', 'primary_purpose': 'Lactate Clearance', 'med_minutes': 20, 'max_chunk_minutes': 45, 'med_reps': None, 'allocation_strategy': 'long_intervals', 'session_type': 'tempo'}, {'zone': 'Z4', 'primary_purpose': 'Threshold Power', 'med_minutes': 15, 'max_chunk_minutes': 40, 'med_reps': None, 'allocation_strategy': 'repeats_10_15', 'session_type': 'threshold'}, {'zone': 'Z5', 'primary_purpose': 'VO2max', 'med_minutes': 8, 'max_chunk_minutes': 24, 'med_reps': None, 'allocation_strategy': 'bouts_3_5', 'session_type': 'vo2max'}, {'zone': 'Z6', 'primary_purpose': 'Anaerobic Capacity', 'med_minutes': 4, 'max_chunk_minutes': 12, 'med_reps': 6, 'allocation_strategy': 'sprints_alactic', 'session_type': 'anaerobic'}, {'zone': 'Z7', 'primary_purpose': 'Max Anaerobic Power', 'med_minutes': 3, 'max_chunk_minutes': 8, 'med_reps': 6, 'allocation_strategy': 'sprints_alactic', 'session_type': 'anaerobic'}, {'zone': 'Z8', 'primary_purpose': 'Neuromuscular Speed', 'med_minutes': 2, 'max_chunk_minutes': 6, 'med_reps': 8, 'allocation_strategy': 'sprints_alactic', 'session_type': 'sprint'}]
        self._tables["session_dose_v4__session_types"] = [{'session_type': 'recovery', 'primary_zones': 'R', 'structure': 'continuous', 'min_main_set_minutes': 20, 'typical_total_minutes': 30, 'warmup_minutes': 5, 'cooldown_minutes': 5}, {'session_type': 'easy', 'primary_zones': 'Z1', 'structure': 'continuous', 'min_main_set_minutes': 30, 'typical_total_minutes': 45, 'warmup_minutes': 10, 'cooldown_minutes': 5}, {'session_type': 'long', 'primary_zones': 'Z2', 'structure': 'continuous', 'min_main_set_minutes': 40, 'typical_total_minutes': 60, 'warmup_minutes': 10, 'cooldown_minutes': 10}, {'session_type': 'tempo', 'primary_zones': 'Z3', 'structure': 'intervals_8_20', 'min_main_set_minutes': 20, 'typical_total_minutes': 50, 'warmup_minutes': 15, 'cooldown_minutes': 10}, {'session_type': 'threshold', 'primary_zones': 'Z4', 'structure': 'intervals_10_15', 'min_main_set_minutes': 15, 'typical_total_minutes': 50, 'warmup_minutes': 15, 'cooldown_minutes': 10}, {'session_type': 'vo2max', 'primary_zones': 'Z5', 'structure': 'intervals_3_5', 'min_main_set_minutes': 8, 'typical_total_minutes': 45, 'warmup_minutes': 15, 'cooldown_minutes': 10}, {'session_type': 'anaerobic', 'primary_zones': 'Z6,Z7', 'structure': 'sprints_30_90s', 'min_main_set_minutes': 4, 'typical_total_minutes': 40, 'warmup_minutes': 15, 'cooldown_minutes': 10}, {'session_type': 'sprint', 'primary_zones': 'Z8', 'structure': 'sprints_10_20s', 'min_main_set_minutes': 2, 'typical_total_minutes': 35, 'warmup_minutes': 15, 'cooldown_minutes': 10}]
        self._tables["session_dose_v4__meso_wallet_allocation"] = [{'phase': 'base', 'z3_sessions_max': 2, 'z4_sessions_max': 2, 'z5_sessions_max': 1, 'z6_z8_sessions_max': 0, 'protected_z2_sessions': 8, 'intensity_density': 'low', 'deload_start_pct': 75, 'allow_intensity_in_deload': False}, {'phase': 'build', 'z3_sessions_max': 3, 'z4_sessions_max': 3, 'z5_sessions_max': 2, 'z6_z8_sessions_max': 1, 'protected_z2_sessions': 6, 'intensity_density': 'moderate', 'deload_start_pct': 75, 'allow_intensity_in_deload': False}, {'phase': 'peak', 'z3_sessions_max': 2, 'z4_sessions_max': 2, 'z5_sessions_max': 3, 'z6_z8_sessions_max': 2, 'protected_z2_sessions': 4, 'intensity_density': 'high', 'deload_start_pct': 80, 'allow_intensity_in_deload': True}, {'phase': 'taper', 'z3_sessions_max': 1, 'z4_sessions_max': 2, 'z5_sessions_max': 1, 'z6_z8_sessions_max': 1, 'protected_z2_sessions': 6, 'intensity_density': 'low', 'deload_start_pct': 60, 'allow_intensity_in_deload': False}, {'phase': 'recovery', 'z3_sessions_max': 0, 'z4_sessions_max': 0, 'z5_sessions_max': 0, 'z6_z8_sessions_max': 0, 'protected_z2_sessions': 12, 'intensity_density': None, 'deload_start_pct': 0, 'allow_intensity_in_deload': False}]
        self._tables["session_dose_v4__recovery_shadow"] = [{'zone': 'Z3', 'min_hours_to_intensity': 24, 'min_hours_to_easy': 0, 'notes': 'tempo allows next-day easy'}, {'zone': 'Z4', 'min_hours_to_intensity': 48, 'min_hours_to_easy': 12, 'notes': 'threshold needs full recovery'}, {'zone': 'Z5', 'min_hours_to_intensity': 48, 'min_hours_to_easy': 12, 'notes': 'vo2max high autonomic stress'}, {'zone': 'Z6', 'min_hours_to_intensity': 72, 'min_hours_to_easy': 24, 'notes': 'glycolytic + mechanical stress'}, {'zone': 'Z7', 'min_hours_to_intensity': 72, 'min_hours_to_easy': 24, 'notes': 'neuromuscular fatigue up to 72h'}, {'zone': 'Z8', 'min_hours_to_intensity': 24, 'min_hours_to_easy': 12, 'notes': 'alactic can repeat sooner if low volume'}]
        self._tables["session_dose_v4__warmup_exclusion"] = [{'component': 'warmup', 'max_duration_excluded': 20, 'zone_credit': 'Z1', 'counts_toward_budget': False}, {'component': 'cooldown', 'max_duration_excluded': 15, 'zone_credit': 'Z1', 'counts_toward_budget': False}, {'component': 'rest_intervals', 'max_duration_excluded': None, 'zone_credit': 'R', 'counts_toward_budget': False}, {'component': 'main_set', 'max_duration_excluded': None, 'zone_credit': 'target_zone', 'counts_toward_budget': True}]
        self._tables["session_dose_v4__meso_scaling"] = [{'meso_days': 28, 'scale_factor': 1.0, 'min_intensity_sessions': 1, 'min_protected_z2': 4}, {'meso_days': 21, 'scale_factor': 0.75, 'min_intensity_sessions': 1, 'min_protected_z2': 3}, {'meso_days': 14, 'scale_factor': 0.5, 'min_intensity_sessions': 1, 'min_protected_z2': 2}]
        self._tables["session_dose_v4__validation_rules"] = [{'rule_name': 'single_primary_zone', 'description': 'Each session has exactly one primary intensity zone', 'action_on_violation': 'reject_plan'}, {'rule_name': 'med_threshold', 'description': 'Zone allocation must be 0 or >= MED', 'action_on_violation': 'reject_plan'}, {'rule_name': 'max_chunk', 'description': 'Zone allocation must be <= max_chunk_minutes', 'action_on_violation': 'reject_plan'}, {'rule_name': 'recovery_shadow', 'description': 'Must respect min_hours between intensity', 'action_on_violation': 'reject_plan'}, {'rule_name': 'protected_base', 'description': 'Z2 sessions must meet MED (40 min)', 'action_on_violation': 'reject_plan'}, {'rule_name': 'warmup_excluded', 'description': 'Warmup/cooldown not credited to aerobic budget', 'action_on_violation': 'adjust_accounting'}, {'rule_name': 'wallet_balance', 'description': 'Sum of zone allocations must equal total meso minutes', 'action_on_violation': 'reject_plan'}]
        self._tables["session_dose_v4__zone_physiology"] = [{'zone': 'R', 'description': 'Active Recovery', 'rpe_borg_min': 6, 'rpe_borg_max': 9, 'hr_pct_min': 50, 'hr_pct_max': 60, 'vo2_pct_min': 30, 'vo2_pct_max': 40, 'lactate_min': 0.8, 'lactate_max': 1.0, 'breathing': 'easy', 'time_to_exhaustion_min': None}, {'zone': 'Z1', 'description': 'Easy Aerobic', 'rpe_borg_min': 9, 'rpe_borg_max': 11, 'hr_pct_min': 60, 'hr_pct_max': 72, 'vo2_pct_min': 40, 'vo2_pct_max': 55, 'lactate_min': 0.8, 'lactate_max': 1.5, 'breathing': 'easy', 'time_to_exhaustion_min': None}, {'zone': 'Z2', 'description': 'Aerobic Base', 'rpe_borg_min': 11, 'rpe_borg_max': 13, 'hr_pct_min': 72, 'hr_pct_max': 82, 'vo2_pct_min': 55, 'vo2_pct_max': 70, 'lactate_min': 1.0, 'lactate_max': 2.0, 'breathing': 'controlled', 'time_to_exhaustion_min': 180}, {'zone': 'Z3', 'description': 'Tempo/Aerobic Threshold', 'rpe_borg_min': 13, 'rpe_borg_max': 14, 'hr_pct_min': 82, 'hr_pct_max': 87, 'vo2_pct_min': 70, 'vo2_pct_max': 80, 'lactate_min': 1.5, 'lactate_max': 3.5, 'breathing': 'short_sentences', 'time_to_exhaustion_min': 60}, {'zone': 'Z4', 'description': 'Threshold', 'rpe_borg_min': 14, 'rpe_borg_max': 16, 'hr_pct_min': 87, 'hr_pct_max': 92, 'vo2_pct_min': 80, 'vo2_pct_max': 90, 'lactate_min': 3.0, 'lactate_max': 5.0, 'breathing': 'labored', 'time_to_exhaustion_min': 40}, {'zone': 'Z5', 'description': 'VO2max', 'rpe_borg_min': 16, 'rpe_borg_max': 18, 'hr_pct_min': 92, 'hr_pct_max': 97, 'vo2_pct_min': 90, 'vo2_pct_max': 100, 'lactate_min': 5.0, 'lactate_max': 10.0, 'breathing': 'very_hard', 'time_to_exhaustion_min': 8}, {'zone': 'Z6', 'description': 'Anaerobic Capacity', 'rpe_borg_min': 18, 'rpe_borg_max': 19, 'hr_pct_min': 95, 'hr_pct_max': 100, 'vo2_pct_min': 95, 'vo2_pct_max': 110, 'lactate_min': 8.0, 'lactate_max': 15.0, 'breathing': 'maximal', 'time_to_exhaustion_min': 3}, {'zone': 'Z7', 'description': 'Max Anaerobic', 'rpe_borg_min': 19, 'rpe_borg_max': 20, 'hr_pct_min': 98, 'hr_pct_max': 100, 'vo2_pct_min': 100, 'vo2_pct_max': 120, 'lactate_min': 10.0, 'lactate_max': 20.0, 'breathing': 'maximal', 'time_to_exhaustion_min': 1}, {'zone': 'Z8', 'description': 'Neuromuscular', 'rpe_borg_min': 20, 'rpe_borg_max': 20, 'hr_pct_min': 100, 'hr_pct_max': 100, 'vo2_pct_min': 100, 'vo2_pct_max': 150, 'lactate_min': 5.0, 'lactate_max': 15.0, 'breathing': 'explosive', 'time_to_exhaustion_min': 0.25}]
        self._tables["session_dose_v4__zone_purpose"] = [{'zone': 'R', 'primary_purpose': 'restoration', 'secondary_purpose': 'blood_flow', 'typical_structure': 'continuous', 'interval_duration_min': 20, 'interval_duration_max': 45, 'rest_ratio': 0}, {'zone': 'Z1', 'primary_purpose': 'peripheral_adaptation', 'secondary_purpose': 'fat_oxidation', 'typical_structure': 'continuous', 'interval_duration_min': 30, 'interval_duration_max': 90, 'rest_ratio': 0}, {'zone': 'Z2', 'primary_purpose': 'mitochondrial_density', 'secondary_purpose': 'capillarization', 'typical_structure': 'continuous', 'interval_duration_min': 40, 'interval_duration_max': 120, 'rest_ratio': 0}, {'zone': 'Z3', 'primary_purpose': 'central_aerobic', 'secondary_purpose': 'durability', 'typical_structure': 'intervals_or_continuous', 'interval_duration_min': 8, 'interval_duration_max': 20, 'rest_ratio': 0.15}, {'zone': 'Z4', 'primary_purpose': 'lactate_threshold', 'secondary_purpose': 'economy', 'typical_structure': 'intervals', 'interval_duration_min': 10, 'interval_duration_max': 15, 'rest_ratio': 0.25}, {'zone': 'Z5', 'primary_purpose': 'vo2max', 'secondary_purpose': 'cardiac_output', 'typical_structure': 'intervals', 'interval_duration_min': 3, 'interval_duration_max': 5, 'rest_ratio': 0.5}, {'zone': 'Z6', 'primary_purpose': 'glycolytic_capacity', 'secondary_purpose': 'lactate_tolerance', 'typical_structure': 'intervals', 'interval_duration_min': 0.5, 'interval_duration_max': 1.5, 'rest_ratio': 3.0}, {'zone': 'Z7', 'primary_purpose': 'max_anaerobic_power', 'secondary_purpose': 'neuromuscular', 'typical_structure': 'intervals', 'interval_duration_min': 0.25, 'interval_duration_max': 0.75, 'rest_ratio': 5.0}, {'zone': 'Z8', 'primary_purpose': 'neuromuscular_speed', 'secondary_purpose': 'recruitment', 'typical_structure': 'sprints', 'interval_duration_min': 0.1, 'interval_duration_max': 0.33, 'rest_ratio': 10.0}]
        self._tables["session_dose_v4__work_rest_ratio_ranges"] = [{'zone': 'R', 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.0, 'is_continuous': True, 'source_ref': 'olympiatoppen_2024'}, {'zone': 'Z1', 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.1, 'is_continuous': True, 'source_ref': 'olympiatoppen_2024'}, {'zone': 'Z2', 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.1, 'is_continuous': True, 'source_ref': 'olympiatoppen_2024'}, {'zone': 'Z3', 'rest_ratio_min': 0.17, 'rest_ratio_max': 0.33, 'is_continuous': False, 'source_ref': 'norwegian_best_practice'}, {'zone': 'Z4', 'rest_ratio_min': 0.33, 'rest_ratio_max': 0.5, 'is_continuous': False, 'source_ref': 'norwegian_best_practice'}, {'zone': 'Z5', 'rest_ratio_min': 0.5, 'rest_ratio_max': 1.0, 'is_continuous': False, 'source_ref': 'billat_2000'}, {'zone': 'Z6', 'rest_ratio_min': 1.0, 'rest_ratio_max': 3.0, 'is_continuous': False, 'source_ref': 'olympiatoppen_2024'}, {'zone': 'Z7', 'rest_ratio_min': 3.0, 'rest_ratio_max': 10.0, 'is_continuous': False, 'source_ref': 'olympiatoppen_2024'}, {'zone': 'Z8', 'rest_ratio_min': 10.0, 'rest_ratio_max': 30.0, 'is_continuous': False, 'source_ref': 'olympiatoppen_2024'}]
        self._tables["session_dose_v4__level_rest_multiplier"] = [{'level': 'novice', 'rest_multiplier': 1.3}, {'level': 'beginner', 'rest_multiplier': 1.15}, {'level': 'intermediate', 'rest_multiplier': 1.0}, {'level': 'advanced', 'rest_multiplier': 0.85}, {'level': 'elite', 'rest_multiplier': 0.75}]
        self._tables["session_dose_v4__age_rest_multiplier"] = [{'age_min': 0, 'age_max': 39, 'rest_multiplier': 1.0}, {'age_min': 40, 'age_max': 49, 'rest_multiplier': 1.15}, {'age_min': 50, 'age_max': 59, 'rest_multiplier': 1.3}, {'age_min': 60, 'age_max': 120, 'rest_multiplier': 1.5}]
        self._tables["gatc_policy_v4__phase_tie_order"] = [{'phase': 'base', 'zone': 'Z2', 'priority': 1}, {'phase': 'base', 'zone': 'Z1', 'priority': 2}, {'phase': 'base', 'zone': 'Z3', 'priority': 3}, {'phase': 'base', 'zone': 'Z4', 'priority': 4}, {'phase': 'base', 'zone': 'Z5', 'priority': 5}, {'phase': 'base', 'zone': 'R', 'priority': 9}, {'phase': 'build', 'zone': 'Z2', 'priority': 1}, {'phase': 'build', 'zone': 'Z1', 'priority': 2}, {'phase': 'build', 'zone': 'Z3', 'priority': 3}, {'phase': 'build', 'zone': 'Z4', 'priority': 4}, {'phase': 'build', 'zone': 'Z5', 'priority': 5}, {'phase': 'build', 'zone': 'R', 'priority': 9}, {'phase': 'peak', 'zone': 'Z2', 'priority': 1}, {'phase': 'peak', 'zone': 'Z1', 'priority': 2}, {'phase': 'peak', 'zone': 'Z3', 'priority': 3}, {'phase': 'peak', 'zone': 'Z4', 'priority': 4}, {'phase': 'peak', 'zone': 'Z5', 'priority': 5}, {'phase': 'peak', 'zone': 'Z6', 'priority': 6}, {'phase': 'peak', 'zone': 'Z7', 'priority': 7}, {'phase': 'peak', 'zone': 'Z8', 'priority': 8}, {'phase': 'peak', 'zone': 'R', 'priority': 9}]
        self._tables["gatc_policy_v4__phase_allowed_zones"] = [{'phase': 'base', 'allowed_zones': 'R,Z1,Z2,Z3,Z4,Z5'}, {'phase': 'build', 'allowed_zones': 'R,Z1,Z2,Z3,Z4,Z5'}, {'phase': 'peak', 'allowed_zones': 'R,Z1,Z2,Z3,Z4,Z5,Z6,Z7,Z8'}]
        self._tables["gatc_policy_v4__recent_session_rules"] = [{'phase': 'base', 'last_n': 2, 'if_all_in': 'Z1,Z2', 'prefer_zone': 'Z3'}, {'phase': 'build', 'last_n': 2, 'if_all_in': 'Z1,Z2', 'prefer_zone': 'Z3'}]
        self._tables["ntiz_master_v4__zone_credit"] = [{'zone': 'R', 'ntiz_credit': False, 'category': 'restoration', 'purpose': 'Active restoration, NOT training'}, {'zone': 'Z1', 'ntiz_credit': True, 'category': 'aerobic', 'purpose': 'Easy aerobic, peripheral adaptations'}, {'zone': 'Z2', 'ntiz_credit': True, 'category': 'aerobic', 'purpose': 'Aerobic development, technique'}, {'zone': 'Z3', 'ntiz_credit': True, 'category': 'tempo', 'purpose': 'Tempo, lactate clearance'}, {'zone': 'Z4', 'ntiz_credit': True, 'category': 'threshold', 'purpose': 'Threshold intervals'}, {'zone': 'Z5', 'ntiz_credit': True, 'category': 'vo2max', 'purpose': 'VO2max intervals'}, {'zone': 'Z6', 'ntiz_credit': True, 'category': 'anaerobic', 'purpose': 'Anaerobic capacity'}, {'zone': 'Z7', 'ntiz_credit': True, 'category': 'anaerobic', 'purpose': 'Max anaerobic power'}, {'zone': 'Z8', 'ntiz_credit': True, 'category': 'neuromuscular', 'purpose': 'Neuromuscular, speed'}]
        self._tables["ntiz_master_v4__level_caps_meso"] = [{'level': 'elite', 'meso_days': 28, 'r_min': 60, 'r_max': 240, 'z1_min': 600, 'z1_max': 1800, 'z2_min': 480, 'z2_max': 1400, 'z3_min': 240, 'z3_max': 360, 'z4_min': 240, 'z4_max': 360, 'z5_min': 120, 'z5_max': 180, 'z6_min': 60, 'z6_max': 100, 'z7_min': 32, 'z7_max': 48, 'z8_min': 20, 'z8_max': 32}, {'level': 'advanced', 'meso_days': 28, 'r_min': 60, 'r_max': 200, 'z1_min': 480, 'z1_max': 1500, 'z2_min': 400, 'z2_max': 1200, 'z3_min': 180, 'z3_max': 272, 'z4_min': 180, 'z4_max': 300, 'z5_min': 100, 'z5_max': 140, 'z6_min': 48, 'z6_max': 80, 'z7_min': 24, 'z7_max': 40, 'z8_min': 16, 'z8_max': 24}, {'level': 'intermediate', 'meso_days': 28, 'r_min': 60, 'r_max': 180, 'z1_min': 360, 'z1_max': 1200, 'z2_min': 320, 'z2_max': 1000, 'z3_min': 120, 'z3_max': 180, 'z4_min': 120, 'z4_max': 240, 'z5_min': 80, 'z5_max': 120, 'z6_min': 40, 'z6_max': 60, 'z7_min': 16, 'z7_max': 32, 'z8_min': 8, 'z8_max': 16}, {'level': 'novice', 'meso_days': 28, 'r_min': 60, 'r_max': 150, 'z1_min': 240, 'z1_max': 900, 'z2_min': 200, 'z2_max': 800, 'z3_min': 72, 'z3_max': 108, 'z4_min': 80, 'z4_max': 160, 'z5_min': 60, 'z5_max': 100, 'z6_min': 24, 'z6_max': 48, 'z7_min': 8, 'z7_max': 24, 'z8_min': 4, 'z8_max': 8}, {'level': 'beginner', 'meso_days': 28, 'r_min': 60, 'r_max': 120, 'z1_min': 180, 'z1_max': 600, 'z2_min': 150, 'z2_max': 500, 'z3_min': 0, 'z3_max': 24, 'z4_min': 0, 'z4_max': 20, 'z5_min': 0, 'z5_max': 0, 'z6_min': 0, 'z6_max': 0, 'z7_min': 0, 'z7_max': 0, 'z8_min': 0, 'z8_max': 0}]
        self._tables["ntiz_master_v4__beginner_progression"] = [{'meso_days': 28, 'min_mesos_completed': 0, 'max_mesos_completed': 0, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': False, 'z4_allowed': False, 'z5_allowed': False, 'z6_z8_allowed': False, 'r_z2_pct_min': 100, 'z3_max_per_session': 0, 'z4_max_per_meso': 0}, {'meso_days': 28, 'min_mesos_completed': 1, 'max_mesos_completed': 1, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': False, 'z5_allowed': False, 'z6_z8_allowed': False, 'r_z2_pct_min': 95, 'z3_max_per_session': 6, 'z4_max_per_meso': 0}, {'meso_days': 28, 'min_mesos_completed': 2, 'max_mesos_completed': 2, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': False, 'z6_z8_allowed': False, 'r_z2_pct_min': 90, 'z3_max_per_session': 6, 'z4_max_per_meso': 20}, {'meso_days': 28, 'min_mesos_completed': 3, 'max_mesos_completed': 5, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_z8_allowed': False, 'r_z2_pct_min': 85, 'z3_max_per_session': 12, 'z4_max_per_meso': 36}, {'meso_days': 28, 'min_mesos_completed': 6, 'max_mesos_completed': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_z8_allowed': True, 'r_z2_pct_min': 80, 'z3_max_per_session': None, 'z4_max_per_meso': None}]
        self._tables["ntiz_master_v4__age_multipliers"] = [{'age_min': 0, 'age_max': 17, 'r_z2_multiplier': 0.9, 'z3_z4_multiplier': 0.8, 'z5_z8_multiplier': 0.7, 'recovery_multiplier': 1.2}, {'age_min': 18, 'age_max': 25, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 1.0, 'z5_z8_multiplier': 1.0, 'recovery_multiplier': 1.0}, {'age_min': 26, 'age_max': 35, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 0.95, 'z5_z8_multiplier': 0.95, 'recovery_multiplier': 1.0}, {'age_min': 36, 'age_max': 45, 'r_z2_multiplier': 1.0, 'z3_z4_multiplier': 0.9, 'z5_z8_multiplier': 0.85, 'recovery_multiplier': 1.1}, {'age_min': 46, 'age_max': 55, 'r_z2_multiplier': 0.95, 'z3_z4_multiplier': 0.85, 'z5_z8_multiplier': 0.75, 'recovery_multiplier': 1.2}, {'age_min': 56, 'age_max': 65, 'r_z2_multiplier': 0.9, 'z3_z4_multiplier': 0.8, 'z5_z8_multiplier': 0.65, 'recovery_multiplier': 1.4}, {'age_min': 66, 'age_max': 999, 'r_z2_multiplier': 0.85, 'z3_z4_multiplier': 0.7, 'z5_z8_multiplier': 0.5, 'recovery_multiplier': 1.6}]
        self._tables["ntiz_master_v4__phase_targets"] = [{'phase': 'base', 'r_pct': 5, 'z1_pct': 35, 'z2_pct': 38, 'z3_pct': 5, 'z4_pct': 6, 'z5_pct': 6, 'z6_pct': 3, 'z7_pct': 1.5, 'z8_pct': 0.5}, {'phase': 'build', 'r_pct': 5, 'z1_pct': 30, 'z2_pct': 34, 'z3_pct': 8, 'z4_pct': 9, 'z5_pct': 9, 'z6_pct': 3, 'z7_pct': 1.5, 'z8_pct': 0.5}, {'phase': 'peak', 'r_pct': 5, 'z1_pct': 25, 'z2_pct': 32, 'z3_pct': 5, 'z4_pct': 10, 'z5_pct': 10, 'z6_pct': 8, 'z7_pct': 4, 'z8_pct': 1}, {'phase': 'taper', 'r_pct': 10, 'z1_pct': 30, 'z2_pct': 35, 'z3_pct': 5, 'z4_pct': 8, 'z5_pct': 7, 'z6_pct': 3, 'z7_pct': 1.5, 'z8_pct': 0.5}, {'phase': 'recovery', 'r_pct': 15, 'z1_pct': 45, 'z2_pct': 30, 'z3_pct': 5, 'z4_pct': 3, 'z5_pct': 2, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0}]
        self._tables["ntiz_master_v4__extraction_rules"] = [{'activity': 'intervals_at_target', 'zone_credit': 'target_zone', 'excluded': False}, {'activity': 'rest_intervals', 'zone_credit': 'Z1', 'excluded': False}, {'activity': 'warmup', 'zone_credit': 'actual_zone', 'excluded': False}, {'activity': 'cooldown', 'zone_credit': 'actual_zone', 'excluded': False}, {'activity': 'continuous_work', 'zone_credit': 'target_zone', 'excluded': False}, {'activity': 'transitions_stopped', 'zone_credit': None, 'excluded': True}, {'activity': 'equipment_adjustments', 'zone_credit': None, 'excluded': True}, {'activity': 'recovery_sessions', 'zone_credit': 'R', 'excluded': False}]
        self._tables["ntiz_master_v4__ramp_limits"] = [{'zone_group': 'r', 'max_increase_pct_per_meso': 25}, {'zone_group': 'z1_z2', 'max_increase_pct_per_meso': 20}, {'zone_group': 'z3', 'max_increase_pct_per_meso': 15}, {'zone_group': 'z4', 'max_increase_pct_per_meso': 12}, {'zone_group': 'z5', 'max_increase_pct_per_meso': 10}, {'zone_group': 'z6_z8', 'max_increase_pct_per_meso': 5}]
        self._tables["ntiz_master_v4__level_multipliers"] = [{'level': 'elite', 'capacity_multiplier': 1.0, 'max_intensity_sessions_per_meso': 12, 'rationale': 'Full structural adaptation, 5+ years'}, {'level': 'advanced', 'capacity_multiplier': 0.81, 'max_intensity_sessions_per_meso': 12, 'rationale': 'High adaptation, 3-5 years'}, {'level': 'intermediate', 'capacity_multiplier': 0.65, 'max_intensity_sessions_per_meso': 8, 'rationale': 'Moderate adaptation, 18mo-3yr'}, {'level': 'novice', 'capacity_multiplier': 0.47, 'max_intensity_sessions_per_meso': 8, 'rationale': 'Limited adaptation, 6-18mo'}, {'level': 'beginner', 'capacity_multiplier': 0.1, 'max_intensity_sessions_per_meso': 4, 'rationale': 'Minimal adaptation, <6mo'}]
        self._tables["ntiz_master_v4__session_limits_meso"] = [{'zone': 'R', 'beginner': None, 'novice': None, 'intermediate': None, 'advanced': None, 'elite': None}, {'zone': 'Z1', 'beginner': None, 'novice': None, 'intermediate': None, 'advanced': None, 'elite': None}, {'zone': 'Z2', 'beginner': None, 'novice': None, 'intermediate': None, 'advanced': None, 'elite': None}, {'zone': 'Z3', 'beginner': 0, 'novice': 4, 'intermediate': 8, 'advanced': 12, 'elite': 16}, {'zone': 'Z4', 'beginner': 0, 'novice': 4, 'intermediate': 8, 'advanced': 12, 'elite': 16}, {'zone': 'Z5', 'beginner': 0, 'novice': 4, 'intermediate': 8, 'advanced': 12, 'elite': 16}, {'zone': 'Z6', 'beginner': 0, 'novice': 2, 'intermediate': 4, 'advanced': 8, 'elite': 12}, {'zone': 'Z7', 'beginner': 0, 'novice': 2, 'intermediate': 4, 'advanced': 8, 'elite': 12}, {'zone': 'Z8', 'beginner': 0, 'novice': 4, 'intermediate': 8, 'advanced': 12, 'elite': 16}]
        self._tables["periodization_v4__meso_structure"] = [{'age_min': 0, 'age_max': 39, 'meso_days': 28, 'load_slices': 4, 'pattern': '3:1', 'deload_slice': 4}, {'age_min': 40, 'age_max': 54, 'meso_days': 21, 'load_slices': 3, 'pattern': '2:1', 'deload_slice': 3}, {'age_min': 55, 'age_max': 999, 'meso_days': 21, 'load_slices': 3, 'pattern': '2:1', 'deload_slice': 3}]
        self._tables["periodization_v4__meso_load_pattern"] = [{'pattern': '3:1', 'slices': 4, 'slice_1_pct': 90, 'slice_2_pct': 100, 'slice_3_pct': 108, 'slice_4_pct': 55}, {'pattern': '2:1', 'slices': 3, 'slice_1_pct': 90, 'slice_2_pct': 100, 'slice_3_pct': 55, 'slice_4_pct': None}]
        self._tables["periodization_v4__phase_zone_distribution"] = [{'phase': 'base', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'day_min': 1, 'day_max': 3, 'r_pct': 10, 'z1_pct': 45, 'z2_pct': 45, 'z3_pct': 0, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'ramp_in_all'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'day_min': 4, 'day_max': 999, 'r_pct': 5, 'z1_pct': 47, 'z2_pct': 48, 'z3_pct': 0, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'beginner_novice'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'age_min': 0, 'age_max': 54, 'day_min': 4, 'day_max': 999, 'r_pct': 5, 'z1_pct': 40, 'z2_pct': 45, 'z3_pct': 5, 'z4_pct': 5, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'intermediate'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'age_min': 55, 'age_max': 999, 'day_min': 4, 'day_max': 999, 'r_pct': 5, 'z1_pct': 42, 'z2_pct': 48, 'z3_pct': 5, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'intermediate_masters'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'age_min': 0, 'age_max': 54, 'day_min': 4, 'day_max': 999, 'r_pct': 5, 'z1_pct': 35, 'z2_pct': 43, 'z3_pct': 7, 'z4_pct': 10, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'advanced_elite'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'age_min': 55, 'age_max': 999, 'day_min': 4, 'day_max': 999, 'r_pct': 5, 'z1_pct': 40, 'z2_pct': 45, 'z3_pct': 5, 'z4_pct': 5, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'advanced_elite_masters'}, {'phase': 'build', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'day_min': 1, 'day_max': 2, 'r_pct': 10, 'z1_pct': 40, 'z2_pct': 40, 'z3_pct': 10, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'build_prep'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 35, 'z2_pct': 45, 'z3_pct': 10, 'z4_pct': 5, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'beginner_novice_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 5, 'age_min': 0, 'age_max': 54, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 30, 'z2_pct': 34, 'z3_pct': 8, 'z4_pct': 9, 'z5_pct': 9, 'z6_pct': 5, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'intermediate_plus_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 5, 'age_min': 55, 'age_max': 999, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 35, 'z2_pct': 38, 'z3_pct': 8, 'z4_pct': 7, 'z5_pct': 7, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'masters_build'}, {'phase': 'peak', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'day_min': 1, 'day_max': 2, 'r_pct': 10, 'z1_pct': 40, 'z2_pct': 50, 'z3_pct': 0, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'peak_prep'}, {'phase': 'peak', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 30, 'z2_pct': 50, 'z3_pct': 5, 'z4_pct': 10, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'beginner_novice_peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'age_min': 0, 'age_max': 54, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 25, 'z2_pct': 32, 'z3_pct': 5, 'z4_pct': 10, 'z5_pct': 10, 'z6_pct': 8, 'z7_pct': 4, 'z8_pct': 1, 'notes': 'intermediate_plus_peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'age_min': 55, 'age_max': 999, 'day_min': 3, 'day_max': 999, 'r_pct': 5, 'z1_pct': 30, 'z2_pct': 35, 'z3_pct': 5, 'z4_pct': 10, 'z5_pct': 10, 'z6_pct': 5, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'masters_peak'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'day_min': 1, 'day_max': 999, 'r_pct': 10, 'z1_pct': 30, 'z2_pct': 35, 'z3_pct': 5, 'z4_pct': 8, 'z5_pct': 7, 'z6_pct': 5, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'taper_all'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'day_min': 1, 'day_max': 999, 'r_pct': 15, 'z1_pct': 45, 'z2_pct': 40, 'z3_pct': 0, 'z4_pct': 0, 'z5_pct': 0, 'z6_pct': 0, 'z7_pct': 0, 'z8_pct': 0, 'notes': 'recovery_all'}]
        self._tables["periodization_v4__phase_objectives"] = [{'phase': 'base', 'primary_objective': 'aerobic_foundation', 'key_adaptations': 'mitochondria,capillaries,connective_tissue'}, {'phase': 'build', 'primary_objective': 'threshold_development', 'key_adaptations': 'lactate_clearance,muscular_endurance'}, {'phase': 'peak', 'primary_objective': 'race_sharpening', 'key_adaptations': 'neural_recruitment,glycogen,confidence'}, {'phase': 'taper', 'primary_objective': 'freshness_optimization', 'key_adaptations': 'supercompensation,mental_prep'}, {'phase': 'recovery', 'primary_objective': 'restoration', 'key_adaptations': 'tissue_repair,psychological_reset'}]
        self._tables["periodization_v4__volume_envelope"] = [{'phase': 'base', 'start_pct': 70, 'end_pct': 85}, {'phase': 'build', 'start_pct': 85, 'end_pct': 100}, {'phase': 'peak', 'start_pct': 90, 'end_pct': 100}, {'phase': 'taper', 'start_pct': 60, 'end_pct': 80}, {'phase': 'recovery', 'start_pct': 30, 'end_pct': 50}]
        self._tables["periodization_v4__block_count"] = [{'mesos_min': 1, 'mesos_max': 4, 'blocks': 1}, {'mesos_min': 5, 'mesos_max': 7, 'blocks': 2}, {'mesos_min': 8, 'mesos_max': 11, 'blocks': 3}, {'mesos_min': 12, 'mesos_max': 999, 'blocks': 4}]
        self._tables["periodization_v4__block_phase_ratios"] = [{'block_idx': 0, 'num_blocks': 1, 'base_pct': 50, 'build_pct': 35, 'peak_pct': 15}, {'block_idx': 0, 'num_blocks': 2, 'base_pct': 70, 'build_pct': 30, 'peak_pct': 0}, {'block_idx': 1, 'num_blocks': 2, 'base_pct': 30, 'build_pct': 45, 'peak_pct': 25}, {'block_idx': 0, 'num_blocks': 3, 'base_pct': 80, 'build_pct': 20, 'peak_pct': 0}, {'block_idx': 1, 'num_blocks': 3, 'base_pct': 40, 'build_pct': 45, 'peak_pct': 15}, {'block_idx': 2, 'num_blocks': 3, 'base_pct': 20, 'build_pct': 40, 'peak_pct': 40}]
        self._tables["periodization_v4__taper_duration"] = [{'event': '5k', 'taper_days': 7}, {'event': '10k', 'taper_days': 10}, {'event': 'half_marathon', 'taper_days': 14}, {'event': 'marathon', 'taper_days': 21}, {'event': 'ultra', 'taper_days': 21}]
        self._tables["periodization_v4__intensity_per_meso"] = [{'level': 'beginner', 'meso_days': 28, 'min_intensity_sessions': 0, 'max_intensity_sessions': 4, 'min_hours_between': 72}, {'level': 'novice', 'meso_days': 28, 'min_intensity_sessions': 4, 'max_intensity_sessions': 8, 'min_hours_between': 48}, {'level': 'intermediate', 'meso_days': 28, 'min_intensity_sessions': 6, 'max_intensity_sessions': 10, 'min_hours_between': 48}, {'level': 'advanced', 'meso_days': 28, 'min_intensity_sessions': 8, 'max_intensity_sessions': 14, 'min_hours_between': 48}, {'level': 'elite', 'meso_days': 28, 'min_intensity_sessions': 10, 'max_intensity_sessions': 16, 'min_hours_between': 36}]
        self._tables["periodization_v4__beginner_progression"] = [{'min_mesos_completed': 0, 'max_mesos_completed': 1, 'periodization_allowed': None, 'intensity_allowed': 'z1_z2_only'}, {'min_mesos_completed': 2, 'max_mesos_completed': 3, 'periodization_allowed': 'simple_phases', 'intensity_allowed': 'z3_intro'}, {'min_mesos_completed': 4, 'max_mesos_completed': 6, 'periodization_allowed': 'full_phases', 'intensity_allowed': 'z4_intro'}, {'min_mesos_completed': 7, 'max_mesos_completed': 999, 'periodization_allowed': 'full', 'intensity_allowed': 'all_unlocked'}]
        self._tables["periodization_v4__residual_effects"] = [{'quality': 'aerobic', 'retention_days': 30}, {'quality': 'threshold', 'retention_days': 21}, {'quality': 'vo2max', 'retention_days': 18}, {'quality': 'anaerobic', 'retention_days': 15}, {'quality': 'speed', 'retention_days': 5}]
        self._tables["periodization_v4__phase_volume_multipliers"] = [{'phase': 'base', 'volume_multiplier': 1.0}, {'phase': 'build', 'volume_multiplier': 1.1}, {'phase': 'peak', 'volume_multiplier': 0.95}, {'phase': 'taper', 'volume_multiplier': 0.6}, {'phase': 'recovery', 'volume_multiplier': 0.5}]
        self._tables["periodization_v4__phase_zone_legality"] = [{'phase': 'base', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': False, 'z4_allowed': False, 'z5_allowed': False, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'base', 'level_min': 3, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': False, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': False, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'build', 'level_min': 3, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'peak', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_allowed': True, 'z7_allowed': True, 'z8_allowed': True}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': True, 'z4_allowed': True, 'z5_allowed': True, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'r_allowed': True, 'z1_allowed': True, 'z2_allowed': True, 'z3_allowed': False, 'z4_allowed': False, 'z5_allowed': False, 'z6_allowed': False, 'z7_allowed': False, 'z8_allowed': False}]
        self._tables["zone_anchoring_v4__anchor_precedence"] = [{'modality': 'hr', 'anchor_set': 'lt1_hr_and_lt2_hr', 'priority': 1, 'confidence': 1.0, 'notes': 'gold_standard_lab_validated'}, {'modality': 'hr', 'anchor_set': 'lthr_only', 'priority': 2, 'confidence': 0.85, 'notes': 'treat_lthr_as_lt2_proxy'}, {'modality': 'hr', 'anchor_set': 'hrmax_only', 'priority': 3, 'confidence': 0.7, 'notes': 'template_pct_hrmax'}, {'modality': 'hr', 'anchor_set': 'age_estimated', 'priority': 4, 'confidence': 0.5, 'notes': '220_minus_age_fallback'}, {'modality': 'power', 'anchor_set': 'lt1_power_and_lt2_power', 'priority': 1, 'confidence': 1.0, 'notes': 'lab_validated_best'}, {'modality': 'power', 'anchor_set': 'ftp_or_cp', 'priority': 2, 'confidence': 0.85, 'notes': 'practical_field_standard'}, {'modality': 'power', 'anchor_set': 'ramp_test', 'priority': 3, 'confidence': 0.7, 'notes': 'quick_estimate'}, {'modality': 'pace', 'anchor_set': 'lt1_pace_and_threshold_pace', 'priority': 1, 'confidence': 1.0, 'notes': 'validated_thresholds'}, {'modality': 'pace', 'anchor_set': 'threshold_pace_only', 'priority': 2, 'confidence': 0.85, 'notes': 'common_for_runners'}, {'modality': 'pace', 'anchor_set': 'race_estimated', 'priority': 3, 'confidence': 0.7, 'notes': 'vdot_or_race_predictor'}]
        self._tables["zone_anchoring_v4__hr_template_pct_hrmax"] = [{'zone': 'R', 'hr_pct_min': 0, 'hr_pct_max': 55, 'hr_reliability': 'high', 'notes': 'active_restoration'}, {'zone': 'Z1', 'hr_pct_min': 55, 'hr_pct_max': 72, 'hr_reliability': 'high', 'notes': 'easy_aerobic'}, {'zone': 'Z2', 'hr_pct_min': 72, 'hr_pct_max': 82, 'hr_reliability': 'high', 'notes': 'aerobic_development'}, {'zone': 'Z3', 'hr_pct_min': 82, 'hr_pct_max': 87, 'hr_reliability': 'medium', 'notes': 'tempo_sub_threshold'}, {'zone': 'Z4', 'hr_pct_min': 87, 'hr_pct_max': 92, 'hr_reliability': 'medium', 'notes': 'threshold'}, {'zone': 'Z5', 'hr_pct_min': 92, 'hr_pct_max': 100, 'hr_reliability': 'medium', 'notes': 'vo2max'}, {'zone': 'Z6', 'hr_pct_min': 97, 'hr_pct_max': 100, 'hr_reliability': 'low', 'notes': 'hr_lags_use_power_rpe'}, {'zone': 'Z7', 'hr_pct_min': 100, 'hr_pct_max': 100, 'hr_reliability': 'very_low', 'notes': 'hr_unreliable'}, {'zone': 'Z8', 'hr_pct_min': None, 'hr_pct_max': None, 'hr_reliability': 'not_applicable', 'notes': 'neuromuscular_hr_meaningless'}]
        self._tables["zone_anchoring_v4__hr_anchored_rules"] = [{'zone': 'R', 'anchor_method': 'lt1_lt2', 'lower_formula': 0, 'upper_formula': 'lt1_hr*0.85', 'notes': 'well_below_lt1'}, {'zone': 'Z1', 'anchor_method': 'lt1_lt2', 'lower_formula': 'lt1_hr*0.85', 'upper_formula': 'lt1_hr*0.95', 'notes': 'approaching_lt1'}, {'zone': 'Z2', 'anchor_method': 'lt1_lt2', 'lower_formula': 'lt1_hr*0.95', 'upper_formula': 'lt1_hr*1.00', 'notes': 'at_lt1'}, {'zone': 'Z3', 'anchor_method': 'lt1_lt2', 'lower_formula': 'lt1_hr*1.00', 'upper_formula': 'lt2_hr*0.95', 'notes': 'between_thresholds'}, {'zone': 'Z4', 'anchor_method': 'lt1_lt2', 'lower_formula': 'lt2_hr*0.95', 'upper_formula': 'lt2_hr*1.00', 'notes': 'at_lt2'}, {'zone': 'Z5', 'anchor_method': 'lt1_lt2', 'lower_formula': 'lt2_hr*1.00', 'upper_formula': 'hrmax', 'notes': 'above_lt2_to_max'}, {'zone': 'Z6', 'anchor_method': 'lt1_lt2', 'lower_formula': None, 'upper_formula': None, 'notes': 'use_power_or_rpe'}, {'zone': 'Z7', 'anchor_method': 'lt1_lt2', 'lower_formula': None, 'upper_formula': None, 'notes': 'use_power_or_rpe'}, {'zone': 'Z8', 'anchor_method': 'lt1_lt2', 'lower_formula': None, 'upper_formula': None, 'notes': 'use_power_or_rpe'}]
        self._tables["zone_anchoring_v4__power_template_pct_ftp"] = [{'zone': 'R', 'ftp_pct_min': 0, 'ftp_pct_max': 45, 'power_reliability': 'high', 'notes': 'active_restoration'}, {'zone': 'Z1', 'ftp_pct_min': 45, 'ftp_pct_max': 55, 'power_reliability': 'high', 'notes': 'easy_aerobic'}, {'zone': 'Z2', 'ftp_pct_min': 55, 'ftp_pct_max': 75, 'power_reliability': 'high', 'notes': 'aerobic_endurance'}, {'zone': 'Z3', 'ftp_pct_min': 76, 'ftp_pct_max': 90, 'power_reliability': 'high', 'notes': 'tempo'}, {'zone': 'Z4', 'ftp_pct_min': 91, 'ftp_pct_max': 105, 'power_reliability': 'high', 'notes': 'threshold'}, {'zone': 'Z5', 'ftp_pct_min': 106, 'ftp_pct_max': 120, 'power_reliability': 'high', 'notes': 'vo2max'}, {'zone': 'Z6', 'ftp_pct_min': 121, 'ftp_pct_max': 150, 'power_reliability': 'high', 'notes': 'anaerobic_capacity'}, {'zone': 'Z7', 'ftp_pct_min': 151, 'ftp_pct_max': 200, 'power_reliability': 'medium', 'notes': 'max_anaerobic'}, {'zone': 'Z8', 'ftp_pct_min': 201, 'ftp_pct_max': 999, 'power_reliability': 'medium', 'notes': 'neuromuscular_sprint'}]
        self._tables["zone_anchoring_v4__power_anchored_rules"] = [{'zone': 'R', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 0, 'upper_formula': 'lt1_power*0.75', 'notes': 'well_below_lt1'}, {'zone': 'Z1', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt1_power*0.75', 'upper_formula': 'lt1_power*0.90', 'notes': 'approaching_lt1'}, {'zone': 'Z2', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt1_power*0.90', 'upper_formula': 'lt1_power*1.00', 'notes': 'at_lt1'}, {'zone': 'Z3', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt1_power*1.00', 'upper_formula': 'lt2_power*0.95', 'notes': 'between_thresholds'}, {'zone': 'Z4', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt2_power*0.95', 'upper_formula': 'lt2_power*1.05', 'notes': 'at_lt2'}, {'zone': 'Z5', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt2_power*1.05', 'upper_formula': 'lt2_power*1.20', 'notes': 'above_lt2'}, {'zone': 'Z6', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt2_power*1.20', 'upper_formula': 'lt2_power*1.50', 'notes': 'anaerobic'}, {'zone': 'Z7', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt2_power*1.50', 'upper_formula': 'lt2_power*2.00', 'notes': 'max_anaerobic'}, {'zone': 'Z8', 'anchor_method': 'lt1_lt2_power', 'lower_formula': 'lt2_power*2.00', 'upper_formula': 9999, 'notes': 'sprint'}]
        self._tables["zone_anchoring_v4__pace_template_pct_threshold"] = [{'zone': 'R', 'pace_pct_min': 130, 'pace_pct_max': 999, 'notes': 'very_slow_walk_jog'}, {'zone': 'Z1', 'pace_pct_min': 115, 'pace_pct_max': 130, 'notes': 'easy_conversational'}, {'zone': 'Z2', 'pace_pct_min': 105, 'pace_pct_max': 115, 'notes': 'steady_aerobic'}, {'zone': 'Z3', 'pace_pct_min': 100, 'pace_pct_max': 105, 'notes': 'tempo'}, {'zone': 'Z4', 'pace_pct_min': 95, 'pace_pct_max': 100, 'notes': 'threshold'}, {'zone': 'Z5', 'pace_pct_min': 88, 'pace_pct_max': 95, 'notes': 'vo2max_intervals'}, {'zone': 'Z6', 'pace_pct_min': 80, 'pace_pct_max': 88, 'notes': 'anaerobic'}, {'zone': 'Z7', 'pace_pct_min': 70, 'pace_pct_max': 80, 'notes': 'max_anaerobic'}, {'zone': 'Z8', 'pace_pct_min': 0, 'pace_pct_max': 70, 'notes': 'sprint'}]
        self._tables["zone_anchoring_v4__talk_test_mapping"] = [{'talk_test_result': 'can_sing', 'maps_to_zone': 'R', 'confidence': 0.7, 'notes': 'effortless'}, {'talk_test_result': 'paragraphs_easy', 'maps_to_zone': 'Z1', 'confidence': 0.7, 'notes': 'very_easy'}, {'talk_test_result': 'long_sentences', 'maps_to_zone': 'Z2', 'confidence': 0.6, 'notes': 'easy_aerobic'}, {'talk_test_result': 'short_sentences', 'maps_to_zone': 'Z3', 'confidence': 0.6, 'notes': 'at_or_near_lt1'}, {'talk_test_result': 'few_words', 'maps_to_zone': 'Z4', 'confidence': 0.5, 'notes': 'approaching_lt2'}, {'talk_test_result': 'cannot_speak', 'maps_to_zone': 'Z5', 'confidence': 0.5, 'notes': 'at_or_above_lt2'}, {'talk_test_result': 'gasping', 'maps_to_zone': 'Z6', 'confidence': 0.4, 'notes': 'anaerobic'}, {'talk_test_result': 'impossible', 'maps_to_zone': 'Z7_Z8', 'confidence': 0.3, 'notes': 'maximal'}]
        self._tables["zone_anchoring_v4__anchor_confidence"] = [{'anchor_type': 'lab_lt1_lt2', 'base_confidence': 1.0, 'decay_days': 120, 'retest_interval_days': 90, 'notes': 'gold_standard'}, {'anchor_type': 'field_ftp_20min', 'base_confidence': 0.85, 'decay_days': 90, 'retest_interval_days': 42, 'notes': 'retest_6_weeks'}, {'anchor_type': 'field_ftp_ramp', 'base_confidence': 0.75, 'decay_days': 60, 'retest_interval_days': 42, 'notes': 'less_reliable'}, {'anchor_type': 'hrmax_test', 'base_confidence': 0.8, 'decay_days': 365, 'retest_interval_days': 180, 'notes': 'stable_retest_yearly'}, {'anchor_type': 'hrmax_age_formula', 'base_confidence': 0.5, 'decay_days': 0, 'retest_interval_days': 0, 'notes': 'use_only_if_no_test'}, {'anchor_type': 'talk_test', 'base_confidence': 0.6, 'decay_days': 14, 'retest_interval_days': 7, 'notes': 'frequent_recalibration'}, {'anchor_type': 'race_result', 'base_confidence': 0.8, 'decay_days': 90, 'retest_interval_days': 0, 'notes': 'vdot_prediction'}]
        self._tables["zone_anchoring_v4__hrmax_estimation"] = [{'formula_name': 'tanaka', 'formula': '208-0.7*age', 'population': 'general', 'accuracy': 'moderate'}, {'formula_name': 'fox', 'formula': '220-age', 'population': 'general', 'accuracy': 'low'}, {'formula_name': 'gellish', 'formula': '207-0.7*age', 'population': 'active_adults', 'accuracy': 'moderate'}, {'formula_name': 'nes', 'formula': '211-0.64*age', 'population': 'healthy_adults', 'accuracy': 'moderate'}]
        self._tables["zone_anchoring_v4__metric_reliability_by_zone"] = [{'zone': 'R', 'hr_reliability': 'high', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'high'}, {'zone': 'Z1', 'hr_reliability': 'high', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'high'}, {'zone': 'Z2', 'hr_reliability': 'high', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'high'}, {'zone': 'Z3', 'hr_reliability': 'medium', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'medium'}, {'zone': 'Z4', 'hr_reliability': 'medium', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'medium'}, {'zone': 'Z5', 'hr_reliability': 'medium', 'power_reliability': 'high', 'pace_reliability': 'high', 'rpe_reliability': 'medium'}, {'zone': 'Z6', 'hr_reliability': 'low', 'power_reliability': 'high', 'pace_reliability': 'medium', 'rpe_reliability': 'medium'}, {'zone': 'Z7', 'hr_reliability': 'very_low', 'power_reliability': 'medium', 'pace_reliability': 'low', 'rpe_reliability': 'low'}, {'zone': 'Z8', 'hr_reliability': 'not_applicable', 'power_reliability': 'medium', 'pace_reliability': 'low', 'rpe_reliability': 'low'}]
        self._tables["performance_v4__feasibility_matrix"] = [{'improvement_pct': 3, 'beginner_weeks': 4, 'novice_weeks': 6, 'intermediate_weeks': 8, 'advanced_weeks': 12, 'elite_weeks': 20, 'source': 'Seiler_2010'}, {'improvement_pct': 5, 'beginner_weeks': 6, 'novice_weeks': 8, 'intermediate_weeks': 14, 'advanced_weeks': 20, 'elite_weeks': 40, 'source': 'Midgley_2007'}, {'improvement_pct': 8, 'beginner_weeks': 10, 'novice_weeks': 14, 'intermediate_weeks': 22, 'advanced_weeks': 36, 'elite_weeks': None, 'source': 'Esteve_Lanao_2007'}, {'improvement_pct': 10, 'beginner_weeks': 12, 'novice_weeks': 18, 'intermediate_weeks': 30, 'advanced_weeks': 48, 'elite_weeks': None, 'source': 'Jones_Carter_2000'}, {'improvement_pct': 15, 'beginner_weeks': 20, 'novice_weeks': 32, 'intermediate_weeks': 48, 'advanced_weeks': None, 'elite_weeks': None, 'source': 'Stoggl_2014'}, {'improvement_pct': 20, 'beginner_weeks': 28, 'novice_weeks': 44, 'intermediate_weeks': None, 'advanced_weeks': None, 'elite_weeks': None, 'source': 'Coyle_2005'}]
        self._tables["performance_v4__weekly_improvement_rates"] = [{'level': 'beginner', 'sport': 'running', 'weekly_pct_min': 0.8, 'weekly_pct_max': 1.5, 'plateau_weeks': 52, 'confidence': 'high', 'source': 'Seiler_2010', 'notes': 'rapid_initial_gains'}, {'level': 'beginner', 'sport': 'cycling', 'weekly_pct_min': 0.8, 'weekly_pct_max': 1.5, 'plateau_weeks': 52, 'confidence': 'high', 'source': 'Hawley_2001', 'notes': 'rapid_initial_gains'}, {'level': 'novice', 'sport': 'running', 'weekly_pct_min': 0.4, 'weekly_pct_max': 0.7, 'plateau_weeks': 78, 'confidence': 'high', 'source': 'Midgley_2007', 'notes': 'consistent_improvement'}, {'level': 'novice', 'sport': 'cycling', 'weekly_pct_min': 0.4, 'weekly_pct_max': 0.7, 'plateau_weeks': 78, 'confidence': 'high', 'source': 'Midgley_2007', 'notes': 'consistent_improvement'}, {'level': 'intermediate', 'sport': 'running', 'weekly_pct_min': 0.2, 'weekly_pct_max': 0.4, 'plateau_weeks': 104, 'confidence': 'medium', 'source': 'Jones_Carter_2000', 'notes': 'diminishing_returns_start'}, {'level': 'intermediate', 'sport': 'cycling', 'weekly_pct_min': 0.2, 'weekly_pct_max': 0.4, 'plateau_weeks': 104, 'confidence': 'medium', 'source': 'Hawley_2001', 'notes': 'diminishing_returns_start'}, {'level': 'advanced', 'sport': 'running', 'weekly_pct_min': 0.1, 'weekly_pct_max': 0.2, 'plateau_weeks': 156, 'confidence': 'medium', 'source': 'Laursen_2010', 'notes': 'small_gains_hard_won'}, {'level': 'advanced', 'sport': 'cycling', 'weekly_pct_min': 0.1, 'weekly_pct_max': 0.2, 'plateau_weeks': 156, 'confidence': 'medium', 'source': 'Coyle_2005', 'notes': 'small_gains_hard_won'}, {'level': 'elite', 'sport': 'running', 'weekly_pct_min': 0.02, 'weekly_pct_max': 0.05, 'plateau_weeks': 208, 'confidence': 'low', 'source': 'Jones_2006', 'notes': 'marginal_gains_only'}, {'level': 'elite', 'sport': 'cycling', 'weekly_pct_min': 0.02, 'weekly_pct_max': 0.05, 'plateau_weeks': 208, 'confidence': 'low', 'source': 'Coyle_2005', 'notes': 'marginal_gains_only'}]
        self._tables["performance_v4__age_adaptation_multipliers"] = [{'age_min': 0, 'age_max': 17, 'vo2max_mult': 1.2, 'threshold_mult': 1.15, 'economy_mult': 1.0, 'recovery_mult': 0.85, 'source': 'conservative', 'notes': 'youth_high_plasticity'}, {'age_min': 18, 'age_max': 29, 'vo2max_mult': 1.0, 'threshold_mult': 1.0, 'economy_mult': 1.0, 'recovery_mult': 1.0, 'source': 'Tanaka_2008', 'notes': 'baseline_adult'}, {'age_min': 30, 'age_max': 39, 'vo2max_mult': 0.95, 'threshold_mult': 0.97, 'economy_mult': 1.0, 'recovery_mult': 1.05, 'source': 'Tanaka_2008', 'notes': 'minimal_decline'}, {'age_min': 40, 'age_max': 49, 'vo2max_mult': 0.88, 'threshold_mult': 0.92, 'economy_mult': 0.98, 'recovery_mult': 1.15, 'source': 'Tanaka_2008', 'notes': 'moderate_decline'}, {'age_min': 50, 'age_max': 59, 'vo2max_mult': 0.78, 'threshold_mult': 0.85, 'economy_mult': 0.95, 'recovery_mult': 1.3, 'source': 'Reaburn_2008', 'notes': 'significant_decline'}, {'age_min': 60, 'age_max': 69, 'vo2max_mult': 0.68, 'threshold_mult': 0.77, 'economy_mult': 0.92, 'recovery_mult': 1.5, 'source': 'Trappe_2013', 'notes': 'major_decline'}, {'age_min': 70, 'age_max': 79, 'vo2max_mult': 0.55, 'threshold_mult': 0.67, 'economy_mult': 0.88, 'recovery_mult': 1.8, 'source': 'Trappe_2013', 'notes': 'severe_decline'}, {'age_min': 80, 'age_max': 99, 'vo2max_mult': 0.42, 'threshold_mult': 0.55, 'economy_mult': 0.82, 'recovery_mult': 2.2, 'source': 'estimated', 'notes': 'extreme_decline'}]
        self._tables["performance_v4__frequency_dose_response"] = [{'sessions_per_week': 2, 'improvement_mult': 0.55, 'injury_risk_mult': 0.7, 'optimal_for_level': 'maintenance', 'min_level_required': 'any', 'source': 'Foster_2001'}, {'sessions_per_week': 3, 'improvement_mult': 0.75, 'injury_risk_mult': 0.85, 'optimal_for_level': 'beginner', 'min_level_required': 'any', 'source': 'Seiler_2010'}, {'sessions_per_week': 4, 'improvement_mult': 1.0, 'injury_risk_mult': 1.0, 'optimal_for_level': 'novice_intermediate', 'min_level_required': 'any', 'source': 'Midgley_2007'}, {'sessions_per_week': 5, 'improvement_mult': 1.12, 'injury_risk_mult': 1.2, 'optimal_for_level': 'intermediate_advanced', 'min_level_required': 'novice', 'source': 'Stoggl_2014'}, {'sessions_per_week': 6, 'improvement_mult': 1.18, 'injury_risk_mult': 1.5, 'optimal_for_level': 'advanced', 'min_level_required': 'intermediate', 'source': 'Mujika_2017'}, {'sessions_per_week': 7, 'improvement_mult': 1.22, 'injury_risk_mult': 2.0, 'optimal_for_level': 'elite', 'min_level_required': 'advanced', 'source': 'consensus'}]
        self._tables["performance_v4__session_duration_effectiveness"] = [{'duration_min': 15, 'duration_max': 29, 'effectiveness_pct': 50, 'notes': 'minimal_stimulus', 'source': 'Foster_2001'}, {'duration_min': 30, 'duration_max': 44, 'effectiveness_pct': 75, 'notes': 'basic_maintenance', 'source': 'Seiler_2010'}, {'duration_min': 45, 'duration_max': 59, 'effectiveness_pct': 90, 'notes': 'good_development', 'source': 'Midgley_2007'}, {'duration_min': 60, 'duration_max': 89, 'effectiveness_pct': 100, 'notes': 'optimal_range', 'source': 'consensus'}, {'duration_min': 90, 'duration_max': 119, 'effectiveness_pct': 100, 'notes': 'extended_optimal', 'source': 'Stoggl_2014'}, {'duration_min': 120, 'duration_max': 179, 'effectiveness_pct': 95, 'notes': 'diminishing_aerobic', 'source': 'Mujika_2017'}, {'duration_min': 180, 'duration_max': 300, 'effectiveness_pct': 85, 'notes': 'ultra_specific_only', 'source': 'ultra_consensus'}]
        self._tables["performance_v4__adaptation_time_course"] = [{'adaptation_type': 'neuromuscular', 'onset_weeks': 1, 'peak_weeks': 4, 'decay_weeks': 2, 'trainable_years': 3, 'source': 'Jones_Carter_2000'}, {'adaptation_type': 'metabolic_enzymes', 'onset_weeks': 2, 'peak_weeks': 8, 'decay_weeks': 3, 'trainable_years': 5, 'source': 'Midgley_2007'}, {'adaptation_type': 'vo2max', 'onset_weeks': 4, 'peak_weeks': 16, 'decay_weeks': 4, 'trainable_years': 7, 'source': 'Seiler_2010'}, {'adaptation_type': 'lactate_threshold', 'onset_weeks': 6, 'peak_weeks': 24, 'decay_weeks': 6, 'trainable_years': 10, 'source': 'Stoggl_2014'}, {'adaptation_type': 'economy', 'onset_weeks': 12, 'peak_weeks': 52, 'decay_weeks': 12, 'trainable_years': 15, 'source': 'Jones_2006'}, {'adaptation_type': 'structural', 'onset_weeks': 24, 'peak_weeks': 104, 'decay_weeks': 24, 'trainable_years': 20, 'source': 'Trappe_2013'}]
        self._tables["performance_v4__diminishing_returns"] = [{'training_years_min': 0, 'training_years_max': 1, 'improvement_ceiling_pct': 25, 'weekly_max_pct': 1.5, 'annual_max_pct': 25, 'confidence': 'high'}, {'training_years_min': 1, 'training_years_max': 2, 'improvement_ceiling_pct': 15, 'weekly_max_pct': 0.8, 'annual_max_pct': 15, 'confidence': 'high'}, {'training_years_min': 2, 'training_years_max': 4, 'improvement_ceiling_pct': 10, 'weekly_max_pct': 0.5, 'annual_max_pct': 10, 'confidence': 'medium'}, {'training_years_min': 4, 'training_years_max': 7, 'improvement_ceiling_pct': 5, 'weekly_max_pct': 0.25, 'annual_max_pct': 5, 'confidence': 'medium'}, {'training_years_min': 7, 'training_years_max': 12, 'improvement_ceiling_pct': 3, 'weekly_max_pct': 0.1, 'annual_max_pct': 3, 'confidence': 'low'}, {'training_years_min': 12, 'training_years_max': 99, 'improvement_ceiling_pct': 1, 'weekly_max_pct': 0.03, 'annual_max_pct': 1, 'confidence': 'low'}]
        self._tables["performance_v4__max_improvement_limits"] = [{'level': 'beginner', 'max_12_week_pct': 15, 'max_annual_pct': 30, 'notes': 'high_plasticity'}, {'level': 'novice', 'max_12_week_pct': 10, 'max_annual_pct': 18, 'notes': 'good_response'}, {'level': 'intermediate', 'max_12_week_pct': 6, 'max_annual_pct': 12, 'notes': 'moderate_response'}, {'level': 'advanced', 'max_12_week_pct': 3, 'max_annual_pct': 6, 'notes': 'limited_headroom'}, {'level': 'elite', 'max_12_week_pct': 1, 'max_annual_pct': 2, 'notes': 'marginal_gains'}]
        self._tables["performance_v4__fallback_multipliers"] = [{'key': 'age_vo2max_fallback', 'value': 0.6, 'rationale': 'conservative_for_very_old'}, {'key': 'age_recovery_fallback', 'value': 2.0, 'rationale': 'double_recovery_time'}, {'key': 'frequency_low_fallback', 'value': 0.55, 'rationale': 'two_sessions_or_less'}, {'key': 'frequency_high_fallback', 'value': 1.22, 'rationale': 'seven_plus_sessions'}, {'key': 'frequency_mid_fallback', 'value': 1.0, 'rationale': 'baseline_frequency_effect'}, {'key': 'duration_eff_fallback', 'value': 1.0, 'rationale': 'neutral_assumption'}, {'key': 'suggestion_safety_margin', 'value': 0.9, 'rationale': 'ten_percent_buffer'}, {'key': 'suggested_weeks_buffer', 'value': 1.1, 'rationale': 'ten_percent_extra'}, {'key': 'individual_assessment_weeks', 'value': 52, 'rationale': 'one_year_default'}, {'key': 'meso_days_fallback', 'value': 21, 'rationale': 'conservative_21day_for_unknown_age'}, {'key': 'meso_load_weeks_fallback', 'value': 2, 'rationale': 'two_week_load_for_conservative'}, {'key': 'meso_rate_pct_fallback', 'value': 0.6, 'rationale': 'intermediate_min_rate'}, {'key': 'taper_bonus_pct_fallback', 'value': 1.0, 'rationale': 'standard_taper_bonus'}, {'key': 'base_weeks_fallback', 'value': 52, 'rationale': 'one_year_conservative'}, {'key': 'phase_multiplier_fallback', 'value': 1.0, 'rationale': 'build_phase_baseline'}, {'key': 'sport_multiplier_fallback', 'value': 1.0, 'rationale': 'cycling_baseline'}, {'key': 'dose_multiplier_fallback', 'value': 1.0, 'rationale': 'optimal_dose_baseline'}, {'key': 'weeks_ratio_nonperf_fallback', 'value': 999, 'rationale': 'non_performance_goal_always_feasible'}, {'key': 'injury_risk_low_fallback', 'value': 0.8, 'rationale': 'low_sessions_low_injury_risk'}, {'key': 'injury_risk_mid_fallback', 'value': 1.0, 'rationale': 'baseline_injury_risk'}, {'key': 'injury_risk_high_fallback', 'value': 2.5, 'rationale': 'high_sessions_elevated_risk'}]
        self._tables["performance_v4__meso_improvement_rates"] = [{'level': 'beginner', 'sport': 'running', 'meso_28_pct_min': 2.4, 'meso_28_pct_max': 4.5, 'meso_21_pct_min': 1.6, 'meso_21_pct_max': 3.0, 'confidence': 'medium', 'source': 'Seiler_2010_compound'}, {'level': 'beginner', 'sport': 'cycling', 'meso_28_pct_min': 2.4, 'meso_28_pct_max': 4.5, 'meso_21_pct_min': 1.6, 'meso_21_pct_max': 3.0, 'confidence': 'medium', 'source': 'Hawley_2001_compound'}, {'level': 'novice', 'sport': 'running', 'meso_28_pct_min': 1.2, 'meso_28_pct_max': 2.1, 'meso_21_pct_min': 0.8, 'meso_21_pct_max': 1.4, 'confidence': 'medium', 'source': 'Midgley_2007_compound'}, {'level': 'novice', 'sport': 'cycling', 'meso_28_pct_min': 1.2, 'meso_28_pct_max': 2.1, 'meso_21_pct_min': 0.8, 'meso_21_pct_max': 1.4, 'confidence': 'medium', 'source': 'Midgley_2007_compound'}, {'level': 'intermediate', 'sport': 'running', 'meso_28_pct_min': 0.6, 'meso_28_pct_max': 1.2, 'meso_21_pct_min': 0.4, 'meso_21_pct_max': 0.8, 'confidence': 'medium', 'source': 'Jones_Carter_2000_compound'}, {'level': 'intermediate', 'sport': 'cycling', 'meso_28_pct_min': 0.6, 'meso_28_pct_max': 1.2, 'meso_21_pct_min': 0.4, 'meso_21_pct_max': 0.8, 'confidence': 'medium', 'source': 'Jones_Carter_2000_compound'}, {'level': 'advanced', 'sport': 'running', 'meso_28_pct_min': 0.3, 'meso_28_pct_max': 0.6, 'meso_21_pct_min': 0.2, 'meso_21_pct_max': 0.4, 'confidence': 'medium', 'source': 'Laursen_2010_compound'}, {'level': 'advanced', 'sport': 'cycling', 'meso_28_pct_min': 0.3, 'meso_28_pct_max': 0.6, 'meso_21_pct_min': 0.2, 'meso_21_pct_max': 0.4, 'confidence': 'medium', 'source': 'Coyle_2005_compound'}, {'level': 'elite', 'sport': 'running', 'meso_28_pct_min': 0.06, 'meso_28_pct_max': 0.15, 'meso_21_pct_min': 0.04, 'meso_21_pct_max': 0.1, 'confidence': 'low', 'source': 'Jones_2006_compound'}, {'level': 'elite', 'sport': 'cycling', 'meso_28_pct_min': 0.06, 'meso_28_pct_max': 0.15, 'meso_21_pct_min': 0.04, 'meso_21_pct_max': 0.1, 'confidence': 'low', 'source': 'Coyle_2005_compound'}]
        self._tables["performance_v4__phase_adaptation_multipliers"] = [{'phase': 'base', 'multiplier': 0.9, 'fitness_focus': 'aerobic_foundation', 'rationale': 'structural_adaptations_slow_but_durable', 'confidence': 'medium', 'source': 'Issurin_2008'}, {'phase': 'build', 'multiplier': 1.0, 'fitness_focus': 'threshold_vo2max', 'rationale': 'metabolic_adaptations_default_rate', 'confidence': 'medium', 'source': 'Stoggl_2014'}, {'phase': 'peak', 'multiplier': 0.7, 'fitness_focus': 'race_specificity', 'rationale': 'reduced_load_focus_on_sharpening', 'confidence': 'medium', 'source': 'Bosquet_2007'}, {'phase': 'taper', 'multiplier': 0.3, 'fitness_focus': 'freshness', 'rationale': 'minimal_stimulus_mostly_fatigue_reduction', 'confidence': 'high', 'source': 'Mujika_2003'}, {'phase': 'recovery', 'multiplier': 0.0, 'fitness_focus': 'restoration', 'rationale': 'no_fitness_gain_expected', 'confidence': 'medium', 'source': 'consensus'}]
        self._tables["performance_v4__sport_adaptation_multipliers"] = [{'sport': 'running', 'multiplier': 0.92, 'rationale': 'eccentric_load_limits_volume_tolerance', 'confidence': 'medium', 'source': 'Millet_2009'}, {'sport': 'cycling', 'multiplier': 1.0, 'rationale': 'baseline_lower_orthopedic_stress', 'confidence': 'medium', 'source': 'Millet_2009'}, {'sport': 'swimming', 'multiplier': 0.95, 'rationale': 'technique_limited_skill_acquisition', 'confidence': 'low', 'source': 'estimated'}, {'sport': 'xc_ski', 'multiplier': 0.95, 'rationale': 'combined_demands_technique_plus_endurance', 'confidence': 'low', 'source': 'estimated'}, {'sport': 'triathlon', 'multiplier': 0.9, 'rationale': 'multi_sport_recovery_competition', 'confidence': 'low', 'source': 'estimated'}]
        self._tables["performance_v4__dose_adaptation_multipliers"] = [{'minutes_per_week_min': 0, 'minutes_per_week_max': 119, 'multiplier': 0.5, 'status': 'minimal_dose', 'confidence': 'low', 'source': 'Montero_Lundby_2017'}, {'minutes_per_week_min': 120, 'minutes_per_week_max': 179, 'multiplier': 0.7, 'status': 'below_optimal', 'confidence': 'low', 'source': 'Montero_Lundby_2017'}, {'minutes_per_week_min': 180, 'minutes_per_week_max': 239, 'multiplier': 0.85, 'status': 'moderate', 'confidence': 'medium', 'source': 'Montero_Lundby_2017'}, {'minutes_per_week_min': 240, 'minutes_per_week_max': 419, 'multiplier': 1.0, 'status': 'optimal', 'confidence': 'medium', 'source': 'Seiler_2010'}, {'minutes_per_week_min': 420, 'minutes_per_week_max': 599, 'multiplier': 1.05, 'status': 'high_volume', 'confidence': 'medium', 'source': 'Stoggl_2014'}, {'minutes_per_week_min': 600, 'minutes_per_week_max': 999, 'multiplier': 1.05, 'status': 'ceiling_injury_risk', 'confidence': 'low', 'source': 'consensus'}]
        self._tables["performance_v4__taper_realization_bonus"] = [{'taper_type': 'mini_taper', 'duration_days_min': 3, 'duration_days_max': 6, 'bonus_pct_min': 0.3, 'bonus_pct_max': 0.8, 'volume_reduction_pct': 30, 'confidence': 'medium', 'source': 'Bosquet_2007'}, {'taper_type': 'short_taper', 'duration_days_min': 7, 'duration_days_max': 10, 'bonus_pct_min': 0.5, 'bonus_pct_max': 1.5, 'volume_reduction_pct': 40, 'confidence': 'high', 'source': 'Mujika_2003'}, {'taper_type': 'standard_taper', 'duration_days_min': 11, 'duration_days_max': 14, 'bonus_pct_min': 1.0, 'bonus_pct_max': 2.0, 'volume_reduction_pct': 50, 'confidence': 'high', 'source': 'Bosquet_2007'}, {'taper_type': 'extended_taper', 'duration_days_min': 15, 'duration_days_max': 21, 'bonus_pct_min': 1.5, 'bonus_pct_max': 2.5, 'volume_reduction_pct': 60, 'confidence': 'high', 'source': 'Mujika_2003'}, {'taper_type': 'overtaper', 'duration_days_min': 22, 'duration_days_max': 99, 'bonus_pct_min': 0.5, 'bonus_pct_max': 1.0, 'volume_reduction_pct': 70, 'confidence': 'medium', 'source': 'detraining_risk'}]
        self._tables["performance_v4__meso_length_policy"] = [{'age_min': 0, 'age_max': 17, 'default_meso_days': 28, 'load_weeks': 3, 'deload_weeks': 1, 'override_allowed': 'yes', 'rationale': 'youth_recovery_good', 'confidence': 'low', 'source': 'conservative'}, {'age_min': 18, 'age_max': 39, 'default_meso_days': 28, 'load_weeks': 3, 'deload_weeks': 1, 'override_allowed': 'yes', 'rationale': 'baseline_adult', 'confidence': 'medium', 'source': 'Friel_standard'}, {'age_min': 40, 'age_max': 54, 'default_meso_days': 28, 'load_weeks': 3, 'deload_weeks': 1, 'override_allowed': 'yes', 'rationale': 'masters_still_tolerant', 'confidence': 'medium', 'source': 'Tanaka_2008'}, {'age_min': 55, 'age_max': 64, 'default_meso_days': 21, 'load_weeks': 2, 'deload_weeks': 1, 'override_allowed': 'yes', 'rationale': 'recovery_priority_default', 'confidence': 'medium', 'source': 'Reaburn_2008'}, {'age_min': 65, 'age_max': 99, 'default_meso_days': 21, 'load_weeks': 2, 'deload_weeks': 1, 'override_allowed': 'conditional', 'rationale': 'default_conservative_override_if_tolerance_excellent', 'confidence': 'medium', 'source': 'Trappe_2013'}]
        self._tables["performance_v4__response_adjustment"] = [{'observed_vs_predicted_min': 0.0, 'observed_vs_predicted_max': 0.5, 'adjustment_action': 'low_responder', 'rate_adjustment': 'use_min_minus_20pct', 'confidence_change': 'decrease', 'min_delta_to_act': 0.03}, {'observed_vs_predicted_min': 0.5, 'observed_vs_predicted_max': 0.8, 'adjustment_action': 'below_expected', 'rate_adjustment': 'use_min_values', 'confidence_change': 'unchanged', 'min_delta_to_act': 0.03}, {'observed_vs_predicted_min': 0.8, 'observed_vs_predicted_max': 1.2, 'adjustment_action': 'on_track', 'rate_adjustment': 'use_mid_values', 'confidence_change': 'increase', 'min_delta_to_act': 0.03}, {'observed_vs_predicted_min': 1.2, 'observed_vs_predicted_max': 1.5, 'adjustment_action': 'above_expected', 'rate_adjustment': 'use_max_values', 'confidence_change': 'increase', 'min_delta_to_act': 0.03}, {'observed_vs_predicted_min': 1.5, 'observed_vs_predicted_max': 9.99, 'adjustment_action': 'high_responder', 'rate_adjustment': 'use_max_plus_10pct', 'confidence_change': 'high', 'min_delta_to_act': 0.03}]
        self._tables["micro_training_commute_v4__session_class"] = [{'session_class': 'commute_easy', 'min_duration_min': 10, 'max_duration_min': 45, 'ntiz_eligible': True, 'fatigue_multiplier': 0.7, 'recovery_shadow_hours': 0, 'notes': 'z1_z2_only'}, {'session_class': 'commute_tempo', 'min_duration_min': 15, 'max_duration_min': 45, 'ntiz_eligible': True, 'fatigue_multiplier': 0.9, 'recovery_shadow_hours': 12, 'notes': 'z3_allowed'}, {'session_class': 'micro_hiit', 'min_duration_min': 4, 'max_duration_min': 15, 'ntiz_eligible': True, 'fatigue_multiplier': 1.2, 'recovery_shadow_hours': 24, 'notes': 'z5_z8_bursts'}, {'session_class': 'exercise_snack', 'min_duration_min': 1, 'max_duration_min': 5, 'ntiz_eligible': True, 'fatigue_multiplier': 0.5, 'recovery_shadow_hours': 4, 'notes': 'stair_sprints_etc'}, {'session_class': 'vilpa', 'min_duration_min': 1, 'max_duration_min': 3, 'ntiz_eligible': 'partial', 'fatigue_multiplier': 0.3, 'recovery_shadow_hours': 0, 'notes': 'incidental_vigorous'}]
        self._tables["micro_training_commute_v4__zone_eligibility"] = [{'session_class': 'commute_easy', 'r_eligible': True, 'z1_eligible': True, 'z2_eligible': True, 'z3_eligible': False, 'z4_eligible': False, 'z5_eligible': False, 'z6_eligible': False, 'z7_eligible': False, 'z8_eligible': False}, {'session_class': 'commute_tempo', 'r_eligible': True, 'z1_eligible': True, 'z2_eligible': True, 'z3_eligible': True, 'z4_eligible': False, 'z5_eligible': False, 'z6_eligible': False, 'z7_eligible': False, 'z8_eligible': False}, {'session_class': 'micro_hiit', 'r_eligible': False, 'z1_eligible': False, 'z2_eligible': True, 'z3_eligible': False, 'z4_eligible': True, 'z5_eligible': True, 'z6_eligible': True, 'z7_eligible': False, 'z8_eligible': True}, {'session_class': 'exercise_snack', 'r_eligible': False, 'z1_eligible': False, 'z2_eligible': True, 'z3_eligible': False, 'z4_eligible': False, 'z5_eligible': True, 'z6_eligible': False, 'z7_eligible': False, 'z8_eligible': True}, {'session_class': 'vilpa', 'r_eligible': False, 'z1_eligible': True, 'z2_eligible': True, 'z3_eligible': False, 'z4_eligible': False, 'z5_eligible': False, 'z6_eligible': False, 'z7_eligible': False, 'z8_eligible': True}]
        self._tables["micro_training_commute_v4__micro_med"] = [{'zone': 'Z1', 'standard_med_min': 20, 'micro_med_min': 10, 'micro_max_per_session': 30, 'notes': 'easy_aerobic'}, {'zone': 'Z2', 'standard_med_min': 20, 'micro_med_min': 10, 'micro_max_per_session': 30, 'notes': 'aerobic_base'}, {'zone': 'Z3', 'standard_med_min': 10, 'micro_med_min': 5, 'micro_max_per_session': 15, 'notes': 'tempo_threshold'}, {'zone': 'Z4', 'standard_med_min': 8, 'micro_med_min': 4, 'micro_max_per_session': 12, 'notes': 'threshold_intervals'}, {'zone': 'Z5', 'standard_med_min': 4, 'micro_med_min': 2, 'micro_max_per_session': 8, 'notes': 'vo2max_bursts'}, {'zone': 'Z6', 'standard_med_min': 2, 'micro_med_min': 1, 'micro_max_per_session': 4, 'notes': 'anaerobic'}, {'zone': 'Z8', 'standard_med_min': 0.5, 'micro_med_min': 0.2, 'micro_max_per_session': 2, 'notes': 'neuromuscular_sprints'}]
        self._tables["micro_training_commute_v4__micro_protocols"] = [{'protocol': 'tabata_classic', 'work_sec': 20, 'rest_sec': 10, 'sets': 8, 'total_work_min': 2.7, 'z_primary': 'Z7', 'z_secondary': 'Z5', 'effectiveness': 'very_high', 'source': 'Tabata_1996', 'notes': 'requires_170pct_vo2max'}, {'protocol': 'tabata_modified', 'work_sec': 20, 'rest_sec': 10, 'sets': 8, 'total_work_min': 2.7, 'z_primary': 'Z5', 'z_secondary': 'Z4', 'effectiveness': 'high', 'source': 'practical', 'notes': 'submaximal_version'}, {'protocol': 'sprint_10s', 'work_sec': 10, 'rest_sec': 120, 'sets': 6, 'total_work_min': 1.0, 'z_primary': 'Z8', 'z_secondary': 'Z6', 'effectiveness': 'high', 'source': 'Hazell_2010', 'notes': 'power_focused'}, {'protocol': 'sprint_30s', 'work_sec': 30, 'rest_sec': 240, 'sets': 4, 'total_work_min': 2.0, 'z_primary': 'Z6', 'z_secondary': 'Z5', 'effectiveness': 'very_high', 'source': 'Burgomaster_2005', 'notes': 'classic_sit'}, {'protocol': 'stair_sprint', 'work_sec': 20, 'rest_sec': 60, 'sets': 3, 'total_work_min': 1.0, 'z_primary': 'Z5', 'z_secondary': 'Z8', 'effectiveness': 'high', 'source': 'Jenkins_2019', 'notes': 'exercise_snack'}, {'protocol': 'surge_fartlek', 'work_sec': 'varies', 'rest_sec': 'varies', 'sets': 6, 'total_work_min': 3.0, 'z_primary': 'Z4', 'z_secondary': 'Z5', 'effectiveness': 'medium', 'source': 'practical', 'notes': 'traffic_based'}, {'protocol': 'tempo_block', 'work_sec': 600, 'rest_sec': 0, 'sets': 1, 'total_work_min': 10.0, 'z_primary': 'Z3', 'z_secondary': 'Z2', 'effectiveness': 'high', 'source': 'Seiler_2010', 'notes': 'sustained_commute'}, {'protocol': 'threshold_2x10', 'work_sec': 600, 'rest_sec': 300, 'sets': 2, 'total_work_min': 20.0, 'z_primary': 'Z4', 'z_secondary': 'Z3', 'effectiveness': 'very_high', 'source': 'Foster_2001', 'notes': 'commute_intervals'}]
        self._tables["micro_training_commute_v4__commute_caps_meso"] = [{'level': 'beginner', 'z1_z2_max_from_commute': 180, 'z3_max_from_commute': 0, 'z4_z5_max_from_commute': 0, 'z6_z8_max_from_commute': 0, 'max_pct_of_meso_total': 40}, {'level': 'novice', 'z1_z2_max_from_commute': 240, 'z3_max_from_commute': 30, 'z4_z5_max_from_commute': 20, 'z6_z8_max_from_commute': 10, 'max_pct_of_meso_total': 35}, {'level': 'intermediate', 'z1_z2_max_from_commute': 300, 'z3_max_from_commute': 60, 'z4_z5_max_from_commute': 40, 'z6_z8_max_from_commute': 20, 'max_pct_of_meso_total': 30}, {'level': 'advanced', 'z1_z2_max_from_commute': 360, 'z3_max_from_commute': 90, 'z4_z5_max_from_commute': 60, 'z6_z8_max_from_commute': 30, 'max_pct_of_meso_total': 25}, {'level': 'elite', 'z1_z2_max_from_commute': 420, 'z3_max_from_commute': 120, 'z4_z5_max_from_commute': 80, 'z6_z8_max_from_commute': 40, 'max_pct_of_meso_total': 20}]
        self._tables["micro_training_commute_v4__age_modifiers"] = [{'age_min': 0, 'age_max': 17, 'micro_hiit_allowed': True, 'z5_z8_multiplier': 0.8, 'recovery_hours_add': 0, 'notes': 'youth_conservative'}, {'age_min': 18, 'age_max': 35, 'micro_hiit_allowed': True, 'z5_z8_multiplier': 1.0, 'recovery_hours_add': 0, 'notes': 'baseline'}, {'age_min': 36, 'age_max': 50, 'micro_hiit_allowed': True, 'z5_z8_multiplier': 0.9, 'recovery_hours_add': 6, 'notes': 'moderate_caution'}, {'age_min': 51, 'age_max': 65, 'micro_hiit_allowed': 'conditional', 'z5_z8_multiplier': 0.75, 'recovery_hours_add': 12, 'notes': 'green_readiness_only'}, {'age_min': 66, 'age_max': 999, 'micro_hiit_allowed': 'conditional', 'z5_z8_multiplier': 0.5, 'recovery_hours_add': 24, 'notes': 'physician_clearance'}]
        self._tables["micro_training_commute_v4__readiness_gates"] = [{'readiness': 'green', 'micro_hiit_allowed': True, 'z5_z8_allowed': True, 'recommended_class': 'any', 'notes': 'full_options'}, {'readiness': 'amber', 'micro_hiit_allowed': True, 'z5_z8_allowed': False, 'recommended_class': 'commute_easy', 'notes': 'z1_z2_only'}, {'readiness': 'red', 'micro_hiit_allowed': False, 'z5_z8_allowed': False, 'recommended_class': 'rest_or_walk', 'notes': 'no_cycling_intensity'}]
        self._tables["micro_training_commute_v4__commute_modes"] = [{'mode': 'easy_spin', 'typical_duration_min': 15, 'primary_zones': 'Z1,Z2', 'intensity_control': 'low', 'structured_intervals': False, 'best_for': 'recovery_base'}, {'mode': 'tempo_commute', 'typical_duration_min': 30, 'primary_zones': 'Z2,Z3', 'intensity_control': 'moderate', 'structured_intervals': False, 'best_for': 'aerobic_development'}, {'mode': 'interval_commute', 'typical_duration_min': 30, 'primary_zones': 'Z2,Z4', 'intensity_control': 'high', 'structured_intervals': True, 'best_for': 'threshold_development'}, {'mode': 'micro_burst', 'typical_duration_min': 20, 'primary_zones': 'Z2,Z5,Z8', 'intensity_control': 'very_high', 'structured_intervals': True, 'best_for': 'time_crunched_fitness'}, {'mode': 'fartlek_commute', 'typical_duration_min': 25, 'primary_zones': 'Z1-Z5', 'intensity_control': 'variable', 'structured_intervals': False, 'best_for': 'fun_varied'}]
        self._tables["micro_training_commute_v4__exercise_snacks"] = [{'pattern': 'stair_sprint_3x', 'frequency_per_day': 3, 'duration_sec': 20, 'intensity': 'maximal', 'z_credit': 'Z5', 'cumulative_effect': 'vo2max_improvement', 'source': 'Jenkins_2019'}, {'pattern': 'walk_burst_5x', 'frequency_per_day': 5, 'duration_sec': 60, 'intensity': 'vigorous', 'z_credit': 'Z4', 'cumulative_effect': 'mortality_reduction', 'source': 'Stamatakis_2022'}, {'pattern': 'standing_desk_walk', 'frequency_per_day': 6, 'duration_sec': 120, 'intensity': 'light', 'z_credit': 'Z1', 'cumulative_effect': 'metabolic_health', 'source': 'practical'}, {'pattern': 'lunch_walk', 'frequency_per_day': 1, 'duration_sec': 900, 'intensity': 'moderate', 'z_credit': 'Z2', 'cumulative_effect': 'aerobic_base', 'source': 'guidelines'}]
        self._tables["micro_training_commute_v4__vilpa_thresholds"] = [{'metric': 'cadence_steps_min', 'vigorous_min': 100, 'vigorous_max': 999, 'measurement': 'accelerometer', 'source': 'Stamatakis_2022'}, {'metric': 'met_value', 'vigorous_min': 6.0, 'vigorous_max': 999, 'measurement': 'metabolic', 'source': 'WHO_2020'}, {'metric': 'hr_pct_max', 'vigorous_min': 77, 'vigorous_max': 95, 'measurement': 'heart_rate', 'source': 'ACSM_2018'}, {'metric': 'rpe_borg', 'vigorous_min': 14, 'vigorous_max': 17, 'measurement': 'perceived', 'source': 'Foster_1998'}]
        self._tables["micro_training_commute_v4__meso_integration"] = [{'plan_type': 'full_training', 'commute_role': 'supplementary', 'quota_contribution': 'partial', 'can_replace_key_workout': False, 'notes': 'supports_but_not_replace'}, {'plan_type': 'time_crunched', 'commute_role': 'primary', 'quota_contribution': 'full', 'can_replace_key_workout': 'conditional', 'notes': 'if_3plus_per_meso'}, {'plan_type': 'maintenance', 'commute_role': 'primary', 'quota_contribution': 'full', 'can_replace_key_workout': True, 'notes': 'adequate_for_fitness'}, {'plan_type': 'recovery_meso', 'commute_role': 'supplementary', 'quota_contribution': 'partial', 'can_replace_key_workout': False, 'notes': 'easy_only'}, {'plan_type': 'peak_phase', 'commute_role': 'minimal', 'quota_contribution': 'capped_10pct', 'can_replace_key_workout': False, 'notes': 'preserve_freshness'}]
        self._tables["micro_training_commute_v4__spacing_rules"] = [{'session_class': 'commute_easy', 'min_hours_between_same': 0, 'min_hours_before_key': 0, 'min_hours_after_key': 0, 'notes': 'no_restrictions'}, {'session_class': 'commute_tempo', 'min_hours_between_same': 12, 'min_hours_before_key': 24, 'min_hours_after_key': 12, 'notes': 'light_recovery_needed'}, {'session_class': 'micro_hiit', 'min_hours_between_same': 48, 'min_hours_before_key': 48, 'min_hours_after_key': 24, 'notes': 'full_intensity_spacing'}, {'session_class': 'exercise_snack', 'min_hours_between_same': 4, 'min_hours_before_key': 12, 'min_hours_after_key': 4, 'notes': 'minimal_impact'}, {'session_class': 'vilpa', 'min_hours_between_same': 0, 'min_hours_before_key': 0, 'min_hours_after_key': 0, 'notes': 'incidental_no_planning'}]
        self._tables["composer_v1__meso_session_pattern"] = [{'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 1, 'intent': 'OFF', 'day_type': 'off', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 2, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 3, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 4, 'intent': 'OFF', 'day_type': 'off', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 5, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 1, 'level_max': 2, 'pattern_idx': 6, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 1, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 3, 'intent': 'Z3', 'day_type': 'development', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 4, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 5, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'intermediate_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 0, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 1, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 3, 'intent': 'Z3', 'day_type': 'development', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 4, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 5, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'advanced_base'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'advanced_base'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 1, 'intent': 'Z3', 'day_type': 'development', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 3, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 4, 'intent': 'OFF', 'day_type': 'off', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 5, 'intent': 'Z3', 'day_type': 'development', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'pattern_idx': 6, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'beginner_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 1, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 2, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 3, 'intent': 'Z5', 'day_type': 'intensity', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 4, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 5, 'intent': 'Z3', 'day_type': 'development', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'intermediate_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 0, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 1, 'intent': 'Z5', 'day_type': 'intensity', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 3, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 4, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 5, 'intent': 'Z3', 'day_type': 'development', 'notes': 'advanced_build'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'advanced_build'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 1, 'intent': 'Z5', 'day_type': 'intensity', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 3, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 4, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 5, 'intent': 'Z6', 'day_type': 'intensity', 'notes': 'peak'}, {'phase': 'peak', 'level_min': 3, 'level_max': 5, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'peak'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 1, 'intent': 'Z4', 'day_type': 'intensity', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 2, 'intent': 'OFF', 'day_type': 'off', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 3, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 4, 'intent': 'OFF', 'day_type': 'off', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 5, 'intent': 'Z3', 'day_type': 'development', 'notes': 'taper'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'taper'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 0, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 1, 'intent': 'R', 'day_type': 'recovery', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 2, 'intent': 'Z1', 'day_type': 'easy', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 3, 'intent': 'OFF', 'day_type': 'off', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 4, 'intent': 'Z2', 'day_type': 'easy', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 5, 'intent': 'R', 'day_type': 'recovery', 'notes': 'recovery'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'pattern_idx': 6, 'intent': 'OFF', 'day_type': 'off', 'notes': 'recovery'}]
        self._tables["composer_v1__intent_downgrade_path"] = [{'intent': 'Z8', 'down_1': 'Z6', 'down_2': 'Z5', 'down_3': 'Z4', 'fallback': 'REST'}, {'intent': 'Z7', 'down_1': 'Z6', 'down_2': 'Z5', 'down_3': 'Z4', 'fallback': 'REST'}, {'intent': 'Z6', 'down_1': 'Z5', 'down_2': 'Z4', 'down_3': 'Z3', 'fallback': 'REST'}, {'intent': 'Z5', 'down_1': 'Z4', 'down_2': 'Z3', 'down_3': 'Z2', 'fallback': 'REST'}, {'intent': 'Z4', 'down_1': 'Z3', 'down_2': 'Z2', 'down_3': 'Z1', 'fallback': 'REST'}, {'intent': 'Z3', 'down_1': 'Z2', 'down_2': 'Z1', 'down_3': 'R', 'fallback': 'REST'}, {'intent': 'Z2', 'down_1': 'Z1', 'down_2': 'R', 'down_3': 'OFF', 'fallback': 'REST'}, {'intent': 'Z1', 'down_1': 'R', 'down_2': 'OFF', 'down_3': 'OFF', 'fallback': 'REST'}, {'intent': 'R', 'down_1': 'OFF', 'down_2': 'OFF', 'down_3': 'OFF', 'fallback': 'OFF'}, {'intent': 'OFF', 'down_1': 'OFF', 'down_2': 'OFF', 'down_3': 'OFF', 'fallback': 'OFF'}, {'intent': 'REST', 'down_1': 'OFF', 'down_2': 'OFF', 'down_3': 'OFF', 'fallback': 'OFF'}]
        self._tables["composer_v1__meso_start_rules"] = [{'phase': 'base', 'level_min': 1, 'level_max': 5, 'slot_idx': 0, 'intent': 'Z1', 'reason': 'ramp_in'}, {'phase': 'base', 'level_min': 1, 'level_max': 5, 'slot_idx': 1, 'intent': 'Z2', 'reason': 'ramp_in'}, {'phase': 'base', 'level_min': 1, 'level_max': 5, 'slot_idx': 2, 'intent': 'Z1', 'reason': 'ramp_in'}, {'phase': 'build', 'level_min': 1, 'level_max': 5, 'slot_idx': 0, 'intent': 'Z2', 'reason': 'prep'}, {'phase': 'build', 'level_min': 1, 'level_max': 5, 'slot_idx': 1, 'intent': 'Z1', 'reason': 'prep'}, {'phase': 'peak', 'level_min': 1, 'level_max': 5, 'slot_idx': 0, 'intent': 'Z1', 'reason': 'sharpening'}, {'phase': 'peak', 'level_min': 1, 'level_max': 5, 'slot_idx': 1, 'intent': 'Z2', 'reason': 'sharpening'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'slot_idx': 0, 'intent': 'Z2', 'reason': 'volume_drop'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'slot_idx': 1, 'intent': 'R', 'reason': 'volume_drop'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'slot_idx': 0, 'intent': 'R', 'reason': 'restoration'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'slot_idx': 1, 'intent': 'Z1', 'reason': 'restoration'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'slot_idx': 2, 'intent': 'R', 'reason': 'restoration'}]
        self._tables["composer_v1__meso_load_waves"] = [{'meso_length': 21, 'slot_pct_min': 0, 'slot_pct_max': 25, 'wave_multiplier': 0.9, 'wave_name': 'ramp_in'}, {'meso_length': 21, 'slot_pct_min': 25, 'slot_pct_max': 50, 'wave_multiplier': 1.0, 'wave_name': 'build'}, {'meso_length': 21, 'slot_pct_min': 50, 'slot_pct_max': 75, 'wave_multiplier': 1.08, 'wave_name': 'peak'}, {'meso_length': 21, 'slot_pct_min': 75, 'slot_pct_max': 100, 'wave_multiplier': 0.55, 'wave_name': 'unload'}, {'meso_length': 28, 'slot_pct_min': 0, 'slot_pct_max': 25, 'wave_multiplier': 0.9, 'wave_name': 'ramp_in'}, {'meso_length': 28, 'slot_pct_min': 25, 'slot_pct_max': 50, 'wave_multiplier': 1.0, 'wave_name': 'build'}, {'meso_length': 28, 'slot_pct_min': 50, 'slot_pct_max': 75, 'wave_multiplier': 1.08, 'wave_name': 'peak'}, {'meso_length': 28, 'slot_pct_min': 75, 'slot_pct_max': 100, 'wave_multiplier': 0.55, 'wave_name': 'unload'}, {'meso_length': 14, 'slot_pct_min': 0, 'slot_pct_max': 50, 'wave_multiplier': 0.9, 'wave_name': 'ramp_in'}, {'meso_length': 14, 'slot_pct_min': 50, 'slot_pct_max': 100, 'wave_multiplier': 0.55, 'wave_name': 'unload'}]
        self._tables["session_structure_variants_v4__zone_variants"] = [{'zone': 'R', 'variant_id': 'r_classic', 'variant_name': 'Easy Movement', 'pattern': 'continuous', 'work_min_default': 20, 'work_min_min': 15, 'work_min_max': 45, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'all', 'level_min': 'beginner', 'level_max': 'elite', 'priority': 1, 'label_template': '{work}min easy movement'}, {'zone': 'R', 'variant_id': 'r_active_flush', 'variant_name': 'Active Flush', 'pattern': 'continuous', 'work_min_default': 25, 'work_min_min': 20, 'work_min_max': 35, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'all', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{work}min active flush (low cadence)'}, {'zone': 'Z1', 'variant_id': 'z1_classic', 'variant_name': 'Steady Easy', 'pattern': 'continuous', 'work_min_default': 45, 'work_min_min': 30, 'work_min_max': 90, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'all', 'level_min': 'beginner', 'level_max': 'elite', 'priority': 1, 'label_template': '{work}min @Z1 steady'}, {'zone': 'Z1', 'variant_id': 'z1_long', 'variant_name': 'Long Easy', 'pattern': 'continuous', 'work_min_default': 90, 'work_min_min': 60, 'work_min_max': 180, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'base,build', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{work}min @Z1 long'}, {'zone': 'Z1', 'variant_id': 'z1_extended', 'variant_name': 'Extended Aerobic', 'pattern': 'continuous', 'work_min_default': 180, 'work_min_min': 120, 'work_min_max': 240, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'base', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 3, 'label_template': '{work}min @Z1 extended'}, {'zone': 'Z2', 'variant_id': 'z2_classic', 'variant_name': 'Steady Aerobic', 'pattern': 'continuous', 'work_min_default': 50, 'work_min_min': 40, 'work_min_max': 90, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'all', 'level_min': 'beginner', 'level_max': 'elite', 'priority': 1, 'label_template': '{work}min @Z2 steady'}, {'zone': 'Z2', 'variant_id': 'z2_long', 'variant_name': 'Long Aerobic', 'pattern': 'continuous', 'work_min_default': 90, 'work_min_min': 60, 'work_min_max': 120, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'base,build', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{work}min @Z2 long'}, {'zone': 'Z2', 'variant_id': 'z2_progressive', 'variant_name': 'Progressive Aerobic', 'pattern': 'progressive', 'work_min_default': 60, 'work_min_min': 45, 'work_min_max': 90, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'base,build', 'level_min': 'novice', 'level_max': 'elite', 'priority': 3, 'label_template': '{work}min @Z2 progressive (Z1â†’Z2)'}, {'zone': 'Z3', 'variant_id': 'z3_classic', 'variant_name': 'Classic Tempo', 'pattern': 'equal', 'work_min_default': 12, 'work_min_min': 8, 'work_min_max': 20, 'rest_ratio': 0.25, 'reps_min': 2, 'reps_max': 4, 'phases_allowed': 'all', 'level_min': 'novice', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work}min @Z3 / {rest}min rest'}, {'zone': 'Z3', 'variant_id': 'z3_cruise', 'variant_name': 'Cruise Intervals', 'pattern': 'equal', 'work_min_default': 20, 'work_min_min': 15, 'work_min_max': 30, 'rest_ratio': 0.17, 'reps_min': 2, 'reps_max': 3, 'phases_allowed': 'base,build', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work}min @Z3 cruise'}, {'zone': 'Z3', 'variant_id': 'z3_continuous', 'variant_name': 'Continuous Tempo', 'pattern': 'continuous', 'work_min_default': 30, 'work_min_min': 20, 'work_min_max': 45, 'rest_ratio': 0.0, 'reps_min': 1, 'reps_max': 1, 'phases_allowed': 'base', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 3, 'label_template': '{work}min @Z3 continuous'}, {'zone': 'Z3', 'variant_id': 'z3_big_block', 'variant_name': 'Big Block Tempo', 'pattern': 'equal', 'work_min_default': 20, 'work_min_min': 18, 'work_min_max': 25, 'rest_ratio': 0.15, 'reps_min': 2, 'reps_max': 2, 'phases_allowed': 'base', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 4, 'label_template': '2Ã—{work}min @Z3 big blocks'}, {'zone': 'Z4', 'variant_id': 'z4_classic', 'variant_name': 'Classic Threshold', 'pattern': 'equal', 'work_min_default': 10, 'work_min_min': 8, 'work_min_max': 12, 'rest_ratio': 0.4, 'reps_min': 2, 'reps_max': 4, 'phases_allowed': 'all', 'level_min': 'novice', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work}min @Z4 / {rest}min rest'}, {'zone': 'Z4', 'variant_id': 'z4_long', 'variant_name': 'Long Threshold', 'pattern': 'equal', 'work_min_default': 15, 'work_min_min': 12, 'work_min_max': 20, 'rest_ratio': 0.33, 'reps_min': 2, 'reps_max': 3, 'phases_allowed': 'build,peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work}min @Z4 / {rest}min rest'}, {'zone': 'Z4', 'variant_id': 'z4_short', 'variant_name': 'Short Threshold', 'pattern': 'equal', 'work_min_default': 6, 'work_min_min': 4, 'work_min_max': 8, 'rest_ratio': 0.5, 'reps_min': 3, 'reps_max': 6, 'phases_allowed': 'build,peak', 'level_min': 'novice', 'level_max': 'elite', 'priority': 3, 'label_template': '{reps}Ã—{work}min @Z4 / {rest}min rest'}, {'zone': 'Z4', 'variant_id': 'z4_over_under', 'variant_name': 'Over-Unders', 'pattern': 'alternating', 'work_min_default': 8, 'work_min_min': 6, 'work_min_max': 10, 'rest_ratio': 0.25, 'reps_min': 2, 'reps_max': 4, 'phases_allowed': 'build,peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 4, 'label_template': '{reps}Ã—{work}min over-under (2min >Z4 / 2min <Z4)'}, {'zone': 'Z4', 'variant_id': 'z4_norwegian', 'variant_name': 'Norwegian Long', 'pattern': 'equal', 'work_min_default': 16, 'work_min_min': 14, 'work_min_max': 18, 'rest_ratio': 0.25, 'reps_min': 4, 'reps_max': 6, 'phases_allowed': 'build,peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 5, 'label_template': '{reps}Ã—{work}min @Z4 Norwegian style'}, {'zone': 'Z5', 'variant_id': 'z5_classic', 'variant_name': 'Classic VO2max', 'pattern': 'equal', 'work_min_default': 4, 'work_min_min': 3, 'work_min_max': 5, 'rest_ratio': 0.75, 'reps_min': 3, 'reps_max': 6, 'phases_allowed': 'build,peak', 'level_min': 'novice', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work}min @Z5 / {rest}min rest'}, {'zone': 'Z5', 'variant_id': 'z5_short', 'variant_name': 'Short VO2max', 'pattern': 'equal', 'work_min_default': 3, 'work_min_min': 2, 'work_min_max': 4, 'rest_ratio': 1.0, 'reps_min': 4, 'reps_max': 8, 'phases_allowed': 'peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work}min @Z5 / {rest}min rest'}, {'zone': 'Z5', 'variant_id': 'z5_30_30', 'variant_name': '30/30 Intervals', 'pattern': 'micro', 'work_min_default': 0.5, 'work_min_min': 0.5, 'work_min_max': 0.5, 'rest_ratio': 1.0, 'reps_min': 10, 'reps_max': 20, 'phases_allowed': 'build,peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 3, 'label_template': '{reps}Ã—30s @Z5 / 30s rest'}, {'zone': 'Z5', 'variant_id': 'z5_30_15', 'variant_name': 'RÃ¸nnestad 30/15', 'pattern': 'micro', 'work_min_default': 0.5, 'work_min_min': 0.5, 'work_min_max': 0.5, 'rest_ratio': 0.5, 'reps_min': 13, 'reps_max': 13, 'phases_allowed': 'peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 4, 'label_template': '3 sets Ã— 13Ã—30s @Z5 / 15s rest (3min between sets)'}, {'zone': 'Z5', 'variant_id': 'z5_long', 'variant_name': 'Long VO2max', 'pattern': 'equal', 'work_min_default': 5, 'work_min_min': 4, 'work_min_max': 6, 'rest_ratio': 0.6, 'reps_min': 3, 'reps_max': 5, 'phases_allowed': 'build', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 5, 'label_template': '{reps}Ã—{work}min @Z5 / {rest}min rest'}, {'zone': 'Z5', 'variant_id': 'z5_40_20', 'variant_name': '40/20 Intervals', 'pattern': 'micro', 'work_min_default': 0.67, 'work_min_min': 0.67, 'work_min_max': 0.67, 'rest_ratio': 0.5, 'reps_min': 10, 'reps_max': 15, 'phases_allowed': 'peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 6, 'label_template': '{reps}Ã—40s @Z5 / 20s rest'}, {'zone': 'Z6', 'variant_id': 'z6_classic', 'variant_name': 'Anaerobic Capacity', 'pattern': 'equal', 'work_min_default': 1.0, 'work_min_min': 0.5, 'work_min_max': 1.5, 'rest_ratio': 2.0, 'reps_min': 4, 'reps_max': 8, 'phases_allowed': 'peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work_sec}s @Z6 / {rest}min rest'}, {'zone': 'Z6', 'variant_id': 'z6_short', 'variant_name': 'Short Anaerobic', 'pattern': 'equal', 'work_min_default': 0.5, 'work_min_min': 0.5, 'work_min_max': 0.75, 'rest_ratio': 3.0, 'reps_min': 6, 'reps_max': 10, 'phases_allowed': 'peak', 'level_min': 'novice', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work_sec}s @Z6 / {rest}min rest'}, {'zone': 'Z6', 'variant_id': 'z6_long', 'variant_name': 'Long Anaerobic', 'pattern': 'equal', 'work_min_default': 1.5, 'work_min_min': 1.0, 'work_min_max': 2.0, 'rest_ratio': 2.0, 'reps_min': 3, 'reps_max': 6, 'phases_allowed': 'peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 3, 'label_template': '{reps}Ã—{work_sec}s @Z6 / {rest}min rest'}, {'zone': 'Z6', 'variant_id': 'z6_descending', 'variant_name': 'Descending Ladder', 'pattern': 'descending', 'work_min_default': 1.5, 'work_min_min': 0.5, 'work_min_max': 1.5, 'rest_ratio': 2.5, 'reps_min': 4, 'reps_max': 4, 'phases_allowed': 'peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 4, 'label_template': '90sâ†’60sâ†’45sâ†’30s @Z6 / full recovery'}, {'zone': 'Z7', 'variant_id': 'z7_classic', 'variant_name': 'Max Anaerobic', 'pattern': 'equal', 'work_min_default': 0.5, 'work_min_min': 0.25, 'work_min_max': 0.75, 'rest_ratio': 6.0, 'reps_min': 4, 'reps_max': 8, 'phases_allowed': 'peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work_sec}s @Z7 / {rest}min rest'}, {'zone': 'Z7', 'variant_id': 'z7_short', 'variant_name': 'Short Max Power', 'pattern': 'equal', 'work_min_default': 0.25, 'work_min_min': 0.17, 'work_min_max': 0.33, 'rest_ratio': 8.0, 'reps_min': 6, 'reps_max': 10, 'phases_allowed': 'peak', 'level_min': 'novice', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work_sec}s @Z7 / {rest}min rest'}, {'zone': 'Z7', 'variant_id': 'z7_cluster', 'variant_name': 'Cluster Sets', 'pattern': 'cluster', 'work_min_default': 0.33, 'work_min_min': 0.33, 'work_min_max': 0.33, 'rest_ratio': 6.0, 'reps_min': 9, 'reps_max': 9, 'phases_allowed': 'peak', 'level_min': 'advanced', 'level_max': 'elite', 'priority': 3, 'label_template': '3Ã—3Ã—20s @Z7 cluster (short rest in cluster, long between)'}, {'zone': 'Z8', 'variant_id': 'z8_classic', 'variant_name': 'Neuromuscular Sprint', 'pattern': 'equal', 'work_min_default': 0.17, 'work_min_min': 0.1, 'work_min_max': 0.25, 'rest_ratio': 20.0, 'reps_min': 6, 'reps_max': 10, 'phases_allowed': 'all', 'level_min': 'novice', 'level_max': 'elite', 'priority': 1, 'label_template': '{reps}Ã—{work_sec}s @Z8 sprint / {rest}min rest'}, {'zone': 'Z8', 'variant_id': 'z8_flying', 'variant_name': 'Flying Sprints', 'pattern': 'equal', 'work_min_default': 0.12, 'work_min_min': 0.08, 'work_min_max': 0.17, 'rest_ratio': 25.0, 'reps_min': 8, 'reps_max': 12, 'phases_allowed': 'peak', 'level_min': 'intermediate', 'level_max': 'elite', 'priority': 2, 'label_template': '{reps}Ã—{work_sec}s flying sprint'}, {'zone': 'Z8', 'variant_id': 'z8_strides', 'variant_name': 'Strides', 'pattern': 'equal', 'work_min_default': 0.17, 'work_min_min': 0.15, 'work_min_max': 0.25, 'rest_ratio': 15.0, 'reps_min': 4, 'reps_max': 6, 'phases_allowed': 'all', 'level_min': 'beginner', 'level_max': 'elite', 'priority': 3, 'label_template': '{reps}Ã—{work_sec}s strides'}]
        self._tables["session_structure_variants_v4__pattern_definitions"] = [{'pattern': 'continuous', 'description': 'Single block, no intervals', 'work_distribution': '100% in one block', 'rest_distribution': None}, {'pattern': 'equal', 'description': 'All intervals same duration', 'work_distribution': 'equal across reps', 'rest_distribution': 'equal across reps'}, {'pattern': 'progressive', 'description': 'Intensity or duration increases', 'work_distribution': 'increasing', 'rest_distribution': 'constant'}, {'pattern': 'descending', 'description': 'Interval duration decreases', 'work_distribution': 'decreasing (e.g., 90sâ†’60sâ†’45sâ†’30s)', 'rest_distribution': 'constant or proportional'}, {'pattern': 'pyramid', 'description': 'Up then down', 'work_distribution': 'increasing then decreasing', 'rest_distribution': 'follows work'}, {'pattern': 'alternating', 'description': 'Two intensities alternate', 'work_distribution': 'alternates above/below target', 'rest_distribution': 'short between'}, {'pattern': 'micro', 'description': 'Very short intervals (<1min)', 'work_distribution': 'equal, very short', 'rest_distribution': 'equal or half of work'}, {'pattern': 'cluster', 'description': 'Grouped mini-sets', 'work_distribution': 'equal within cluster', 'rest_distribution': 'short in cluster, long between clusters'}]
        self._tables["session_structure_variants_v4__selection_rules"] = [{'rule_name': 'phase_filter', 'description': 'Exclude variants where phase not in phases_allowed', 'priority': 1}, {'rule_name': 'level_filter', 'description': 'Exclude variants where athlete level outside level_min..level_max', 'priority': 2}, {'rule_name': 'time_filter', 'description': 'Exclude variants where min_total_time > container_minutes', 'priority': 3}, {'rule_name': 'ntiz_filter', 'description': 'Exclude variants where ntiz_target < min_ntiz or > max_ntiz for variant', 'priority': 4}, {'rule_name': 'priority_sort', 'description': 'Select lowest priority number among remaining', 'priority': 5}, {'rule_name': 'fallback', 'description': "If no match, use zone's priority=1 variant with clamped parameters", 'priority': 6}]
        self._tables["session_structure_variants_v4__fallback_variants"] = [{'zone': 'R', 'fallback_variant_id': 'r_classic', 'rationale': 'Standard recovery movement'}, {'zone': 'Z1', 'fallback_variant_id': 'z1_classic', 'rationale': 'Standard easy session'}, {'zone': 'Z2', 'fallback_variant_id': 'z2_classic', 'rationale': 'Standard aerobic session'}, {'zone': 'Z3', 'fallback_variant_id': 'z3_classic', 'rationale': 'Safe default tempo structure'}, {'zone': 'Z4', 'fallback_variant_id': 'z4_classic', 'rationale': 'Norwegian standard'}, {'zone': 'Z5', 'fallback_variant_id': 'z5_classic', 'rationale': 'Proven VO2max structure'}, {'zone': 'Z6', 'fallback_variant_id': 'z6_classic', 'rationale': 'Standard anaerobic'}, {'zone': 'Z7', 'fallback_variant_id': 'z7_classic', 'rationale': 'Standard max power'}, {'zone': 'Z8', 'fallback_variant_id': 'z8_classic', 'rationale': 'Standard sprint'}]
        self._tables["session_structure_variants_v4__meso_progression"] = [{'zone': 'Z3', 'progression_type': 'duration', 'week_1': '3Ã—10min', 'week_2': '3Ã—12min', 'week_3': '3Ã—15min', 'week_4_deload': '2Ã—10min'}, {'zone': 'Z4', 'progression_type': 'duration', 'week_1': '3Ã—8min', 'week_2': '4Ã—8min', 'week_3': '4Ã—10min', 'week_4_deload': '3Ã—8min'}, {'zone': 'Z5', 'progression_type': 'reps', 'week_1': '4Ã—3min', 'week_2': '5Ã—3min', 'week_3': '5Ã—4min', 'week_4_deload': '3Ã—3min'}, {'zone': 'Z6', 'progression_type': 'density', 'week_1': '6Ã—60s/3min', 'week_2': '6Ã—60s/2.5min', 'week_3': '8Ã—60s/2.5min', 'week_4_deload': '4Ã—60s/3min'}]
        self._tables["session_templates_v4__zone_efficiency"] = [{'zone': 'R', 'session_type': 'recovery', 'warmup_min': 5, 'cooldown_min': 5, 'rest_ratio_base': 0.0, 'is_continuous': True, 'med_minutes': 20, 'max_chunk_minutes': 45, 'source': 'olympiatoppen'}, {'zone': 'Z1', 'session_type': 'easy', 'warmup_min': 10, 'cooldown_min': 5, 'rest_ratio_base': 0.0, 'is_continuous': True, 'med_minutes': 30, 'max_chunk_minutes': 90, 'source': 'olympiatoppen'}, {'zone': 'Z2', 'session_type': 'endurance', 'warmup_min': 10, 'cooldown_min': 10, 'rest_ratio_base': 0.0, 'is_continuous': True, 'med_minutes': 40, 'max_chunk_minutes': 120, 'source': 'olympiatoppen'}, {'zone': 'Z3', 'session_type': 'tempo', 'warmup_min': 15, 'cooldown_min': 10, 'rest_ratio_base': 0.25, 'is_continuous': False, 'med_minutes': 20, 'max_chunk_minutes': 45, 'source': 'billat_2001'}, {'zone': 'Z4', 'session_type': 'threshold', 'warmup_min': 15, 'cooldown_min': 10, 'rest_ratio_base': 0.5, 'is_continuous': False, 'med_minutes': 15, 'max_chunk_minutes': 40, 'source': 'buchheit_laursen'}, {'zone': 'Z5', 'session_type': 'vo2max', 'warmup_min': 15, 'cooldown_min': 10, 'rest_ratio_base': 1.0, 'is_continuous': False, 'med_minutes': 8, 'max_chunk_minutes': 24, 'source': 'buchheit_laursen'}, {'zone': 'Z6', 'session_type': 'anaerobic', 'warmup_min': 15, 'cooldown_min': 10, 'rest_ratio_base': 2.0, 'is_continuous': False, 'med_minutes': 4, 'max_chunk_minutes': 12, 'source': 'olympiatoppen'}, {'zone': 'Z7', 'session_type': 'max_power', 'warmup_min': 15, 'cooldown_min': 10, 'rest_ratio_base': 6.0, 'is_continuous': False, 'med_minutes': 3, 'max_chunk_minutes': 8, 'source': 'olympiatoppen'}, {'zone': 'Z8', 'session_type': 'sprint', 'warmup_min': 20, 'cooldown_min': 10, 'rest_ratio_base': 15.0, 'is_continuous': False, 'med_minutes': 2, 'max_chunk_minutes': 6, 'source': 'olympiatoppen'}]
        self._tables["session_templates_v4__level_rest_multiplier"] = [{'level': 'beginner', 'level_int': 1, 'rest_multiplier': 1.3, 'rationale': 'Needs more recovery between intervals'}, {'level': 'novice', 'level_int': 2, 'rest_multiplier': 1.15, 'rationale': 'Building tolerance'}, {'level': 'intermediate', 'level_int': 3, 'rest_multiplier': 1.0, 'rationale': 'Baseline reference'}, {'level': 'advanced', 'level_int': 4, 'rest_multiplier': 0.9, 'rationale': 'Better lactate clearance'}, {'level': 'elite', 'level_int': 5, 'rest_multiplier': 0.8, 'rationale': 'Superior recovery capacity'}]
        self._tables["session_templates_v4__age_rest_multiplier"] = [{'age_min': 0, 'age_max': 39, 'rest_multiplier': 1.0, 'rationale': 'Baseline recovery'}, {'age_min': 40, 'age_max': 49, 'rest_multiplier': 1.15, 'rationale': 'Masters recovery adjustment'}, {'age_min': 50, 'age_max': 59, 'rest_multiplier': 1.3, 'rationale': 'Extended recovery needed'}, {'age_min': 60, 'age_max': 120, 'rest_multiplier': 1.5, 'rationale': 'Senior masters adjustment'}]
        self._tables["session_templates_v4__slot_yield_reference"] = [{'zone': 'R', 'slot_45': 35, 'slot_60': 50, 'slot_75': 65, 'slot_90': 80, 'slot_120': 110}, {'zone': 'Z1', 'slot_45': 30, 'slot_60': 45, 'slot_75': 60, 'slot_90': 75, 'slot_120': 105}, {'zone': 'Z2', 'slot_45': 25, 'slot_60': 40, 'slot_75': 55, 'slot_90': 70, 'slot_120': 100}, {'zone': 'Z3', 'slot_45': 16, 'slot_60': 28, 'slot_75': 40, 'slot_90': 52, 'slot_120': 76}, {'zone': 'Z4', 'slot_45': 13, 'slot_60': 23, 'slot_75': 33, 'slot_90': 43, 'slot_120': 63}, {'zone': 'Z5', 'slot_45': 10, 'slot_60': 18, 'slot_75': 25, 'slot_90': 33, 'slot_120': 48}, {'zone': 'Z6', 'slot_45': 7, 'slot_60': 12, 'slot_75': 17, 'slot_90': 22, 'slot_120': 32}, {'zone': 'Z7', 'slot_45': 3, 'slot_60': 5, 'slot_75': 7, 'slot_90': 9, 'slot_120': 13}, {'zone': 'Z8', 'slot_45': 1, 'slot_60': 2, 'slot_75': 3, 'slot_90': 4, 'slot_120': 5}]
        self._tables["session_templates_v4__warmup_scaling"] = [{'zone_type': 'easy', 'container_min': 0, 'container_max': 999, 'warmup_pct': 0.0, 'warmup_max_min': 0, 'cooldown_pct': 0.1, 'cooldown_max_min': 5}, {'zone_type': 'intensity', 'container_min': 0, 'container_max': 44, 'warmup_pct': 0.15, 'warmup_max_min': 5, 'cooldown_pct': 0.1, 'cooldown_max_min': 5}, {'zone_type': 'intensity', 'container_min': 45, 'container_max': 59, 'warmup_pct': 0.2, 'warmup_max_min': 10, 'cooldown_pct': 0.1, 'cooldown_max_min': 5}, {'zone_type': 'intensity', 'container_min': 60, 'container_max': 999, 'warmup_pct': 0.25, 'warmup_max_min': 15, 'cooldown_pct': 0.15, 'cooldown_max_min': 10}]
        self._tables["session_budgets_v4__meso_session_budgets"] = [{'phase': 'base', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'quality_pct': 10, 'z3_max_meso': 2, 'z4_max_meso': 0, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 8, 'min_recovery_gap_days': 2, 'source': 'seiler_2010'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'age_min': 0, 'age_max': 39, 'quality_pct': 15, 'z3_max_meso': 3, 'z4_max_meso': 1, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 6, 'min_recovery_gap_days': 2, 'source': 'seiler_2010'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'age_min': 40, 'age_max': 54, 'quality_pct': 12, 'z3_max_meso': 2, 'z4_max_meso': 1, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 6, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'base', 'level_min': 3, 'level_max': 3, 'age_min': 55, 'age_max': 999, 'quality_pct': 10, 'z3_max_meso': 2, 'z4_max_meso': 0, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 6, 'min_recovery_gap_days': 3, 'source': 'friel_masters'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'age_min': 0, 'age_max': 39, 'quality_pct': 15, 'z3_max_meso': 3, 'z4_max_meso': 2, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 2, 'source': 'seiler_2010'}, {'phase': 'base', 'level_min': 4, 'level_max': 5, 'age_min': 40, 'age_max': 999, 'quality_pct': 12, 'z3_max_meso': 2, 'z4_max_meso': 1, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'build', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'quality_pct': 15, 'z3_max_meso': 2, 'z4_max_meso': 1, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 6, 'min_recovery_gap_days': 2, 'source': 'esteve_lanao'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'age_min': 0, 'age_max': 39, 'quality_pct': 20, 'z3_max_meso': 2, 'z4_max_meso': 3, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 2, 'source': 'esteve_lanao'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'age_min': 40, 'age_max': 54, 'quality_pct': 18, 'z3_max_meso': 2, 'z4_max_meso': 2, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'build', 'level_min': 3, 'level_max': 3, 'age_min': 55, 'age_max': 999, 'quality_pct': 15, 'z3_max_meso': 2, 'z4_max_meso': 1, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 3, 'source': 'friel_masters'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'age_min': 0, 'age_max': 39, 'quality_pct': 22, 'z3_max_meso': 2, 'z4_max_meso': 4, 'z5_max_meso': 2, 'z6z8_max_meso': 0, 'min_z2_sessions': 4, 'min_recovery_gap_days': 2, 'source': 'esteve_lanao'}, {'phase': 'build', 'level_min': 4, 'level_max': 5, 'age_min': 40, 'age_max': 999, 'quality_pct': 18, 'z3_max_meso': 2, 'z4_max_meso': 3, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 4, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'peak', 'level_min': 1, 'level_max': 2, 'age_min': 0, 'age_max': 999, 'quality_pct': 18, 'z3_max_meso': 1, 'z4_max_meso': 2, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 5, 'min_recovery_gap_days': 2, 'source': 'mujika_2003'}, {'phase': 'peak', 'level_min': 3, 'level_max': 3, 'age_min': 0, 'age_max': 39, 'quality_pct': 22, 'z3_max_meso': 1, 'z4_max_meso': 2, 'z5_max_meso': 2, 'z6z8_max_meso': 1, 'min_z2_sessions': 4, 'min_recovery_gap_days': 2, 'source': 'mujika_2003'}, {'phase': 'peak', 'level_min': 3, 'level_max': 3, 'age_min': 40, 'age_max': 999, 'quality_pct': 18, 'z3_max_meso': 1, 'z4_max_meso': 2, 'z5_max_meso': 1, 'z6z8_max_meso': 1, 'min_z2_sessions': 4, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'peak', 'level_min': 4, 'level_max': 5, 'age_min': 0, 'age_max': 39, 'quality_pct': 25, 'z3_max_meso': 1, 'z4_max_meso': 3, 'z5_max_meso': 2, 'z6z8_max_meso': 2, 'min_z2_sessions': 3, 'min_recovery_gap_days': 2, 'source': 'mujika_2003'}, {'phase': 'peak', 'level_min': 4, 'level_max': 5, 'age_min': 40, 'age_max': 999, 'quality_pct': 20, 'z3_max_meso': 1, 'z4_max_meso': 2, 'z5_max_meso': 1, 'z6z8_max_meso': 1, 'min_z2_sessions': 4, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 39, 'quality_pct': 20, 'z3_max_meso': 0, 'z4_max_meso': 2, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 3, 'min_recovery_gap_days': 2, 'source': 'mujika_2003'}, {'phase': 'taper', 'level_min': 1, 'level_max': 5, 'age_min': 40, 'age_max': 999, 'quality_pct': 18, 'z3_max_meso': 0, 'z4_max_meso': 1, 'z5_max_meso': 1, 'z6z8_max_meso': 0, 'min_z2_sessions': 3, 'min_recovery_gap_days': 2, 'source': 'friel_masters'}, {'phase': 'recovery', 'level_min': 1, 'level_max': 5, 'age_min': 0, 'age_max': 999, 'quality_pct': 0, 'z3_max_meso': 0, 'z4_max_meso': 0, 'z5_max_meso': 0, 'z6z8_max_meso': 0, 'min_z2_sessions': 4, 'min_recovery_gap_days': 0, 'source': 'seiler_2010'}]
        self._tables["session_budgets_v4__meso_scaling"] = [{'meso_days': 28, 'scale_factor': 1.0, 'min_quality_sessions': 2, 'min_z2_sessions': 4}, {'meso_days': 21, 'scale_factor': 0.75, 'min_quality_sessions': 1, 'min_z2_sessions': 3}, {'meso_days': 14, 'scale_factor': 0.5, 'min_quality_sessions': 1, 'min_z2_sessions': 2}]
        self._tables["session_budgets_v4__level_mapping"] = [{'level': 'beginner', 'level_int': 1}, {'level': 'novice', 'level_int': 2}, {'level': 'intermediate', 'level_int': 3}, {'level': 'advanced', 'level_int': 4}, {'level': 'elite', 'level_int': 5}]
        self._tables["session_budgets_v4__quality_priority"] = [{'priority': 1, 'zone': 'Z5', 'rationale': 'Highest recovery cost, needs biggest slots'}, {'priority': 2, 'zone': 'Z6', 'rationale': 'Anaerobic capacity'}, {'priority': 3, 'zone': 'Z7', 'rationale': 'Max power'}, {'priority': 4, 'zone': 'Z8', 'rationale': 'Sprint/neuromuscular'}, {'priority': 5, 'zone': 'Z4', 'rationale': 'VO2max/threshold'}, {'priority': 6, 'zone': 'Z3', 'rationale': 'Tempo/lactate clearance'}]
        self._tables["session_budgets_v4__min_slot_requirements"] = [{'zone': 'R', 'min_slot_minutes': 30, 'rationale': 'Minimal recovery benefit below this'}, {'zone': 'Z1', 'min_slot_minutes': 40, 'rationale': 'MED for peripheral adaptation'}, {'zone': 'Z2', 'min_slot_minutes': 50, 'rationale': 'MED for mitochondrial density'}, {'zone': 'Z3', 'min_slot_minutes': 55, 'rationale': 'Warmup + intervals + cooldown'}, {'zone': 'Z4', 'min_slot_minutes': 60, 'rationale': 'Warmup + 4x4 + cooldown'}, {'zone': 'Z5', 'min_slot_minutes': 60, 'rationale': 'Warmup + vo2max intervals + cooldown'}, {'zone': 'Z6', 'min_slot_minutes': 50, 'rationale': 'Warmup + anaerobic work + cooldown'}, {'zone': 'Z7', 'min_slot_minutes': 50, 'rationale': 'Warmup + power work + cooldown'}, {'zone': 'Z8', 'min_slot_minutes': 45, 'rationale': 'Warmup + sprints + cooldown'}]
        self._tables["goal_modifiers_v4__goal_registry"] = [{'goal': '5k', 'family': 'endurance_short', 'goal_type': 'race'}, {'goal': '10k', 'family': 'endurance_short', 'goal_type': 'race'}, {'goal': 'half_marathon', 'family': 'endurance_long', 'goal_type': 'race'}, {'goal': 'marathon', 'family': 'endurance_long', 'goal_type': 'race'}, {'goal': 'ultra', 'family': 'endurance_ultra', 'goal_type': 'race'}, {'goal': 'century', 'family': 'cycling_endurance', 'goal_type': 'race'}, {'goal': 'gran_fondo', 'family': 'cycling_mixed', 'goal_type': 'race'}, {'goal': 'sprint_triathlon', 'family': 'tri_short', 'goal_type': 'race'}, {'goal': 'olympic_triathlon', 'family': 'tri_mid', 'goal_type': 'race'}, {'goal': 'half_ironman', 'family': 'tri_long', 'goal_type': 'race'}, {'goal': 'ironman', 'family': 'tri_ultra', 'goal_type': 'race'}, {'goal': 'general_fitness', 'family': 'general', 'goal_type': 'non_race'}, {'goal': 'weight_loss', 'family': 'body_comp', 'goal_type': 'non_race'}, {'goal': 'base_building', 'family': 'foundation', 'goal_type': 'non_race'}]
        self._tables["goal_modifiers_v4__goal_zone_modifiers"] = [{'goal': '5k', 'z1_z2_mult': 0.9, 'z3_mult': 0.95, 'z4_z5_mult': 1.25, 'z6_z8_mult': 1.15, 'notes': 'high_vo2_threshold_touch'}, {'goal': '10k', 'z1_z2_mult': 0.95, 'z3_mult': 1.0, 'z4_z5_mult': 1.15, 'z6_z8_mult': 1.1, 'notes': 'balanced_intensity_present'}, {'goal': 'half_marathon', 'z1_z2_mult': 1.05, 'z3_mult': 1.05, 'z4_z5_mult': 1.05, 'z6_z8_mult': 0.9, 'notes': 'threshold_durability'}, {'goal': 'marathon', 'z1_z2_mult': 1.15, 'z3_mult': 1.0, 'z4_z5_mult': 0.85, 'z6_z8_mult': 0.75, 'notes': 'maximize_aerobic_durability'}, {'goal': 'ultra', 'z1_z2_mult': 1.25, 'z3_mult': 0.85, 'z4_z5_mult': 0.7, 'z6_z8_mult': 0.6, 'notes': 'maximal_aerobic_minimal_intensity'}, {'goal': 'century', 'z1_z2_mult': 1.25, 'z3_mult': 0.85, 'z4_z5_mult': 0.75, 'z6_z8_mult': 0.6, 'notes': 'similar_to_ultra'}, {'goal': 'gran_fondo', 'z1_z2_mult': 1.1, 'z3_mult': 1.05, 'z4_z5_mult': 1.05, 'z6_z8_mult': 0.85, 'notes': 'terrain_variability'}, {'goal': 'sprint_triathlon', 'z1_z2_mult': 0.95, 'z3_mult': 1.0, 'z4_z5_mult': 1.2, 'z6_z8_mult': 1.05, 'notes': 'short_event_high_intensity'}, {'goal': 'olympic_triathlon', 'z1_z2_mult': 1.0, 'z3_mult': 1.05, 'z4_z5_mult': 1.1, 'z6_z8_mult': 0.95, 'notes': 'balanced'}, {'goal': 'half_ironman', 'z1_z2_mult': 1.15, 'z3_mult': 1.0, 'z4_z5_mult': 0.9, 'z6_z8_mult': 0.8, 'notes': 'aerobic_controlled_intensity'}, {'goal': 'ironman', 'z1_z2_mult': 1.25, 'z3_mult': 0.9, 'z4_z5_mult': 0.8, 'z6_z8_mult': 0.7, 'notes': 'very_aerobic_intensity_touch_only'}, {'goal': 'general_fitness', 'z1_z2_mult': 1.0, 'z3_mult': 1.0, 'z4_z5_mult': 1.0, 'z6_z8_mult': 1.0, 'notes': 'default_no_modification'}, {'goal': 'weight_loss', 'z1_z2_mult': 1.0, 'z3_mult': 0.95, 'z4_z5_mult': 1.15, 'z6_z8_mult': 0.9, 'notes': 'hiit_touch_avoid_z3_grind'}, {'goal': 'base_building', 'z1_z2_mult': 1.25, 'z3_mult': 0.8, 'z4_z5_mult': 0.6, 'z6_z8_mult': 0.5, 'notes': 'foundation_only'}]
        self._tables["goal_modifiers_v4__goal_characteristics"] = [{'goal': '5k', 'typical_duration_mesos_min': 2, 'typical_duration_mesos_max': 4, 'min_base_mesos': 1, 'intensity_focus': 'high', 'volume_focus': 'low', 'taper_days': 7}, {'goal': '10k', 'typical_duration_mesos_min': 3, 'typical_duration_mesos_max': 5, 'min_base_mesos': 1, 'intensity_focus': 'med_high', 'volume_focus': 'medium', 'taper_days': 10}, {'goal': 'half_marathon', 'typical_duration_mesos_min': 4, 'typical_duration_mesos_max': 6, 'min_base_mesos': 2, 'intensity_focus': 'medium', 'volume_focus': 'med_high', 'taper_days': 14}, {'goal': 'marathon', 'typical_duration_mesos_min': 6, 'typical_duration_mesos_max': 10, 'min_base_mesos': 3, 'intensity_focus': 'low_med', 'volume_focus': 'high', 'taper_days': 21}, {'goal': 'ultra', 'typical_duration_mesos_min': 8, 'typical_duration_mesos_max': 14, 'min_base_mesos': 4, 'intensity_focus': 'low', 'volume_focus': 'very_high', 'taper_days': 21}, {'goal': 'century', 'typical_duration_mesos_min': 6, 'typical_duration_mesos_max': 10, 'min_base_mesos': 3, 'intensity_focus': 'low_med', 'volume_focus': 'high', 'taper_days': 14}, {'goal': 'gran_fondo', 'typical_duration_mesos_min': 4, 'typical_duration_mesos_max': 8, 'min_base_mesos': 2, 'intensity_focus': 'medium', 'volume_focus': 'med_high', 'taper_days': 14}, {'goal': 'sprint_triathlon', 'typical_duration_mesos_min': 3, 'typical_duration_mesos_max': 5, 'min_base_mesos': 1, 'intensity_focus': 'med_high', 'volume_focus': 'medium', 'taper_days': 7}, {'goal': 'olympic_triathlon', 'typical_duration_mesos_min': 4, 'typical_duration_mesos_max': 6, 'min_base_mesos': 2, 'intensity_focus': 'medium', 'volume_focus': 'med_high', 'taper_days': 14}, {'goal': 'half_ironman', 'typical_duration_mesos_min': 6, 'typical_duration_mesos_max': 10, 'min_base_mesos': 3, 'intensity_focus': 'low_med', 'volume_focus': 'high', 'taper_days': 21}, {'goal': 'ironman', 'typical_duration_mesos_min': 8, 'typical_duration_mesos_max': 14, 'min_base_mesos': 4, 'intensity_focus': 'low', 'volume_focus': 'very_high', 'taper_days': 21}, {'goal': 'general_fitness', 'typical_duration_mesos_min': 2, 'typical_duration_mesos_max': 999, 'min_base_mesos': 1, 'intensity_focus': 'medium', 'volume_focus': 'medium', 'taper_days': 7}, {'goal': 'weight_loss', 'typical_duration_mesos_min': 2, 'typical_duration_mesos_max': 999, 'min_base_mesos': 1, 'intensity_focus': 'medium', 'volume_focus': 'medium', 'taper_days': 7}, {'goal': 'base_building', 'typical_duration_mesos_min': 2, 'typical_duration_mesos_max': 6, 'min_base_mesos': 1, 'intensity_focus': 'low', 'volume_focus': 'high', 'taper_days': 7}]
        self._tables["goal_modifiers_v4__goal_phase_emphasis"] = [{'goal': '5k', 'base_pct': 35, 'build_pct': 45, 'peak_pct': 20, 'taper_days_min': 7, 'taper_days_max': 10}, {'goal': '10k', 'base_pct': 40, 'build_pct': 40, 'peak_pct': 20, 'taper_days_min': 7, 'taper_days_max': 10}, {'goal': 'half_marathon', 'base_pct': 45, 'build_pct': 40, 'peak_pct': 15, 'taper_days_min': 10, 'taper_days_max': 14}, {'goal': 'marathon', 'base_pct': 55, 'build_pct': 35, 'peak_pct': 10, 'taper_days_min': 14, 'taper_days_max': 21}, {'goal': 'ultra', 'base_pct': 60, 'build_pct': 30, 'peak_pct': 10, 'taper_days_min': 14, 'taper_days_max': 28}, {'goal': 'century', 'base_pct': 55, 'build_pct': 35, 'peak_pct': 10, 'taper_days_min': 10, 'taper_days_max': 21}, {'goal': 'gran_fondo', 'base_pct': 45, 'build_pct': 40, 'peak_pct': 15, 'taper_days_min': 10, 'taper_days_max': 14}, {'goal': 'sprint_triathlon', 'base_pct': 40, 'build_pct': 40, 'peak_pct': 20, 'taper_days_min': 7, 'taper_days_max': 10}, {'goal': 'olympic_triathlon', 'base_pct': 45, 'build_pct': 40, 'peak_pct': 15, 'taper_days_min': 7, 'taper_days_max': 14}, {'goal': 'half_ironman', 'base_pct': 55, 'build_pct': 35, 'peak_pct': 10, 'taper_days_min': 10, 'taper_days_max': 21}, {'goal': 'ironman', 'base_pct': 60, 'build_pct': 30, 'peak_pct': 10, 'taper_days_min': 14, 'taper_days_max': 21}, {'goal': 'general_fitness', 'base_pct': 50, 'build_pct': 35, 'peak_pct': 15, 'taper_days_min': 0, 'taper_days_max': 0}, {'goal': 'weight_loss', 'base_pct': 50, 'build_pct': 35, 'peak_pct': 15, 'taper_days_min': 0, 'taper_days_max': 0}, {'goal': 'base_building', 'base_pct': 80, 'build_pct': 20, 'peak_pct': 0, 'taper_days_min': 0, 'taper_days_max': 0}]
        self._tables["goal_modifiers_v4__goal_level_restrictions"] = [{'goal': '5k', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'intensity_gated_by_caps'}, {'goal': '10k', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'intensity_gated_by_caps'}, {'goal': 'half_marathon', 'min_level': 'novice', 'hard_lock': False, 'reason': 'moderate_volume_demand'}, {'goal': 'marathon', 'min_level': 'intermediate', 'hard_lock': True, 'reason': 'durability_injury_risk'}, {'goal': 'ultra', 'min_level': 'intermediate', 'hard_lock': True, 'reason': 'very_high_volume_tolerance'}, {'goal': 'century', 'min_level': 'intermediate', 'hard_lock': False, 'reason': 'high_volume_demand'}, {'goal': 'gran_fondo', 'min_level': 'novice', 'hard_lock': False, 'reason': 'moderate_demand'}, {'goal': 'sprint_triathlon', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'short_event'}, {'goal': 'olympic_triathlon', 'min_level': 'novice', 'hard_lock': False, 'reason': 'moderate_demand'}, {'goal': 'half_ironman', 'min_level': 'novice', 'hard_lock': False, 'reason': 'high_endurance_load'}, {'goal': 'ironman', 'min_level': 'intermediate', 'hard_lock': True, 'reason': 'extreme_combined_load'}, {'goal': 'general_fitness', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'always_allowed'}, {'goal': 'weight_loss', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'intensity_gated_by_caps'}, {'goal': 'base_building', 'min_level': 'beginner', 'hard_lock': False, 'reason': 'always_allowed'}]
        self._tables["threshold_estimation_v4__hrmax_formula"] = [{'formula_name': 'tanaka', 'sex': 'any', 'coef_a': 208, 'coef_b': 0.7, 'age_min': 13, 'age_max': 80, 'confidence': 'medium', 'source': 'Tanaka_2001'}, {'formula_name': 'gulati', 'sex': 'female', 'coef_a': 206, 'coef_b': 0.88, 'age_min': 13, 'age_max': 80, 'confidence': 'medium', 'source': 'Gulati_2010'}, {'formula_name': 'traditional', 'sex': 'any', 'coef_a': 220, 'coef_b': 1.0, 'age_min': 13, 'age_max': 80, 'confidence': 'low', 'source': 'Fox_1971'}]
        self._tables["threshold_estimation_v4__threshold_pct_hrmax"] = [{'level': 'beginner', 'threshold_pct_low': 0.78, 'threshold_pct_mid': 0.8, 'threshold_pct_high': 0.82, 'confidence': 'low', 'source': 'ACSM_2021'}, {'level': 'novice', 'threshold_pct_low': 0.82, 'threshold_pct_mid': 0.84, 'threshold_pct_high': 0.86, 'confidence': 'low', 'source': 'Tanaka_2001'}, {'level': 'intermediate', 'threshold_pct_low': 0.85, 'threshold_pct_mid': 0.87, 'threshold_pct_high': 0.89, 'confidence': 'medium', 'source': 'Nikolaidis_2018'}, {'level': 'advanced', 'threshold_pct_low': 0.87, 'threshold_pct_mid': 0.89, 'threshold_pct_high': 0.91, 'confidence': 'medium', 'source': 'Seiler_2010'}, {'level': 'elite', 'threshold_pct_low': 0.89, 'threshold_pct_mid': 0.91, 'threshold_pct_high': 0.93, 'confidence': 'medium', 'source': 'Jones_2006'}]
        self._tables["threshold_estimation_v4__running_pace_male"] = [{'level': 'beginner', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 6.5, 'pace_5k_mid': 7.0, 'pace_5k_high': 7.5, 'pace_10k_low': 6.75, 'pace_10k_mid': 7.25, 'pace_10k_high': 8.0, 'pace_half_low': 7.0, 'pace_half_mid': 7.5, 'pace_half_high': 8.25, 'confidence': 'low', 'source': 'Riegel_1981'}, {'level': 'novice', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 5.5, 'pace_5k_mid': 6.0, 'pace_5k_high': 6.5, 'pace_10k_low': 5.75, 'pace_10k_mid': 6.25, 'pace_10k_high': 6.75, 'pace_half_low': 6.0, 'pace_half_mid': 6.5, 'pace_half_high': 7.0, 'confidence': 'low', 'source': 'Daniels_2014'}, {'level': 'intermediate', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 4.5, 'pace_5k_mid': 5.0, 'pace_5k_high': 5.5, 'pace_10k_low': 4.67, 'pace_10k_mid': 5.17, 'pace_10k_high': 5.67, 'pace_half_low': 4.92, 'pace_half_mid': 5.42, 'pace_half_high': 6.0, 'confidence': 'medium', 'source': 'Daniels_2014'}, {'level': 'advanced', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 3.75, 'pace_5k_mid': 4.15, 'pace_5k_high': 4.5, 'pace_10k_low': 3.92, 'pace_10k_mid': 4.3, 'pace_10k_high': 4.67, 'pace_half_low': 4.17, 'pace_half_mid': 4.55, 'pace_half_high': 4.92, 'confidence': 'medium', 'source': 'Daniels_2014'}, {'level': 'elite', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 2.83, 'pace_5k_mid': 3.17, 'pace_5k_high': 3.5, 'pace_10k_low': 3.0, 'pace_10k_mid': 3.33, 'pace_10k_high': 3.67, 'pace_half_low': 3.17, 'pace_half_mid': 3.5, 'pace_half_high': 3.92, 'confidence': 'high', 'source': 'WorldAthletics'}]
        self._tables["threshold_estimation_v4__running_pace_female"] = [{'level': 'beginner', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 7.5, 'pace_5k_mid': 8.0, 'pace_5k_high': 8.5, 'pace_10k_low': 8.25, 'pace_10k_mid': 8.75, 'pace_10k_high': 9.25, 'pace_half_low': 8.75, 'pace_half_mid': 9.25, 'pace_half_high': 10.0, 'confidence': 'low', 'source': 'ACSM_2021'}, {'level': 'novice', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 6.25, 'pace_5k_mid': 6.75, 'pace_5k_high': 7.25, 'pace_10k_low': 6.5, 'pace_10k_mid': 7.0, 'pace_10k_high': 7.5, 'pace_half_low': 6.75, 'pace_half_mid': 7.25, 'pace_half_high': 7.75, 'confidence': 'low', 'source': 'Daniels_2014'}, {'level': 'intermediate', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 5.5, 'pace_5k_mid': 6.0, 'pace_5k_high': 6.5, 'pace_10k_low': 5.75, 'pace_10k_mid': 6.25, 'pace_10k_high': 6.75, 'pace_half_low': 6.0, 'pace_half_mid': 6.5, 'pace_half_high': 7.0, 'confidence': 'medium', 'source': 'Daniels_2014'}, {'level': 'advanced', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 4.33, 'pace_5k_mid': 4.67, 'pace_5k_high': 5.0, 'pace_10k_low': 4.5, 'pace_10k_mid': 4.83, 'pace_10k_high': 5.17, 'pace_half_low': 4.75, 'pace_half_mid': 5.08, 'pace_half_high': 5.42, 'confidence': 'medium', 'source': 'Daniels_2014'}, {'level': 'elite', 'age_min': 18, 'age_max': 75, 'pace_5k_low': 3.33, 'pace_5k_mid': 3.58, 'pace_5k_high': 3.83, 'pace_10k_low': 3.5, 'pace_10k_mid': 3.75, 'pace_10k_high': 4.0, 'pace_half_low': 3.67, 'pace_half_mid': 3.92, 'pace_half_high': 4.17, 'confidence': 'high', 'source': 'WorldAthletics'}]
        self._tables["threshold_estimation_v4__cycling_ftp_male"] = [{'level': 'beginner', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 1.5, 'ftp_wkg_mid': 1.8, 'ftp_wkg_high': 2.1, 'confidence': 'low', 'source': 'Coggan_2015'}, {'level': 'novice', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 2.0, 'ftp_wkg_mid': 2.4, 'ftp_wkg_high': 2.8, 'confidence': 'low', 'source': 'Coggan_2015'}, {'level': 'intermediate', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 2.6, 'ftp_wkg_mid': 3.0, 'ftp_wkg_high': 3.4, 'confidence': 'medium', 'source': 'Coggan_2015'}, {'level': 'advanced', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 3.3, 'ftp_wkg_mid': 3.8, 'ftp_wkg_high': 4.3, 'confidence': 'medium', 'source': 'Allen_Coggan'}, {'level': 'elite', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 4.2, 'ftp_wkg_mid': 4.8, 'ftp_wkg_high': 5.5, 'confidence': 'high', 'source': 'Allen_Coggan'}]
        self._tables["threshold_estimation_v4__cycling_ftp_female"] = [{'level': 'beginner', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 1.2, 'ftp_wkg_mid': 1.5, 'ftp_wkg_high': 1.8, 'confidence': 'low', 'source': 'Coggan_2015'}, {'level': 'novice', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 1.7, 'ftp_wkg_mid': 2.0, 'ftp_wkg_high': 2.4, 'confidence': 'low', 'source': 'Coggan_2015'}, {'level': 'intermediate', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 2.2, 'ftp_wkg_mid': 2.6, 'ftp_wkg_high': 3.0, 'confidence': 'medium', 'source': 'Coggan_2015'}, {'level': 'advanced', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 2.9, 'ftp_wkg_mid': 3.4, 'ftp_wkg_high': 3.9, 'confidence': 'medium', 'source': 'Allen_Coggan'}, {'level': 'elite', 'age_min': 18, 'age_max': 75, 'ftp_wkg_low': 3.8, 'ftp_wkg_mid': 4.4, 'ftp_wkg_high': 5.0, 'confidence': 'high', 'source': 'Allen_Coggan'}]
        self._tables["threshold_estimation_v4__field_tests"] = [{'sport': 'running', 'test_name': 'time_trial_20min', 'duration_minutes': 20, 'protocol': 'max_sustainable_pace_20min', 'result_formula': 'threshold_pace = avg_pace', 'confidence': 'high', 'source': 'Daniels_2014'}, {'sport': 'running', 'test_name': 'time_trial_5k', 'duration_minutes': 20, 'protocol': 'race_effort_5k', 'result_formula': 'use_riegel_scaling', 'confidence': 'high', 'source': 'Riegel_1981'}, {'sport': 'running', 'test_name': 'cooper_test', 'duration_minutes': 12, 'protocol': 'max_distance_12min', 'result_formula': 'vo2max = (distance_m - 504.9) / 44.73', 'confidence': 'medium', 'source': 'Cooper_1968'}, {'sport': 'cycling', 'test_name': 'ftp_test_20min', 'duration_minutes': 20, 'protocol': 'max_sustainable_watts_20min', 'result_formula': 'ftp = avg_watts * 0.95', 'confidence': 'high', 'source': 'Allen_Coggan'}, {'sport': 'cycling', 'test_name': 'ftp_test_8min', 'duration_minutes': 16, 'protocol': 'two_8min_maxes_with_rest', 'result_formula': 'ftp = avg_watts * 0.90', 'confidence': 'medium', 'source': 'Coggan_2015'}, {'sport': 'cycling', 'test_name': 'ramp_test', 'duration_minutes': 15, 'protocol': 'increment_until_failure', 'result_formula': 'ftp = max_1min * 0.75', 'confidence': 'medium', 'source': 'TrainerRoad'}, {'sport': 'any', 'test_name': 'hrmax_verification', 'duration_minutes': 15, 'protocol': 'progressive_to_max_effort', 'result_formula': 'verify_hrmax_formula', 'confidence': 'high', 'source': 'Tanaka_2001'}]
        self._tables["threshold_estimation_v4__confidence_levels"] = [{'data_source': 'lab_test_vo2', 'confidence': 'very_high', 'accuracy_pct': 2, 'action': 'use_directly', 'zone4_allowed': 'yes'}, {'data_source': 'field_test_20min', 'confidence': 'high', 'accuracy_pct': 4, 'action': 'use_directly', 'zone4_allowed': 'yes'}, {'data_source': 'race_result_recent', 'confidence': 'high', 'accuracy_pct': 5, 'action': 'use_with_riegel', 'zone4_allowed': 'yes'}, {'data_source': 'race_result_old', 'confidence': 'medium', 'accuracy_pct': 8, 'action': 'use_conservative', 'zone4_allowed': 'yes_with_caution'}, {'data_source': 'population_estimate', 'confidence': 'low', 'accuracy_pct': 18, 'action': 'recommend_test_4wk', 'zone4_allowed': 'limited'}, {'data_source': 'no_data', 'confidence': None, 'accuracy_pct': 0, 'action': 'require_test', 'zone4_allowed': 'no'}]
        self._tables["threshold_estimation_v4__age_decline"] = [{'age_min': 18, 'age_max': 35, 'vo2max_decline_pct_year': 0, 'threshold_decline_pct_year': 0, 'hrmax_decline_bpm_year': 0, 'recovery_increase_pct': 0, 'source': 'baseline'}, {'age_min': 36, 'age_max': 45, 'vo2max_decline_pct_year': 0.5, 'threshold_decline_pct_year': 0.4, 'hrmax_decline_bpm_year': 0.5, 'recovery_increase_pct': 5, 'source': 'Tanaka_Seals_2008'}, {'age_min': 46, 'age_max': 55, 'vo2max_decline_pct_year': 0.8, 'threshold_decline_pct_year': 0.6, 'hrmax_decline_bpm_year': 0.6, 'recovery_increase_pct': 15, 'source': 'Reaburn_2008'}, {'age_min': 56, 'age_max': 65, 'vo2max_decline_pct_year': 1.2, 'threshold_decline_pct_year': 1.0, 'hrmax_decline_bpm_year': 0.7, 'recovery_increase_pct': 30, 'source': 'Rittweger_2009'}, {'age_min': 66, 'age_max': 75, 'vo2max_decline_pct_year': 1.8, 'threshold_decline_pct_year': 1.5, 'hrmax_decline_bpm_year': 0.7, 'recovery_increase_pct': 50, 'source': 'Trappe_2013'}, {'age_min': 76, 'age_max': 99, 'vo2max_decline_pct_year': 2.2, 'threshold_decline_pct_year': 2.0, 'hrmax_decline_bpm_year': 0.7, 'recovery_increase_pct': 80, 'source': 'Trappe_2013'}]
        self._tables["threshold_estimation_v4__contraindications"] = [{'condition': 'beta_blockers', 'hr_zones_valid': 'no', 'intensity_allowed': 'rpe_only', 'action_required': 'use_rpe_not_hr', 'rationale': 'hr_artificially_suppressed'}, {'condition': 'arrhythmia', 'hr_zones_valid': 'no', 'intensity_allowed': 'medical_clearance', 'action_required': 'require_cardiologist', 'rationale': 'irregular_hr_unreliable'}, {'condition': 'recent_illness_2wk', 'hr_zones_valid': 'no', 'intensity_allowed': 'z1_z2_only', 'action_required': 'wait_or_medical', 'rationale': 'myocarditis_risk'}, {'condition': 'pregnancy', 'hr_zones_valid': 'no', 'intensity_allowed': 'rpe_only', 'action_required': 'use_rpe_talk_test', 'rationale': 'hemodynamics_changed'}, {'condition': 'age_65_plus_untested', 'hr_zones_valid': 'limited', 'intensity_allowed': 'z1_z3_only', 'action_required': 'require_stress_test', 'rationale': 'safety_first'}, {'condition': 'heart_condition', 'hr_zones_valid': 'no', 'intensity_allowed': 'medical_only', 'action_required': 'require_cardiologist', 'rationale': 'safety_critical'}]
        self._tables["threshold_estimation_v4__availability_constraints"] = [{'constraint': 'sessions_per_week', 'min_value': 2, 'max_value': 7, 'unit': 'sessions', 'rationale': 'minimum_stimulus_maximum_recovery'}, {'constraint': 'minutes_per_session', 'min_value': 30, 'max_value': 180, 'unit': 'minutes', 'rationale': 'minimum_effective_maximum_safe'}, {'constraint': 'weekly_minutes', 'min_value': 60, 'max_value': 1260, 'unit': 'minutes', 'rationale': 'derived_constraint'}]
        self._tables["threshold_estimation_v4__fallback_defaults"] = [{'key': 'threshold_pct_hrmax', 'sex': 'any', 'value': 0.85, 'unit': 'pct', 'rationale': 'conservative_intermediate'}, {'key': 'running_pace', 'sex': 'male', 'value': 5.5, 'unit': 'min_per_km', 'rationale': 'conservative_intermediate_male'}, {'key': 'running_pace', 'sex': 'female', 'value': 6.0, 'unit': 'min_per_km', 'rationale': 'conservative_intermediate_female'}, {'key': 'ftp_wkg', 'sex': 'male', 'value': 2.5, 'unit': 'watts_per_kg', 'rationale': 'conservative_intermediate_male'}, {'key': 'ftp_wkg', 'sex': 'female', 'value': 2.0, 'unit': 'watts_per_kg', 'rationale': 'conservative_intermediate_female'}, {'key': 'default_weight_kg', 'sex': 'male', 'value': 75, 'unit': 'kg', 'rationale': 'average_male_weight'}, {'key': 'default_weight_kg', 'sex': 'female', 'value': 62, 'unit': 'kg', 'rationale': 'average_female_weight'}, {'key': 'default_weight_kg', 'sex': 'any', 'value': 70, 'unit': 'kg', 'rationale': 'average_weight_fallback'}]
        self._tables["threshold_estimation_v4__age_test_recommendations"] = [{'age_min': 13, 'age_max': 64, 'confidence_threshold': 'low', 'recommendation': 'field_test_recommended', 'intensity_limit': 'z3_until_tested', 'warning_message_key': 'test_within_4wk'}, {'age_min': 65, 'age_max': 74, 'confidence_threshold': 'low', 'recommendation': 'stress_test_recommended', 'intensity_limit': 'z2_until_tested', 'warning_message_key': 'stress_test_recommended_65'}, {'age_min': 75, 'age_max': 99, 'confidence_threshold': 'any', 'recommendation': 'medical_clearance_required', 'intensity_limit': 'z2_until_cleared', 'warning_message_key': 'medical_clearance_required_75'}]
        self._tables["threshold_estimation_v4__safety_rules"] = [{'condition': 'beta_blockers', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': False, 'max_intensity': 'rpe_only', 'requires_clearance': False, 'message_key': 'hr_suppressed_use_rpe'}, {'condition': 'arrhythmia', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': False, 'max_intensity': 'medical_only', 'requires_clearance': True, 'message_key': 'irregular_hr_unreliable'}, {'condition': 'recent_illness', 'weeks_min': 0, 'weeks_max': 2, 'hr_zones_valid': False, 'max_intensity': 'z1_z2_only', 'requires_clearance': False, 'message_key': 'myocarditis_risk_rest'}, {'condition': 'recent_illness', 'weeks_min': 2, 'weeks_max': 4, 'hr_zones_valid': True, 'max_intensity': 'z3_max', 'requires_clearance': False, 'message_key': 'gradual_return'}, {'condition': 'recent_illness', 'weeks_min': 4, 'weeks_max': 999, 'hr_zones_valid': True, 'max_intensity': 'full', 'requires_clearance': False, 'message_key': 'recovered'}, {'condition': 'pregnancy', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': False, 'max_intensity': 'rpe_talk_test', 'requires_clearance': False, 'message_key': 'hemodynamics_changed'}, {'condition': 'heart_condition_no_clearance', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': False, 'max_intensity': None, 'requires_clearance': True, 'message_key': 'require_cardiologist'}, {'condition': 'heart_condition_with_clearance', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': True, 'max_intensity': 'as_prescribed', 'requires_clearance': False, 'message_key': 'follow_medical_guidance'}, {'condition': 'age_65_plus_untested', 'weeks_min': 0, 'weeks_max': 999, 'hr_zones_valid': True, 'max_intensity': 'z3_max', 'requires_clearance': False, 'message_key': 'recommend_stress_test'}]
        self._tables["threshold_estimation_v4__message_keys"] = [{'key': 'population_estimate_warning', 'message': 'threshold_values_are_estimates_15_20_pct_recommend_test_4wk'}, {'key': 'stress_test_recommended_65', 'message': 'for_65_plus_recommend_supervised_stress_test_before_z4'}, {'key': 'hr_suppressed_use_rpe', 'message': 'hr_zones_unreliable_due_to_meds_using_rpe_instead'}, {'key': 'test_within_4wk', 'message': 'recommend_field_test_within_4_weeks'}, {'key': 'intensity_limited_low_confidence', 'message': 'z4_plus_limited_until_threshold_validated'}, {'key': 'medical_clearance_required_75', 'message': 'for_75_plus_medical_clearance_required_before_intensity'}, {'key': 'myocarditis_risk_rest', 'message': 'recent_illness_risk_rest_recommended'}, {'key': 'gradual_return', 'message': 'gradual_return_to_intensity_after_illness'}, {'key': 'recovered', 'message': 'fully_recovered_normal_training_allowed'}, {'key': 'irregular_hr_unreliable', 'message': 'hr_irregular_use_rpe_instead'}, {'key': 'require_cardiologist', 'message': 'heart_condition_requires_cardiologist_clearance'}, {'key': 'hemodynamics_changed', 'message': 'pregnancy_hemodynamics_changed_use_talk_test'}, {'key': 'follow_medical_guidance', 'message': 'follow_medical_guidance_for_intensity'}, {'key': 'recommend_stress_test', 'message': 'recommend_supervised_stress_test'}, {'key': 'missing_message_key', 'message': 'message_not_found'}]
        self._tables["planner_policy_v4__validation_thresholds"] = [{'parameter': 'phase_distribution_sum_pct', 'min_value': 95, 'max_value': 105, 'action_if_violated': 'error'}, {'parameter': 'meso_duration_days', 'min_value': 7, 'max_value': 42, 'action_if_violated': 'error'}, {'parameter': 'intensity_sessions_per_zone', 'min_value': 0, 'max_value': 20, 'action_if_violated': 'cap'}]
        self._tables["planner_policy_v4__default_values"] = [{'parameter': 'default_taper_days', 'value': 14, 'unit': 'days', 'notes': 'Used when event type not found'}, {'parameter': 'default_meso_days', 'value': 28, 'unit': 'days', 'notes': 'Standard mesocycle length'}, {'parameter': 'intensity_cap_rounding', 'value': 'ceil', 'unit': '-', 'notes': 'ceil floor or round'}, {'parameter': 'budget_rounding_decimals', 'value': 1, 'unit': '-', 'notes': 'Decimal places for minutes'}]
        self._tables["planner_policy_v4__level_to_intensity_column"] = [{'level': 'beginner', 'intensity_column': 'max_per_meso_novice'}, {'level': 'novice', 'intensity_column': 'max_per_meso_novice'}, {'level': 'intermediate', 'intensity_column': 'max_per_meso_recreational'}, {'level': 'advanced', 'intensity_column': 'max_per_meso_trained'}, {'level': 'elite', 'intensity_column': 'max_per_meso_trained'}]
        self._tables["energy_zones_v4__zone_definitions"] = [{'zone': 'R', 'name': 'Recovery', 'rpe_borg_min': 6, 'rpe_borg_max': 10, 'rpe_min': 0, 'rpe_max': 1, 'hr_pct_min': 0, 'hr_pct_max': 55, 'lactate_min': 0.0, 'lactate_max': 1.0, 'ntiz_credit': False}, {'zone': 'Z1', 'name': 'Very Light', 'rpe_borg_min': 6, 'rpe_borg_max': 11, 'rpe_min': 1, 'rpe_max': 2, 'hr_pct_min': 55, 'hr_pct_max': 72, 'lactate_min': 0.5, 'lactate_max': 1.5, 'ntiz_credit': True}, {'zone': 'Z2', 'name': 'Fairly Light', 'rpe_borg_min': 6, 'rpe_borg_max': 13, 'rpe_min': 2, 'rpe_max': 3, 'hr_pct_min': 72, 'hr_pct_max': 82, 'lactate_min': 1.0, 'lactate_max': 2.0, 'ntiz_credit': True}, {'zone': 'Z3', 'name': 'Somewhat Hard', 'rpe_borg_min': 13, 'rpe_borg_max': 14, 'rpe_min': 4, 'rpe_max': 5, 'hr_pct_min': 82, 'hr_pct_max': 87, 'lactate_min': 1.5, 'lactate_max': 3.5, 'ntiz_credit': True}, {'zone': 'Z4', 'name': 'Hard', 'rpe_borg_min': 14, 'rpe_borg_max': 16, 'rpe_min': 6, 'rpe_max': 7, 'hr_pct_min': 87, 'hr_pct_max': 92, 'lactate_min': 3.5, 'lactate_max': 5.0, 'ntiz_credit': True}, {'zone': 'Z5', 'name': 'Very Hard', 'rpe_borg_min': 16, 'rpe_borg_max': 19, 'rpe_min': 8, 'rpe_max': 10, 'hr_pct_min': 92, 'hr_pct_max': 100, 'lactate_min': 5.0, 'lactate_max': 10.0, 'ntiz_credit': True}, {'zone': 'Z6', 'name': 'Anaerobic', 'rpe_borg_min': 19, 'rpe_borg_max': 20, 'rpe_min': 9, 'rpe_max': 10, 'hr_pct_min': None, 'hr_pct_max': None, 'lactate_min': 10.0, 'lactate_max': 20.0, 'ntiz_credit': True}, {'zone': 'Z7', 'name': 'Maximal Anaerobic', 'rpe_borg_min': 20, 'rpe_borg_max': 20, 'rpe_min': 10, 'rpe_max': 10, 'hr_pct_min': None, 'hr_pct_max': None, 'lactate_min': 10.0, 'lactate_max': 20.0, 'ntiz_credit': True}, {'zone': 'Z8', 'name': 'Sprint', 'rpe_borg_min': None, 'rpe_borg_max': None, 'rpe_min': None, 'rpe_max': None, 'hr_pct_min': None, 'hr_pct_max': None, 'lactate_min': None, 'lactate_max': None, 'ntiz_credit': True}]
        self._tables["energy_zones_v4__zone_classification"] = [{'zone': 'R', 'category': 'restoration', 'is_intensity': False, 'blocks_next_intensity': False, 'easy_allowed_after_hours': 0}, {'zone': 'Z1', 'category': 'easy', 'is_intensity': False, 'blocks_next_intensity': False, 'easy_allowed_after_hours': 0}, {'zone': 'Z2', 'category': 'easy', 'is_intensity': False, 'blocks_next_intensity': False, 'easy_allowed_after_hours': 0}, {'zone': 'Z3', 'category': 'moderate', 'is_intensity': False, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 0}, {'zone': 'Z4', 'category': 'intensity', 'is_intensity': True, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 0}, {'zone': 'Z5', 'category': 'intensity', 'is_intensity': True, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 12}, {'zone': 'Z6', 'category': 'intensity', 'is_intensity': True, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 12}, {'zone': 'Z7', 'category': 'intensity', 'is_intensity': True, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 12}, {'zone': 'Z8', 'category': 'intensity', 'is_intensity': True, 'blocks_next_intensity': True, 'easy_allowed_after_hours': 12}]
        self._tables["energy_zones_v4__day_types"] = [{'day_type': 'off', 'zones': None, 'intensity_recovery_hours': 0, 'easy_allowed_after_hours': 0}, {'day_type': 'recovery', 'zones': 'R', 'intensity_recovery_hours': 0, 'easy_allowed_after_hours': 0}, {'day_type': 'aerobic', 'zones': 'Z1,Z2', 'intensity_recovery_hours': 0, 'easy_allowed_after_hours': 0}, {'day_type': 'development', 'zones': 'Z3', 'intensity_recovery_hours': 48, 'easy_allowed_after_hours': 0}, {'day_type': 'load', 'zones': 'Z4,Z5', 'intensity_recovery_hours': 48, 'easy_allowed_after_hours': 12}, {'day_type': 'anaerobic', 'zones': 'Z6,Z7', 'intensity_recovery_hours': 72, 'easy_allowed_after_hours': 12}, {'day_type': 'sprint', 'zones': 'Z8', 'intensity_recovery_hours': 24, 'easy_allowed_after_hours': 12}]
        self._tables["energy_zones_v4__zone_to_day_type"] = [{'zone': 'R', 'day_type': 'recovery'}, {'zone': 'Z1', 'day_type': 'aerobic'}, {'zone': 'Z2', 'day_type': 'aerobic'}, {'zone': 'Z3', 'day_type': 'development'}, {'zone': 'Z4', 'day_type': 'load'}, {'zone': 'Z5', 'day_type': 'load'}, {'zone': 'Z6', 'day_type': 'anaerobic'}, {'zone': 'Z7', 'day_type': 'anaerobic'}, {'zone': 'Z8', 'day_type': 'sprint'}]
        self._tables["energy_zones_v4__session_durations"] = [{'zone': 'R', 'dev_min': 15, 'dev_max': 30, 'maint_min': 15, 'maint_max': 20}, {'zone': 'Z1', 'dev_min': 180, 'dev_max': 420, 'maint_min': 120, 'maint_max': 240}, {'zone': 'Z2', 'dev_min': 120, 'dev_max': 240, 'maint_min': 60, 'maint_max': 120}, {'zone': 'Z3', 'dev_min': 60, 'dev_max': 90, 'maint_min': 45, 'maint_max': 45}, {'zone': 'Z4', 'dev_min': 40, 'dev_max': 60, 'maint_min': 30, 'maint_max': 30}, {'zone': 'Z5', 'dev_min': 30, 'dev_max': 30, 'maint_min': 15, 'maint_max': 15}, {'zone': 'Z6', 'dev_min': 15, 'dev_max': 15, 'maint_min': 6, 'maint_max': 8}, {'zone': 'Z7', 'dev_min': 5, 'dev_max': 5, 'maint_min': 2, 'maint_max': 3}, {'zone': 'Z8', 'dev_min': 1, 'dev_max': 3, 'maint_min': 0, 'maint_max': 1}]
        self._tables["energy_zones_v4__distribution_targets"] = [{'distribution_type': 'polarized', 'r_z2_min': 75, 'r_z2_max': 85, 'z3_min': 5, 'z3_max': 10, 'z4_z8_min': 10, 'z4_z8_max': 20}]
        self._tables["energy_zones_v4__intensity_session_limits_meso"] = [{'level': 'beginner', 'z3_max': 0, 'z4_max': 0, 'z5_max': 0, 'z6_max': 0, 'z7_max': 0, 'z8_max': 0}, {'level': 'novice', 'z3_max': 4, 'z4_max': 4, 'z5_max': 4, 'z6_max': 0, 'z7_max': 0, 'z8_max': 4}, {'level': 'intermediate', 'z3_max': 8, 'z4_max': 8, 'z5_max': 8, 'z6_max': 4, 'z7_max': 4, 'z8_max': 8}, {'level': 'advanced', 'z3_max': 12, 'z4_max': 12, 'z5_max': 12, 'z6_max': 8, 'z7_max': 8, 'z8_max': 12}, {'level': 'elite', 'z3_max': 16, 'z4_max': 16, 'z5_max': 16, 'z6_max': 12, 'z7_max': 12, 'z8_max': 16}]
        self._tables["energy_zones_v4__talk_test"] = [{'talk_test': 'can_sing', 'zone': 'R'}, {'talk_test': 'paragraphs_easy', 'zone': 'Z1'}, {'talk_test': 'long_sentences', 'zone': 'Z2'}, {'talk_test': 'short_sentences', 'zone': 'Z3'}, {'talk_test': 'few_words', 'zone': 'Z4'}, {'talk_test': 'cannot_speak', 'zone': 'Z5'}, {'talk_test': 'gasping', 'zone': 'Z6'}, {'talk_test': 'impossible', 'zone': 'Z7'}, {'talk_test': 'max_effort', 'zone': 'Z8'}]
        self._tables["energy_zones_v4__special_identifiers"] = [{'identifier': 'recovery_active', 'zone': 'R', 'is_training': False, 'description': 'active restoration, no NTIZ credit'}, {'identifier': 'rest_complete', 'zone': 'REST', 'is_training': False, 'description': 'complete rest, no activity'}, {'identifier': 'off', 'zone': 'OFF', 'is_training': False, 'description': 'scheduled day off'}]
        self._tables["energy_zones_v4__allocation_order"] = [{'zone': 'Z2', 'fill_priority': 1, 'category': 'aerobic'}, {'zone': 'Z1', 'fill_priority': 2, 'category': 'aerobic'}, {'zone': 'Z3', 'fill_priority': 3, 'category': 'aerobic'}, {'zone': 'R', 'fill_priority': 4, 'category': 'restoration'}, {'zone': 'Z5', 'fill_priority': 1, 'category': 'intensity'}, {'zone': 'Z4', 'fill_priority': 2, 'category': 'intensity'}, {'zone': 'Z6', 'fill_priority': 3, 'category': 'intensity'}, {'zone': 'Z7', 'fill_priority': 4, 'category': 'intensity'}, {'zone': 'Z8', 'fill_priority': 5, 'category': 'intensity'}]
        self._tables["energy_zones_v4__scheduling_priority"] = [{'zone': 'Z5', 'priority': 1, 'rationale': 'VO2max most important, schedule first'}, {'zone': 'Z4', 'priority': 2, 'rationale': 'threshold high priority'}, {'zone': 'Z6', 'priority': 3, 'rationale': 'anaerobic capacity'}, {'zone': 'Z7', 'priority': 4, 'rationale': 'neuromuscular power'}, {'zone': 'Z8', 'priority': 5, 'rationale': 'sprint most flexible'}]
        self._tables["energy_zones_v4__zone_interval_constraints"] = [{'zone': 'R', 'work_min_min': 15, 'work_min_max': 30, 'rest_min_min': 0, 'rest_min_max': 0, 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.0, 'is_continuous': True, 'can_be_intervals': False}, {'zone': 'Z1', 'work_min_min': 10, 'work_min_max': 180, 'rest_min_min': 1, 'rest_min_max': 4, 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.2, 'is_continuous': True, 'can_be_intervals': True}, {'zone': 'Z2', 'work_min_min': 10, 'work_min_max': 180, 'rest_min_min': 1, 'rest_min_max': 4, 'rest_ratio_min': 0.0, 'rest_ratio_max': 0.2, 'is_continuous': True, 'can_be_intervals': True}, {'zone': 'Z3', 'work_min_min': 6, 'work_min_max': 30, 'rest_min_min': 2, 'rest_min_max': 8, 'rest_ratio_min': 0.25, 'rest_ratio_max': 1.0, 'is_continuous': False, 'can_be_intervals': True}, {'zone': 'Z4', 'work_min_min': 4, 'work_min_max': 20, 'rest_min_min': 2, 'rest_min_max': 10, 'rest_ratio_min': 0.5, 'rest_ratio_max': 1.5, 'is_continuous': False, 'can_be_intervals': True}, {'zone': 'Z5', 'work_min_min': 1, 'work_min_max': 5, 'rest_min_min': 1, 'rest_min_max': 6, 'rest_ratio_min': 1.0, 'rest_ratio_max': 4.0, 'is_continuous': False, 'can_be_intervals': True}, {'zone': 'Z6', 'work_min_min': 0.5, 'work_min_max': 1.5, 'rest_min_min': 2, 'rest_min_max': 8, 'rest_ratio_min': 2.0, 'rest_ratio_max': 8.0, 'is_continuous': False, 'can_be_intervals': True}, {'zone': 'Z7', 'work_min_min': 0.17, 'work_min_max': 0.5, 'rest_min_min': 2, 'rest_min_max': 6, 'rest_ratio_min': 6.0, 'rest_ratio_max': 20.0, 'is_continuous': False, 'can_be_intervals': True}, {'zone': 'Z8', 'work_min_min': 0.05, 'work_min_max': 0.17, 'rest_min_min': 2, 'rest_min_max': 10, 'rest_ratio_min': 20.0, 'rest_ratio_max': 60.0, 'is_continuous': False, 'can_be_intervals': True}]
        self._tables["energy_zones_v4__level_rest_multipliers"] = [{'level': 'beginner', 'z1_z2_mult': 1.1, 'z3_mult': 1.3, 'z4_mult': 1.4, 'z5_mult': 1.5, 'z6_z8_mult': 1.6}, {'level': 'novice', 'z1_z2_mult': 1.05, 'z3_mult': 1.2, 'z4_mult': 1.25, 'z5_mult': 1.3, 'z6_z8_mult': 1.4}, {'level': 'intermediate', 'z1_z2_mult': 1.0, 'z3_mult': 1.1, 'z4_mult': 1.1, 'z5_mult': 1.15, 'z6_z8_mult': 1.2}, {'level': 'advanced', 'z1_z2_mult': 1.0, 'z3_mult': 1.0, 'z4_mult': 1.0, 'z5_mult': 1.0, 'z6_z8_mult': 1.05}, {'level': 'elite', 'z1_z2_mult': 0.95, 'z3_mult': 0.95, 'z4_mult': 0.95, 'z5_mult': 0.95, 'z6_z8_mult': 1.0}]
        self._tables["energy_zones_v4__age_rest_multipliers"] = [{'age_min': 0, 'age_max': 39, 'rest_multiplier': 1.0, 'max_intensity_zone': 'Z8'}, {'age_min': 40, 'age_max': 54, 'rest_multiplier': 1.15, 'max_intensity_zone': 'Z7'}, {'age_min': 55, 'age_max': 999, 'rest_multiplier': 1.3, 'max_intensity_zone': 'Z5'}]
        self._tables["energy_zones_v4__phase_structure_preferences"] = [{'phase': 'base', 'preferred_frag_min': 0, 'preferred_frag_max': 2, 'preferred_density_min': 0.85, 'preferred_density_max': 1.0, 'continuous_bias': 0.7}, {'phase': 'build', 'preferred_frag_min': 1, 'preferred_frag_max': 4, 'preferred_density_min': 0.7, 'preferred_density_max': 0.9, 'continuous_bias': 0.3}, {'phase': 'peak', 'preferred_frag_min': 2, 'preferred_frag_max': 6, 'preferred_density_min': 0.6, 'preferred_density_max': 0.85, 'continuous_bias': 0.1}, {'phase': 'taper', 'preferred_frag_min': 0, 'preferred_frag_max': 1, 'preferred_density_min': 0.9, 'preferred_density_max': 1.0, 'continuous_bias': 0.8}, {'phase': 'recovery', 'preferred_frag_min': 0, 'preferred_frag_max': 0, 'preferred_density_min': 1.0, 'preferred_density_max': 1.0, 'continuous_bias': 1.0}]
        self._tables["energy_zones_v4__warmup_cooldown_rules"] = [{'day_type': 'intensity', 'base_warmup': 15, 'max_warmup': 20, 'base_cooldown': 10, 'max_cooldown': 15}, {'day_type': 'easy', 'base_warmup': 5, 'max_warmup': 10, 'base_cooldown': 5, 'max_cooldown': 10}, {'day_type': 'recovery', 'base_warmup': 0, 'max_warmup': 0, 'base_cooldown': 0, 'max_cooldown': 0}]
        self._tables["energy_zones_v4__session_prep_multipliers"] = [{'level': 'beginner', 'age_min': 0, 'age_max': 39, 'warmup_mult': 1.2, 'cooldown_mult': 1.1}, {'level': 'beginner', 'age_min': 40, 'age_max': 54, 'warmup_mult': 1.3, 'cooldown_mult': 1.1}, {'level': 'beginner', 'age_min': 55, 'age_max': 999, 'warmup_mult': 1.4, 'cooldown_mult': 1.15}, {'level': 'novice', 'age_min': 0, 'age_max': 39, 'warmup_mult': 1.1, 'cooldown_mult': 1.0}, {'level': 'novice', 'age_min': 40, 'age_max': 54, 'warmup_mult': 1.2, 'cooldown_mult': 1.05}, {'level': 'novice', 'age_min': 55, 'age_max': 999, 'warmup_mult': 1.3, 'cooldown_mult': 1.1}, {'level': 'intermediate', 'age_min': 0, 'age_max': 39, 'warmup_mult': 1.0, 'cooldown_mult': 1.0}, {'level': 'intermediate', 'age_min': 40, 'age_max': 54, 'warmup_mult': 1.1, 'cooldown_mult': 1.0}, {'level': 'intermediate', 'age_min': 55, 'age_max': 999, 'warmup_mult': 1.15, 'cooldown_mult': 1.05}, {'level': 'advanced', 'age_min': 0, 'age_max': 39, 'warmup_mult': 1.0, 'cooldown_mult': 1.0}, {'level': 'advanced', 'age_min': 40, 'age_max': 54, 'warmup_mult': 1.05, 'cooldown_mult': 1.0}, {'level': 'advanced', 'age_min': 55, 'age_max': 999, 'warmup_mult': 1.1, 'cooldown_mult': 1.0}, {'level': 'elite', 'age_min': 0, 'age_max': 39, 'warmup_mult': 1.0, 'cooldown_mult': 1.0}, {'level': 'elite', 'age_min': 40, 'age_max': 54, 'warmup_mult': 1.0, 'cooldown_mult': 1.0}, {'level': 'elite', 'age_min': 55, 'age_max': 999, 'warmup_mult': 1.05, 'cooldown_mult': 1.0}]
        self._tables["energy_zones_v4__zone_effects"] = [{'zone': 'R', 'alpha': 0.0, 'beta': 0.005}, {'zone': 'Z1', 'alpha': 0.01, 'beta': 0.02}, {'zone': 'Z2', 'alpha': 0.02, 'beta': 0.05}, {'zone': 'Z3', 'alpha': 0.04, 'beta': 0.1}, {'zone': 'Z4', 'alpha': 0.08, 'beta': 0.25}, {'zone': 'Z5', 'alpha': 0.15, 'beta': 0.6}, {'zone': 'Z6', 'alpha': 0.25, 'beta': 1.2}, {'zone': 'Z7', 'alpha': 0.4, 'beta': 2.0}, {'zone': 'Z8', 'alpha': 0.5, 'beta': 3.5}]
        self._tables["energy_zones_v4__zone_feel"] = [{'zone': 'R', 'feel_short': 'Easy movement', 'feel_detailed': 'Barely any effort. Could do this all day. Recovery only.', 'cue_start': 'Just move gently', 'cue_during': 'Stay completely relaxed', 'cue_end': 'Good recovery work'}, {'zone': 'Z1', 'feel_short': 'Very easy', 'feel_detailed': 'Comfortable conversation possible. Building aerobic base.', 'cue_start': 'Find your easy rhythm', 'cue_during': 'Full sentences OK', 'cue_end': 'Steady and relaxed'}, {'zone': 'Z2', 'feel_short': 'Comfortable', 'feel_detailed': 'Slight effort but sustainable for hours. Long sentences possible.', 'cue_start': 'Settle into your pace', 'cue_during': 'Controlled breathing', 'cue_end': 'Maintain this feeling'}, {'zone': 'Z3', 'feel_short': 'Working', 'feel_detailed': 'Purposeful effort. Short sentences only. Tempo feeling.', 'cue_start': 'Build into the effort', 'cue_during': 'Keep control, short phrases', 'cue_end': 'Ease off smoothly'}, {'zone': 'Z4', 'feel_short': 'Hard', 'feel_detailed': 'Few words only. Controlled discomfort. Threshold effort.', 'cue_start': 'Build over first 30 seconds', 'cue_during': 'Hold steady, stay focused', 'cue_end': 'You earned that rest'}, {'zone': 'Z5', 'feel_short': 'Very hard', 'feel_detailed': 'Cannot talk. Racing heart. VO2max effort.', 'cue_start': 'Attack from the start', 'cue_during': 'Maximum sustainable effort', 'cue_end': 'Recover fully'}, {'zone': 'Z6', 'feel_short': 'Gasping', 'feel_detailed': 'Near-maximum power. Short bursts only. Anaerobic burn.', 'cue_start': 'Explode into it', 'cue_during': 'Give everything', 'cue_end': 'Complete rest needed'}, {'zone': 'Z7', 'feel_short': 'Maximum', 'feel_detailed': 'Peak power output. Seconds only. All-out effort.', 'cue_start': 'Full power immediately', 'cue_during': 'Absolute maximum', 'cue_end': 'Stop and recover'}, {'zone': 'Z8', 'feel_short': 'Sprint', 'feel_detailed': 'Absolute max speed. 5-15 seconds only. Neuromuscular.', 'cue_start': 'Maximum acceleration', 'cue_during': 'Pure speed', 'cue_end': 'Done, walk it off'}]

    # =========================================================================
    # RAW TABLE ACCESS
    # =========================================================================

    def get_raw_table(self, card: str, table: str) -> List[Dict]:
        """Get raw table data."""
        key = f"{card}__{table}"
        return self._tables.get(key, [])

    def list_tables(self) -> List[str]:
        """List all available tables."""
        return list(self._tables.keys())

    # =========================================================================
    # GATC ENGINE ACCESSORS
    # =========================================================================

    def get_zone_parameters(self, sport: str, level: str) -> Dict[str, Any]:
        """Get Î± and Î² vectors for athlete."""
        import numpy as np
        
        # Get zone effects table
        zone_effects = self.get_raw_table("energy_zones_v4", "zone_effects")
        if not zone_effects:
            raise ValueError("zone_effects table not found")
        
        # Build alpha/beta from table
        alpha_key = f"alpha_{sport}" if f"alpha_{sport}" in zone_effects[0] else "alpha_default"
        beta_key = f"beta_{sport}" if f"beta_{sport}" in zone_effects[0] else "beta_default"
        
        alpha = [row.get(alpha_key, 0.0) or 0.0 for row in zone_effects]
        beta = [row.get(beta_key, 0.0) or 0.0 for row in zone_effects]
        
        # Apply level multipliers
        level_mult = self.get_raw_table("energy_zones_v4", "level_multipliers")
        if level_mult:
            for row in level_mult:
                if row.get("level") == level:
                    alpha = [a * row.get("alpha_mult", 1.0) for a in alpha]
                    beta = [b * row.get("beta_mult", 1.0) for b in beta]
                    break
        
        return {"alpha": np.array(alpha), "beta": np.array(beta)}

    def get_decay_parameters(self, age: int, level: str) -> Dict[str, float]:
        """Get Î» and Î¼ decay rates for athlete."""
        # Base values (from research: Ï„_fitnessâ‰ˆ42d, Ï„_fatigueâ‰ˆ7d)
        base_fitness_decay = 0.024  # 1/42
        base_fatigue_decay = 0.143  # 1/7
        
        # Age modifier from recovery card
        recovery = self.get_raw_table("recovery_v4", "age_recovery_modifiers")
        age_mult = 1.0
        if recovery:
            for row in recovery:
                age_min = row.get("age_min", 0)
                age_max = row.get("age_max", 999)
                if age_min <= age <= age_max:
                    age_mult = row.get("recovery_multiplier", 1.0) or 1.0
                    break
        
        # Level modifier
        level_mults = {
            "beginner": {"fitness": 1.1, "fatigue": 0.9},
            "novice": {"fitness": 1.05, "fatigue": 0.95},
            "intermediate": {"fitness": 1.0, "fatigue": 1.0},
            "advanced": {"fitness": 0.95, "fatigue": 1.05},
            "elite": {"fitness": 0.9, "fatigue": 1.1}
        }
        lm = level_mults.get(level, level_mults["intermediate"])
        
        return {
            "fitness_decay": base_fitness_decay * lm["fitness"],
            "fatigue_decay": base_fatigue_decay * age_mult * lm["fatigue"]
        }

    def get_d_max(self, level: str, age: int) -> float:
        """Get maximum fatigue threshold."""
        base = {"beginner": 80, "novice": 100, "intermediate": 130,
                "advanced": 160, "elite": 200}
        d = base.get(level, 130)
        if age > 50: d *= 0.85
        elif age > 40: d *= 0.92
        return d

    def get_phase_distribution(self, phase: str) -> Dict[str, float]:
        """Get target zone distribution for phase."""
        phases = self.get_raw_table("periodization_v4", "phase_zone_distribution")
        if phases:
            for row in phases:
                if row.get("phase") == phase:
                    return row
        return {}

    def get_zone_caps(self, level: str) -> Dict[str, int]:
        """Get zone caps per meso for level."""
        caps = self.get_raw_table("ntiz_dose_v4", "zone_caps_per_meso")
        if caps:
            for row in caps:
                if row.get("level") == level:
                    return row
        return {}

    def get_recovery_hours(self, zone: str) -> Dict[str, int]:
        """Get recovery spacing after zone."""
        recovery = self.get_raw_table("energy_zones_v4", "zone_classification")
        if recovery:
            for row in recovery:
                if row.get("zone") == zone:
                    return {
                        "to_intensity": row.get("intensity_recovery_hours", 48),
                        "to_easy": row.get("easy_allowed_after_hours", 0)
                    }
        return {"to_intensity": 48, "to_easy": 12}

    @classmethod
    def load(cls) -> "Tables":
        """Factory method to load tables."""
        return cls()